(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var bundleFn=arguments[3],sources=arguments[4],cache=arguments[5],stringify=JSON.stringify;module.exports=function(r,e){function t(r){d[r]=!0;for(var e in sources[r][1]){var n=sources[r][1][e];d[n]||t(n)}}for(var n,o=Object.keys(cache),a=0,i=o.length;a<i;a++){var s=o[a],u=cache[s].exports;if(u===r||u&&u.default===r){n=s;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var f={},a=0,i=o.length;a<i;a++){var s=o[a];f[s]=s}sources[n]=[Function(["require","module","exports"],"("+r+")(self)"),f]}var c=Math.floor(Math.pow(16,8)*Math.random()).toString(16),l={};l[n]=n,sources[c]=[Function(["require"],"var f = require("+stringify(n)+");(f.default ? f.default : f)(self);"),l];var d={};t(c);var g="("+bundleFn+")({"+Object.keys(d).map(function(r){return stringify(r)+":["+sources[r][0]+","+stringify(sources[r][1])+"]"}).join(",")+"},{},["+stringify(c)+"])",v=window.URL||window.webkitURL||window.mozURL||window.msURL,w=new Blob([g],{type:"text/javascript"});if(e&&e.bare)return w;var h=v.createObjectURL(w),b=new Worker(h);return b.objectURL=h,b};
},{}],2:[function(require,module,exports){
"use strict";function Data(){}module.exports=new Data;

},{}],3:[function(require,module,exports){
"use strict";var g_data=require("../data/index.js"),webworkify=require("webworkify"),ChunkGenerator=function(){var s=this;this._running=!1,this._chunks=[],this._chunk_queue=[],this._geoms=[],this._saved_index=[1,0,0],this._myWorker_buffer=new Float32Array(1e5),this._myWorker=webworkify(require("./ChunkGenerator_worker.js")),this._myWorker_status=1,this._myWorker.addEventListener("message",function(e){if(s._myWorker_buffer=e.data.vertices,s._myWorker_status=1,s._running){var _=e.data.pos,t=null;0==s._geoms.length?t=g_data.add_geom(s._myWorker_buffer):(t=s._geoms.pop(),g_data.update_geom(t,s._myWorker_buffer)),null===t?console.log("worker: processing the result -> invalid geom"):(console.log("worker: processing the result -> valid geom"),s._chunks.push({pos:_,geom:t}),s.is_processing_chunk=!1,s._launch_worker())}})},proto=ChunkGenerator.prototype;proto.start=function(){this._running=!0},proto.stop=function(){this._running&&(this._running=!1,this._chunk_queue.length=0,this._chunks.length=0,this._geoms.length=0)},proto.update=function(s){if(this._running){this._camera_pos=s;var e=[0|Math.floor(s[0]/g_data.logic.k_chunk_size),0|Math.floor(s[1]/g_data.logic.k_chunk_size),0|Math.floor(s[2]/g_data.logic.k_chunk_size)];if(0==this._chunks.length||e[0]!=this._saved_index[0]||e[1]!=this._saved_index[1]||e[2]!=this._saved_index[2]){this._saved_index[0]=e[0],this._saved_index[1]=e[1],this._saved_index[2]=e[2],this._chunk_queue.length=0;for(var _=3,t=new Int32Array([e[0]-_|0,e[1]-_|0,e[2]-_|0]),i=new Int32Array([e[0]+_|0,e[1]+_|0,e[2]+_|0]),h=0;h<this._chunks.length;++h){var n=[this._chunks[h].pos[0]/g_data.logic.k_chunk_size|0,this._chunks[h].pos[1]/g_data.logic.k_chunk_size|0,this._chunks[h].pos[2]/g_data.logic.k_chunk_size|0];(n[0]<t[0]||n[0]>i[0]||n[1]<t[1]||n[1]>i[1]||n[2]<t[2]||n[2]>i[2])&&(this._geoms.push(this._chunks[h].geom),this._chunks.splice(h,1),h--)}for(var r=t[2];r<=i[2];++r)for(var o=t[1];o<=i[1];++o)for(var u=t[0];u<=i[0];++u){for(var a=[u*g_data.logic.k_chunk_size,o*g_data.logic.k_chunk_size,r*g_data.logic.k_chunk_size],c=!1,k=0;k<this._chunks.length;++k)if(this._chunks[k].pos[0]===a[0]&&this._chunks[k].pos[1]===a[1]&&this._chunks[k].pos[2]===a[2]){c=!0;break}c||this._chunk_queue.push(a)}this._launch_worker()}}},proto._launch_worker=function(){function s(s,e,_){return Math.sqrt(s*s+e*e+_*_)}if(1==this._myWorker_status&&0!=this._chunk_queue.length){if(1==this._chunk_queue.length)this.processing_pos=this._chunk_queue.pop();else{for(var e=-1,_=9999,t=null,i=0;i<this._chunk_queue.length;++i){var h=this._chunk_queue[i];if(e==-1||g_data.chunk_is_visible(h)){var n=s(this._camera_pos[0]-h[0]-g_data.logic.k_chunk_size/2,this._camera_pos[1]-h[1]-g_data.logic.k_chunk_size/2,this._camera_pos[2]-h[2]-g_data.logic.k_chunk_size/2);if(_<n)continue;e=i,_=n,t=this._chunk_queue[e]}}this._chunk_queue.splice(e,1),this.processing_pos=t}this.is_processing_chunk=!0,this._myWorker_status=2,this._myWorker.postMessage({pos:this.processing_pos,buf:this._myWorker_buffer},[this._myWorker_buffer.buffer])}},module.exports=ChunkGenerator;
},{"../data/index.js":2,"./ChunkGenerator_worker.js":4,"webworkify":1}],4:[function(require,module,exports){
var createMarchinCube=require("./helpers/MarchingCube.js"),createClassicalNoise=require("./helpers/ClassicalNoise.js"),createRandomiser=require("./helpers/Randomiser.js");module.exports=function(e){function r(e,r,a){return i.noise_ex(e,r,a)}var a=15,s=new createRandomiser,i=new createClassicalNoise(s),n=new createMarchinCube(a,0,r);e.addEventListener("message",function(r){function a(e,r,a){i[c++]=e[0],i[c++]=e[1],i[c++]=e[2],i[c++]=r[0],i[c++]=r[1],i[c++]=r[2],i[c++]=a[0],i[c++]=a[1],i[c++]=a[2];var s=o[t];t=(t+1)%3,i[c++]=s[0],i[c++]=s[1],i[c++]=s[2]}var s=r.data.pos,i=r.data.buf,c=0,t=0,o=[[1,0,0],[0,1,0],[0,0,1]];n.marchCube(s,a),e.postMessage({pos:s,vertices:i},[i.buffer])})};
},{"./helpers/ClassicalNoise.js":5,"./helpers/MarchingCube.js":6,"./helpers/Randomiser.js":7}],5:[function(require,module,exports){
"use strict";var ClassicalNoise=function(t,i,s,r){this._octaves=i||1,this._frequency=s||1,this._amplitude=r||.5,void 0==t&&(t=Math),this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.p=new Uint8Array(256);for(var h=0;h<256;++h)this.p[h]=0|Math.floor(256*t.random());this.perm=new Uint8Array(512);for(var h=0;h<512;++h)this.perm[h]=0|this.p[255&h]},proto=ClassicalNoise.prototype;proto.noise_ex=function(t,i,s){for(var r=0,h=this._amplitude,e=t*this._frequency,o=i*this._frequency,p=s*this._frequency,m=0;m<this._octaves;++m)r+=this.noise(e,o,p)*h,e*=2,o*=2,p*=2,h*=.5;return r},proto.dot=function(t,i,s,r){return t[0]*i+t[1]*s+t[2]*r},proto.mix=function(t,i,s){return(1-s)*t+s*i},proto.fade=function(t){return t*t*t*(t*(6*t-15)+10)},proto.noise=function(t,i,s){var r=0|Math.floor(t),h=0|Math.floor(i),e=0|Math.floor(s);t-=r,i-=h,s-=e,r=255&r|0,h=255&h|0,e=255&e|0;var o=this.perm[r+this.perm[h+this.perm[e]]]%12|0,p=this.perm[r+this.perm[h+this.perm[e+1]]]%12|0,m=this.perm[r+this.perm[h+1+this.perm[e]]]%12|0,a=this.perm[r+this.perm[h+1+this.perm[e+1]]]%12|0,n=this.perm[r+1+this.perm[h+this.perm[e]]]%12|0,d=this.perm[r+1+this.perm[h+this.perm[e+1]]]%12|0,f=this.perm[r+1+this.perm[h+1+this.perm[e]]]%12|0,u=this.perm[r+1+this.perm[h+1+this.perm[e+1]]]%12|0,c=this.dot(this.grad3[o],t,i,s),l=this.dot(this.grad3[n],t-1,i,s),x=this.dot(this.grad3[m],t,i-1,s),g=this.dot(this.grad3[f],t-1,i-1,s),v=this.dot(this.grad3[p],t,i,s-1),_=this.dot(this.grad3[d],t-1,i,s-1),y=this.dot(this.grad3[a],t,i-1,s-1),M=this.dot(this.grad3[u],t-1,i-1,s-1),q=this.fade(t),C=this.fade(i),N=this.fade(s),w=this.mix(c,l,q),A=this.mix(v,_,q),U=this.mix(x,g,q),b=this.mix(y,M,q),j=this.mix(w,U,C),k=this.mix(A,b,C),z=this.mix(j,k,N);return z},module.exports=ClassicalNoise;

},{}],6:[function(require,module,exports){
"use strict";function fgetOffset(t,e,i){var s=e-t;return 0==s?.5:(i-t)/s}function vgetColor(t){var e=t[0],i=t[1],s=t[2];return[(e>0?e:0)+(i<0?-.5*i:0)+(s<0?-.5*s:0),(i>0?i:0)+(s<0?-.5*s:0)+(e<0?-.5*e:0),(s>0?s:0)+(e<0?-.5*e:0)+(i<0?-.5*i:0)]}function vNormalizeVector(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);if(0==e)return t;var i=1/e;return[t[0]*i,t[1]*i,t[2]*i]}var MarchingCube=function(t,e,i,s){this.chunk_size=t,this.fTv=e,this.sample=i,this.tetra=!0,this.current_index=0,this.step_size=1/this.chunk_size,this.a2fVertexOffset=[[0,0,0],[1,0,0],[1,1,0],[0,1,0],[0,0,1],[1,0,1],[1,1,1],[0,1,1]],this.a2iEdgeConnection=[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[1,5],[2,6],[3,7]],this.a2fEdgeDirection=[[1,0,0],[0,1,0],[-1,0,0],[0,-1,0],[1,0,0],[0,1,0],[-1,0,0],[0,-1,0],[0,0,1],[0,0,1],[0,0,1],[0,0,1]],this.a2iTetrahedronEdgeConnection=[[0,1],[1,2],[2,0],[0,3],[1,3],[2,3]],this.a2iTetrahedronsInACube=[[0,5,1,6],[0,1,2,6],[0,2,3,6],[0,3,7,6],[0,7,4,6],[0,4,5,6]],this.aiTetrahedronEdgeFlags=[0,13,19,30,38,43,53,56,56,53,43,38,30,19,13,0],this.a2iTetrahedronTriangles=[[-1,-1,-1,-1,-1,-1,-1],[0,3,2,-1,-1,-1,-1],[0,1,4,-1,-1,-1,-1],[1,4,2,2,4,3,-1],[1,2,5,-1,-1,-1,-1],[0,3,5,0,5,1,-1],[0,2,5,0,5,4,-1],[5,4,3,-1,-1,-1,-1],[3,4,5,-1,-1,-1,-1],[4,5,0,5,2,0,-1],[1,5,0,5,3,0,-1],[5,2,1,-1,-1,-1,-1],[3,4,2,2,4,1,-1],[4,1,0,-1,-1,-1,-1],[2,3,0,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1]],this.aiCubeEdgeFlags=[0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0],this.a2iTriangleConnectionTable=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1],[3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1],[3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1],[3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1],[9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1],[9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1],[2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1],[8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1],[9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1],[4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1],[3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1],[1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1],[4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1],[4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1],[9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1],[1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1],[5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1],[2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1],[9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1],[0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1],[2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1],[10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1],[4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1],[5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1],[5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1],[9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1],[0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1],[1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1],[10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1],[8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1],[2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1],[7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1],[9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1],[2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1],[11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1],[9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1],[5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1],[11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1],[11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1],[1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1],[9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1],[5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1],[2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1],[0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1],[5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1],[6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1],[0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1],[3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1],[6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1],[5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1],[1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1],[10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1],[6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1],[1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1],[8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1],[7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1],[3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1],[5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1],[0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1],[9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1],[8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1],[5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1],[0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1],[6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1],[10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1],[10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1],[8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1],[1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1],[3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1],[0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1],[10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1],[0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1],[3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1],[6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1],[9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1],[8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1],[3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1],[6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1],[0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1],[10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1],[10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1],[1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1],[2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1],[7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1],[7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1],[2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1],[1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1],[11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1],[8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1],[0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1],[7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1],[10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1],[2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1],[6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1],[7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1],[2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1],[1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1],[10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1],[10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1],[0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1],[7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1],[6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1],[8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1],[9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1],[6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1],[4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1],[10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1],[8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1],[0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1],[1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1],[8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1],[10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1],[4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1],[10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1],[5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1],[11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1],[9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1],[6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1],[7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1],[3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1],[7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1],[9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1],[3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1],[6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1],[9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1],[1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1],[4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1],[7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1],[6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1],[3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1],[0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1],[6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1],[0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1],[11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1],[6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1],[5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1],[9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1],[1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1],[1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1],[10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1],[0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1],[5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1],[10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1],[11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1],[9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1],[7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1],[2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1],[8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1],[9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1],[9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1],[1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1],[9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1],[9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1],[5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1],[0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1],[10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1],[2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1],[0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1],[0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1],[9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1],[5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1],[3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1],[5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1],[8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1],[0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1],[9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1],[0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1],[1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1],[3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1],[4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1],[9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1],[11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1],[11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1],[2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1],[9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1],[3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1],[1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1],[4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1],[4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1],[0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1],[3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1],[3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1],[0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1],[9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1],[1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]]},proto=MarchingCube.prototype;proto.getNormal=function(t,e,i){var s=.1*this.step_size,r=[this.sample(t-s,e,i)-this.sample(t+s,e,i),this.sample(t,e-s,i)-this.sample(t,e+s,i),this.sample(t,e,i-s)-this.sample(t,e,i+s)];return vNormalizeVector(r)},proto.getNormal2=function(t,e,i){var s=e[0]-t[0],r=e[1]-t[1],h=e[2]-t[2],a=i[0]-t[0],n=i[1]-t[1],o=i[2]-t[2],f=[r*o-h*n,h*a-s*o,s*n-r*a];Math.sqrt(f[0]*f[0]+f[1]*f[1]+f[2]*f[2]);return f},proto.marchCube=function(t,e){this.current_geom_callback=e;for(var i=0;i<=this.chunk_size;++i)for(var s=0;s<=this.chunk_size;++s)for(var r=0;r<=this.chunk_size;++r)this.marchCube_single(t[0]+i,t[1]+s,t[2]+r);this.current_geom_callback=null},proto.marchCube_single=function(t,e,i){var s,r,h,a,n,o,f,c=0,g=[0,0,0,0,0,0,0,0],l=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],u=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],_=t*this.step_size,p=e*this.step_size,v=i*this.step_size;for(r=0;r<8;++r)g[r]=this.sample(_+this.a2fVertexOffset[r][0]*this.step_size,p+this.a2fVertexOffset[r][1]*this.step_size,v+this.a2fVertexOffset[r][2]*this.step_size);for(o=0,h=0;h<8;++h)g[h]<=this.fTv&&(o|=1<<h);if(f=this.aiCubeEdgeFlags[o],0!=f){for(a=0;a<12;++a)f&1<<a&&(c=fgetOffset(g[this.a2iEdgeConnection[a][0]],g[this.a2iEdgeConnection[a][1]],this.fTv),l[a][0]=_+(this.a2fVertexOffset[this.a2iEdgeConnection[a][0]][0]+c*this.a2fEdgeDirection[a][0])*this.step_size,l[a][1]=p+(this.a2fVertexOffset[this.a2iEdgeConnection[a][0]][1]+c*this.a2fEdgeDirection[a][1])*this.step_size,l[a][2]=v+(this.a2fVertexOffset[this.a2iEdgeConnection[a][0]][2]+c*this.a2fEdgeDirection[a][2])*this.step_size,u[a]=this.getNormal(l[a][0],l[a][1],l[a][2]));for(n=0;n<5&&!(this.a2iTriangleConnectionTable[o][3*n]<0);++n)for(var s=0;s<3;++s){r=this.a2iTriangleConnectionTable[o][3*n+s];var d=vgetColor(u[r]),z=[l[r][0]*this.chunk_size,l[r][1]*this.chunk_size,l[r][2]*this.chunk_size],C=u[r];this.current_geom_callback&&this.current_geom_callback(z,d,C)}}},proto.vMarchCube2=function(t,e,i){for(var s=t*this.step_size,r=e*this.step_size,h=i*this.step_size,a=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],n=0;n<8;n++)a[n][0]=s+this.a2fVertexOffset[n][0]*this.step_size,a[n][1]=r+this.a2fVertexOffset[n][1]*this.step_size,a[n][2]=h+this.a2fVertexOffset[n][2]*this.step_size;for(var o=[0,0,0,0,0,0,0,0],n=0;n<8;n++)o[n]=this.sample(a[n][0],a[n][1],a[n][2]);for(var f=[[0,0,0],[0,0,0],[0,0,0],[0,0,0]],c=[0,0,0,0],g=0;g<6;g++){for(var n=0;n<4;n++){var l=this.a2iTetrahedronsInACube[g][n];f[n][0]=a[l][0],f[n][1]=a[l][1],f[n][2]=a[l][2],c[n]=o[l]}this.vMarchTetrahedron(f,c)}},proto.vMarchTetrahedron=function(t,e){var i,s,r,h,a,n,o,f,c,g=0,l=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],u=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]];for(o=0;o<4;o++)e[o]<=this.fTv&&(g|=1<<o);if(h=this.aiTetrahedronEdgeFlags[g],0!=h){for(i=0;i<6;i++)h&1<<i&&(s=this.a2iTetrahedronEdgeConnection[i][0],r=this.a2iTetrahedronEdgeConnection[i][1],f=fgetOffset(e[s],e[r],this.fTv),c=1-f,l[i][0]=c*t[s][0]+f*t[r][0],l[i][1]=c*t[s][1]+f*t[r][1],l[i][2]=c*t[s][2]+f*t[r][2],u[i]=this.getNormal(l[i][0],l[i][1],l[i][2]));for(a=0;a<2&&!(this.a2iTetrahedronTriangles[g][3*a]<0);a++)for(n=0;n<3;n++){o=this.a2iTetrahedronTriangles[g][3*a+n];var _=vgetColor(u[o]),p=[l[o][0]*this.chunk_size,l[o][1]*this.chunk_size,l[o][2]*this.chunk_size],v=u[o];this.current_geom_callback&&this.current_geom_callback(p,_,v)}}},module.exports=MarchingCube;
},{}],7:[function(require,module,exports){
"use strict";var Randomiser=function(){this.RAND_MAX=-2147483648,this.s_seed=1},proto=Randomiser.prototype;proto.random=function(){var s,e,t;0==this.s_seed&&(this.s_seed=123459876),s=this.s_seed/127773|0,e=this.s_seed%127773|0,t=16807*e-2836*s|0,t<0&&(t+=2147483647),this.s_seed=t;var o=t%(this.RAND_MAX+1)|0;return o/-this.RAND_MAX},proto.srandom=function(s){this.s_seed=0|s},module.exports=Randomiser;

},{}],8:[function(require,module,exports){
"use strict";function WebGLExperiment(){function e(e){try{var t=e.targetTouches;g_data.arr_touches.length=0;for(var n=0;n<t.length;++n)g_data.arr_touches.push({x:t[n].pageX,y:t[n].pageY})}catch(e){alert(e)}}function t(){var e=document.getElementById("canvasesdiv"),t=document.getElementById("main-canvas"),r=document.getElementById("second-canvas"),o=null,i=null;document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement?(e.style.position="absolute",o=window.innerWidth,i=window.innerHeight):(e.style.position="relative",o=800,i=600),e.style.left="0px",e.style.top="0px",t.width=r.width=o,t.height=r.height=i,n.RendererWebGL.resize(o,i),n.RendererCanvas.resize(o,i)}var n=this;g_data.arr_touches=[],g_data.logic={},g_data.logic.k_chunk_size=15;var r=require("./generation/ChunkGenerator.js");g_data.logic.ChunkGenerator=new r,"ontouchstart"in window?document.getElementById("touch_id").innerHTML+="Supported":document.getElementById("touch_id").innerHTML+="Not Supported";var o=document.getElementById("fpsmeter");this.myFpsmeter=new window.FPSMeter(o,window.FPSMeter.theme.transparent);var i=document.getElementById("canvasesdiv");i.addEventListener("touchstart",e),i.addEventListener("touchend",function(e){g_data.arr_touches.length=0}),i.addEventListener("touchmove",e);var s=require("./rendererCanvas/index.js");this.RendererCanvas=new s;var a=require("./rendererWebGL/index.js");this.RendererWebGL=new a,g_data.chunk_is_visible=function(e){return n.RendererWebGL.chunk_is_visible(e)},g_data.point_is_visible=function(e){return n.RendererWebGL.point_is_visible(e)},g_data.add_geom=function(e){return n.RendererWebGL.add_geom(e)},g_data.update_geom=function(e,t){return n.RendererWebGL.update_geom(e,t)};var d=document.getElementById("gui_fullscreen");d.addEventListener("click",function(){var e=document.getElementById("canvasesdiv");e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}),document.addEventListener("fullscreenchange",t,!1),document.addEventListener("mozfullscreenchange",t,!1),document.addEventListener("webkitfullscreenchange",t,!1),document.addEventListener("msfullscreenchange",t,!1),this._running=!1,n._error_gcontext=!1,this.RendererWebGL.set_on_context_lost(function(){console.log("on_context_lost"),n._error_gcontext=!0,n.stop()}),this.RendererWebGL.set_on_context_restored(function(){console.log("on_context_restored"),n._error_gcontext=!1,n.start()})}var g_data=require("./data/index.js");require("./utils/fpsmeter.js");var proto=WebGLExperiment.prototype;proto.start=function(){if(!this.isRunning()){var e=this;this.RendererWebGL.init(function(){e._running=!0,g_data.logic.ChunkGenerator.start(),e._tick()})}},proto.stop=function(){this._running=!1,g_data.logic.ChunkGenerator.stop()},proto.isRunning=function(){return this._running&&!this._error_gcontext},proto._tick=function(){function e(){t._running&&!t._error_gcontext&&(window.requestAnimFrame(e),t._main_loop())}var t=this;e()},proto._main_loop=function(){this.myFpsmeter.tickStart();var e=this.RendererWebGL.getCameraPosition();g_data.logic.ChunkGenerator.update(e),this.RendererWebGL.update(),this.RendererWebGL.render(),this.RendererWebGL.renderHUD(),this.RendererCanvas.render(),this.myFpsmeter.tick()},module.exports=WebGLExperiment;
},{"./data/index.js":2,"./generation/ChunkGenerator.js":3,"./rendererCanvas/index.js":10,"./rendererWebGL/index.js":21,"./utils/fpsmeter.js":26}],9:[function(require,module,exports){
"use strict";var canvas=document.getElementById("second-canvas"),ctx=canvas.getContext("2d");ctx.width=canvas.width,ctx.height=canvas.height,module.exports=ctx;

},{}],10:[function(require,module,exports){
"use strict";function RendererCanvas(){}var g_data=require("../data/index.js"),ctx=require("./context.js"),proto=RendererCanvas.prototype;proto.resize=function(t,e){ctx.width=t,ctx.height=e},proto.render=function(){ctx.clearRect(0,0,ctx.width,ctx.height),ctx.beginPath(),ctx.lineWidth="5",ctx.strokeStyle="green",ctx.moveTo(0,0),ctx.lineTo(0,ctx.height),ctx.lineTo(ctx.width,ctx.height),ctx.lineTo(ctx.width,0),ctx.lineTo(0,0),ctx.stroke(),ctx.font="15px Arial",ctx.textAlign="center",ctx.fillStyle="white",ctx.lineWidth="7",ctx.strokeStyle="green";for(var t=g_data.logic.ChunkGenerator._chunks,e=0;e<t.length;++e){var c=t[e].pos;if(t[e].visible&&g_data.point_is_visible(c)){var o=t[e].coord2d;if(o){var r=o[0],i=o[1];ctx.beginPath(),ctx.moveTo(r,i-15),ctx.lineTo(r,i+15),ctx.stroke(),ctx.moveTo(r-15,i),ctx.lineTo(r+15,i),ctx.stroke();var x="";x+=c[0]/g_data.logic.k_chunk_size+"/",x+=c[1]/g_data.logic.k_chunk_size+"/",x+=c[2]/g_data.logic.k_chunk_size,ctx.fillText(x,r,i)}}}ctx.beginPath(),ctx.lineWidth="5",ctx.strokeStyle="red";for(var e=0;e<g_data.arr_touches.length;++e){var r=g_data.arr_touches[e].x,i=g_data.arr_touches[e].y;ctx.moveTo(r,i-150),ctx.lineTo(r,i+150),ctx.stroke(),ctx.moveTo(r-150,i),ctx.lineTo(r+150,i),ctx.stroke(),g_data.FreeFlyCamera._force_forward&&(ctx.moveTo(r-100,i-100),ctx.lineTo(r+100,i+100),ctx.stroke(),ctx.moveTo(r-100,i+100),ctx.lineTo(r+100,i-100),ctx.stroke())}},module.exports=RendererCanvas;

},{"../data/index.js":2,"./context.js":9}],11:[function(require,module,exports){
"use strict";var glm=require("../utils/gl-matrix-2.3.2.min.js"),createKeyboardHandler=require("./helpers/KeyboardHandler.js"),handle_pointerLock=require("./helpers/pointerLock.js"),FreeFlyCamera=function(){function t(){r.addEventListener("mousemove",i,!1)}function e(){r.removeEventListener("mousemove",i,!1)}function i(t){var e=t.movementX||t.mozMovementX||t.webkitMovementX||0,i=t.movementY||t.mozMovementY||t.webkitMovementY||0;s._theta-=e/5,s._phi-=i/5}this._phi=0,this._theta=0,this._Forward=[1,0,0],this._Left=[0,0,0],this._Position=[0,0,0],this._Target=[0,0,0],this._movementFlag=0,this._keybrdHdl=new createKeyboardHandler,this._force_forward=!1;var s=this,r=document.getElementById("canvasesdiv");handle_pointerLock(r,t,e);try{var o=document.getElementById("canvasesdiv"),h=null,a=null,d=null;o.addEventListener("touchstart",function(t){try{t.preventDefault(),h=null,a=null;var e=Date.now();1==t.targetTouches.length&&d&&e-d<250&&(s._force_forward=!0),d=e}catch(t){alert(t)}}),o.addEventListener("touchend",function(t){try{t.preventDefault(),h=null,a=null,s._force_forward=!1}catch(t){alert(t)}}),o.addEventListener("touchmove",function(t){try{t.preventDefault();var e=t.targetTouches;if(0==e.length||e.length>2)return;if(2==e.length){var i=e[0].pageX-e[1].pageX,r=e[0].pageY-e[1].pageY,o=Math.sqrt(i*i+r*r);a&&(o>a?s._movementFlag|=1:s._movementFlag|=2),a=o}else{if(h){var d=h.pageX-e[0].pageX,_=h.pageY-e[0].pageY;s._theta-=d/5,s._phi-=_/5}h=e[0]}}catch(t){alert(t)}})}catch(t){alert("TOUCH="+JSON.stringify(t))}},proto=FreeFlyCamera.prototype;proto.update=function(t){this.handleKeys();var e=16;if(1&this._movementFlag||1==this._force_forward)for(var i=0;i<3;++i)this._Position[i]+=this._Forward[i]*t*e;else if(2&this._movementFlag)for(var i=0;i<3;++i)this._Position[i]-=this._Forward[i]*t*e;if(4&this._movementFlag)for(var i=0;i<3;++i)this._Position[i]-=this._Left[i]*t*e;else if(8&this._movementFlag)for(var i=0;i<3;++i)this._Position[i]+=this._Left[i]*t*e;this._movementFlag=0,this._phi=Math.max(Math.min(this._phi,89),-89);var s=[0,0,1],r=Math.cos(3.14*(this._phi-90)/180);s[2]=Math.sin(3.14*(this._phi-90)/180),s[0]=r*Math.cos(3.14*this._theta/180),s[1]=r*Math.sin(3.14*this._theta/180);var o=Math.cos(3.14*this._phi/180);this._Forward[2]=Math.sin(3.14*this._phi/180),this._Forward[0]=o*Math.cos(3.14*this._theta/180),this._Forward[1]=o*Math.sin(3.14*this._theta/180),this._Left[0]=s[1]*this._Forward[2]-s[2]*this._Forward[1],this._Left[1]=s[2]*this._Forward[0]-s[0]*this._Forward[2],this._Left[2]=s[0]*this._Forward[1]-s[1]*this._Forward[0],this._Target[0]=this._Position[0]+this._Forward[0],this._Target[1]=this._Position[1]+this._Forward[1],this._Target[2]=this._Position[2]+this._Forward[2]},proto.updateViewMatrix=function(t){glm.mat4.lookAt(t,this._Position,this._Target,[0,0,1])},proto.setPosition=function(t,e,i){this._Position[0]=t,this._Position[1]=e,this._Position[2]=i},proto.handleKeys=function(){try{(this._keybrdHdl.isPressed(this._keybrdHdl.keyCodes.KEY_Z)||this._keybrdHdl.isPressed(this._keybrdHdl.keyCodes.KEY_W))&&(this._movementFlag|=1),this._keybrdHdl.isPressed(this._keybrdHdl.keyCodes.KEY_S)&&(this._movementFlag|=2),(this._keybrdHdl.isPressed(this._keybrdHdl.keyCodes.KEY_A)||this._keybrdHdl.isPressed(this._keybrdHdl.keyCodes.KEY_Q))&&(this._movementFlag|=4),this._keybrdHdl.isPressed(this._keybrdHdl.keyCodes.KEY_D)&&(this._movementFlag|=8),this._keybrdHdl.isPressed(this._keybrdHdl.keyCodes.ARROW_UP)&&this._phi++,this._keybrdHdl.isPressed(this._keybrdHdl.keyCodes.ARROW_DOWN)&&this._phi--,this._keybrdHdl.isPressed(this._keybrdHdl.keyCodes.ARROW_LEFT)&&this._theta++,this._keybrdHdl.isPressed(this._keybrdHdl.keyCodes.ARROW_RIGHT)&&this._theta--}catch(t){alert(t)}},proto.activate=function(){this._keybrdHdl.activate()},proto.deactivate=function(){this._keybrdHdl.deactivate()},module.exports=FreeFlyCamera;

},{"../utils/gl-matrix-2.3.2.min.js":23,"./helpers/KeyboardHandler.js":14,"./helpers/pointerLock.js":15}],12:[function(require,module,exports){
"use strict";var FrustumCulling=function(){this.e_FrustumSide={eRight:0,eLeft:1,eBottom:2,eTop:3,eBack:4,eFront:5},this.e_PlaneData={eA:0,eB:1,eC:2,eD:3},this._Frustum=new Float32Array(24)},proto=FrustumCulling.prototype;proto.normalizePlane=function(t){var e=4*t,s=Math.sqrt(this._Frustum[e+this.e_PlaneData.eA]*this._Frustum[e+this.e_PlaneData.eA]+this._Frustum[e+this.e_PlaneData.eB]*this._Frustum[e+this.e_PlaneData.eB]+this._Frustum[e+this.e_PlaneData.eC]*this._Frustum[e+this.e_PlaneData.eC]);this._Frustum[e+this.e_PlaneData.eA]/=s,this._Frustum[e+this.e_PlaneData.eB]/=s,this._Frustum[e+this.e_PlaneData.eC]/=s,this._Frustum[e+this.e_PlaneData.eD]/=s},proto.calculateFrustum=function(t,e){var s=new Float32Array(16);s[0]=e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+e[3]*t[12],s[1]=e[0]*t[1]+e[1]*t[5]+e[2]*t[9]+e[3]*t[13],s[2]=e[0]*t[2]+e[1]*t[6]+e[2]*t[10]+e[3]*t[14],s[3]=e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3]*t[15],s[4]=e[4]*t[0]+e[5]*t[4]+e[6]*t[8]+e[7]*t[12],s[5]=e[4]*t[1]+e[5]*t[5]+e[6]*t[9]+e[7]*t[13],s[6]=e[4]*t[2]+e[5]*t[6]+e[6]*t[10]+e[7]*t[14],s[7]=e[4]*t[3]+e[5]*t[7]+e[6]*t[11]+e[7]*t[15],s[8]=e[8]*t[0]+e[9]*t[4]+e[10]*t[8]+e[11]*t[12],s[9]=e[8]*t[1]+e[9]*t[5]+e[10]*t[9]+e[11]*t[13],s[10]=e[8]*t[2]+e[9]*t[6]+e[10]*t[10]+e[11]*t[14],s[11]=e[8]*t[3]+e[9]*t[7]+e[10]*t[11]+e[11]*t[15],s[12]=e[12]*t[0]+e[13]*t[4]+e[14]*t[8]+e[15]*t[12],s[13]=e[12]*t[1]+e[13]*t[5]+e[14]*t[9]+e[15]*t[13],s[14]=e[12]*t[2]+e[13]*t[6]+e[14]*t[10]+e[15]*t[14],s[15]=e[12]*t[3]+e[13]*t[7]+e[14]*t[11]+e[15]*t[15];var a=4*this.e_FrustumSide.eRight;this._Frustum[a+this.e_PlaneData.eA]=s[3]-s[0],this._Frustum[a+this.e_PlaneData.eB]=s[7]-s[4],this._Frustum[a+this.e_PlaneData.eC]=s[11]-s[8],this._Frustum[a+this.e_PlaneData.eD]=s[15]-s[12],this.normalizePlane(this.e_FrustumSide.eRight);var a=4*this.e_FrustumSide.eLeft;this._Frustum[a+this.e_PlaneData.eA]=s[3]+s[0],this._Frustum[a+this.e_PlaneData.eB]=s[7]+s[4],this._Frustum[a+this.e_PlaneData.eC]=s[11]+s[8],this._Frustum[a+this.e_PlaneData.eD]=s[15]+s[12],this.normalizePlane(this.e_FrustumSide.eLeft);var a=4*this.e_FrustumSide.eBottom;this._Frustum[a+this.e_PlaneData.eA]=s[3]+s[1],this._Frustum[a+this.e_PlaneData.eB]=s[7]+s[5],this._Frustum[a+this.e_PlaneData.eC]=s[11]+s[9],this._Frustum[a+this.e_PlaneData.eD]=s[15]+s[13],this.normalizePlane(this.e_FrustumSide.eBottom);var a=4*this.e_FrustumSide.eTop;this._Frustum[a+this.e_PlaneData.eA]=s[3]-s[1],this._Frustum[a+this.e_PlaneData.eB]=s[7]-s[5],this._Frustum[a+this.e_PlaneData.eC]=s[11]-s[9],this._Frustum[a+this.e_PlaneData.eD]=s[15]-s[13],this.normalizePlane(this.e_FrustumSide.eTop);var a=4*this.e_FrustumSide.eBack;this._Frustum[a+this.e_PlaneData.eA]=s[3]-s[2],this._Frustum[a+this.e_PlaneData.eB]=s[7]-s[6],this._Frustum[a+this.e_PlaneData.eC]=s[11]-s[10],this._Frustum[a+this.e_PlaneData.eD]=s[15]-s[14],this.normalizePlane(this.e_FrustumSide.eBack);var a=4*this.e_FrustumSide.eFront;this._Frustum[a+this.e_PlaneData.eA]=s[3]+s[2],this._Frustum[a+this.e_PlaneData.eB]=s[7]+s[6],this._Frustum[a+this.e_PlaneData.eC]=s[11]+s[10],this._Frustum[a+this.e_PlaneData.eD]=s[15]+s[14],this.normalizePlane(this.e_FrustumSide.eFront)},proto.pointInFrustum=function(t,e,s){for(var a=0;a<6;++a)if(this._Frustum[4*a+this.e_PlaneData.eA]*t+this._Frustum[4*a+this.e_PlaneData.eB]*e+this._Frustum[4*a+this.e_PlaneData.eC]*s+this._Frustum[4*a+this.e_PlaneData.eD]<=0)return!1;return!0},proto.sphereInFrustum=function(t,e,s,a){for(var u=0;u<6;++u)if(this._Frustum[4*u+this.e_PlaneData.eA]*t+this._Frustum[4*u+this.e_PlaneData.eB]*e+this._Frustum[4*u+this.e_PlaneData.eC]*s+this._Frustum[4*u+this.e_PlaneData.eD]<=0)return!1;return!0},proto.cubeInFrustum=function(t,e,s,a){for(var u=0;u<6;++u){var i=4*u;if(!(this._Frustum[i+this.e_PlaneData.eA]*(t-a)+this._Frustum[i+this.e_PlaneData.eB]*(e-a)+this._Frustum[i+this.e_PlaneData.eC]*(s-a)+this._Frustum[i+this.e_PlaneData.eD]>0||this._Frustum[i+this.e_PlaneData.eA]*(t+a)+this._Frustum[i+this.e_PlaneData.eB]*(e-a)+this._Frustum[i+this.e_PlaneData.eC]*(s-a)+this._Frustum[i+this.e_PlaneData.eD]>0||this._Frustum[i+this.e_PlaneData.eA]*(t-a)+this._Frustum[i+this.e_PlaneData.eB]*(e+a)+this._Frustum[i+this.e_PlaneData.eC]*(s-a)+this._Frustum[i+this.e_PlaneData.eD]>0||this._Frustum[i+this.e_PlaneData.eA]*(t+a)+this._Frustum[i+this.e_PlaneData.eB]*(e+a)+this._Frustum[i+this.e_PlaneData.eC]*(s-a)+this._Frustum[i+this.e_PlaneData.eD]>0||this._Frustum[i+this.e_PlaneData.eA]*(t-a)+this._Frustum[i+this.e_PlaneData.eB]*(e-a)+this._Frustum[i+this.e_PlaneData.eC]*(s+a)+this._Frustum[i+this.e_PlaneData.eD]>0||this._Frustum[i+this.e_PlaneData.eA]*(t+a)+this._Frustum[i+this.e_PlaneData.eB]*(e-a)+this._Frustum[i+this.e_PlaneData.eC]*(s+a)+this._Frustum[i+this.e_PlaneData.eD]>0||this._Frustum[i+this.e_PlaneData.eA]*(t-a)+this._Frustum[i+this.e_PlaneData.eB]*(e+a)+this._Frustum[i+this.e_PlaneData.eC]*(s+a)+this._Frustum[i+this.e_PlaneData.eD]>0||this._Frustum[i+this.e_PlaneData.eA]*(t+a)+this._Frustum[i+this.e_PlaneData.eB]*(e+a)+this._Frustum[i+this.e_PlaneData.eC]*(s+a)+this._Frustum[i+this.e_PlaneData.eD]>0))return!1}return!0},module.exports=FrustumCulling;

},{}],13:[function(require,module,exports){
"use strict";function glhProject(r,t,e,l,o,u){var c=[];return c[0]=l[0]*r+l[4]*t+l[8]*e+l[12],c[1]=l[1]*r+l[5]*t+l[9]*e+l[13],c[2]=l[2]*r+l[6]*t+l[10]*e+l[14],c[3]=l[3]*r+l[7]*t+l[11]*e+l[15],c[4]=o[0]*c[0]+o[4]*c[1]+o[8]*c[2]+o[12]*c[3],c[5]=o[1]*c[0]+o[5]*c[1]+o[9]*c[2]+o[13]*c[3],c[6]=o[2]*c[0]+o[6]*c[1]+o[10]*c[2]+o[14]*c[3],c[7]=-c[2],0==c[7]?null:(c[7]=1/c[7],c[4]*=c[7],c[5]*=c[7],c[6]*=c[7],[(.5*c[4]+.5)*u[2]+u[0],(.5*c[5]+.5)*u[3]+u[1]])}module.exports=glhProject;

},{}],14:[function(require,module,exports){
"use strict";function KeyboardHandler(){function e(e){this._pressedKeys[e.keyCode]=!0}function t(e){this._pressedKeys[e.keyCode]=!1}this.keyCodes={KEY_Z:90,KEY_W:87,KEY_S:83,KEY_A:65,KEY_Q:81,KEY_D:68,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,ARROW_DOWN:40},this._pressedKeys={},this._activated=!1,this._handleKeyDown=e.bind(this),this._handleKeyUp=t.bind(this)}var proto=KeyboardHandler.prototype;proto.isPressed=function(e){return this._pressedKeys[e]},proto.activate=function(){this._activated||(document.addEventListener("keydown",this._handleKeyDown),document.addEventListener("keyup",this._handleKeyUp),this._activated=!0)},proto.deactivate=function(){this._activated&&(document.removeEventListener("keydown",this._handleKeyDown),document.removeEventListener("keyup",this._handleKeyUp),this._activated=!1)},module.exports=KeyboardHandler;

},{}],15:[function(require,module,exports){
"use strict";function handle_pointerLock(e,o,n,t){function c(){document.pointerLockElement===e||document.mozPointerLockElement===e||document.webkitPointerLockElement===e?(console.log("The pointer lock status is now locked"),o&&o()):(console.log("The pointer lock status is now unlocked"),n&&n())}function r(e){console.error("Pointer lock failed"),t&&t(e)}e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,e.onclick=function(){e.requestPointerLock&&e.requestPointerLock()},"onpointerlockchange"in document?document.addEventListener("pointerlockchange",c,!1):"onmozpointerlockchange"in document?document.addEventListener("mozpointerlockchange",c,!1):"onwebkitpointerlockchange"in document&&document.addEventListener("webkitpointerlockchange",c,!1),"onpointerlockerror"in document?document.addEventListener("pointerlockerror",r,!1):"onmozpointerlockerror"in document?document.addEventListener("mozpointerlockerror",r,!1):"onwebkitpointerlockerror"in document&&document.addEventListener("webkitpointerlockerror",r,!1)}module.exports=handle_pointerLock;

},{}],16:[function(require,module,exports){
"use strict";var WebGLUtils=require("./utils/WebGLUtils"),canvas=document.getElementById("main-canvas"),gl=WebGLUtils.setupWebGL(canvas);gl.viewportWidth=canvas.clientWidth,gl.viewportHeight=canvas.clientHeight,gl.recreate=function(){return console.log("gl.recreate"),WebGLUtils.setupWebGL(canvas)},gl.getExtension&&(gl._extension_vao=gl.getExtension("OES_vertex_array_object")||gl.getExtension("MOZ_OES_vertex_array_object")||gl.getExtension("WEBKIT_OES_vertex_array_object"),gl._extension_lose_context=gl.getExtension("WEBGL_lose_context")),module.exports=gl;

},{"./utils/WebGLUtils":22}],17:[function(require,module,exports){
"use strict";var GeometryColor=function(e,t,r){this._primitive=r,this._vbuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vbuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.DYNAMIC_DRAW),this._numItems=t.length/6},proto=GeometryColor.prototype;proto.isValid=function(){return this._vbuffer&&this._numItems>0},proto.update=function(e,t){e.bindBuffer(e.ARRAY_BUFFER,this._vbuffer),e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW),this._numItems=t.length/12},proto.dispose=function(e){e.deleteBuffer(this._vbuffer),this._vao&&e._extension_vao.deleteVertexArrayOES(this._vao)},proto.render=function(e,t){e._extension_vao?this._vao?(e._extension_vao.bindVertexArrayOES(this._vao),e.drawArrays(this._primitive,0,this._numItems),e._extension_vao.bindVertexArrayOES(null)):(this._vao=e._extension_vao.createVertexArrayOES(),e._extension_vao.bindVertexArrayOES(this._vao),this.render_backup(e,t,!0),e._extension_vao.bindVertexArrayOES(null)):this.render_backup(t)},proto.render_backup=function(e,t,r){e.enableVertexAttribArray(t.aVertexPosition),e.enableVertexAttribArray(t.aVertexColor);var i=4,o=6*i,n=0*i,a=3*i;e.bindBuffer(e.ARRAY_BUFFER,this._vbuffer),e.vertexAttribPointer(t.aVertexPosition,3,e.FLOAT,!1,o,n),e.vertexAttribPointer(t.aVertexColor,3,e.FLOAT,!1,o,a),e.drawArrays(this._primitive,0,this._numItems),r||(e.disableVertexAttribArray(t.aVertexPosition),e.disableVertexAttribArray(t.aVertexColor))},module.exports=GeometryColor;

},{}],18:[function(require,module,exports){
"use strict";var GeometryExperimental=function(e,r,t,i){this._vbuffer=e.createBuffer(),this._shader=t,e.bindBuffer(e.ARRAY_BUFFER,this._vbuffer),e.bufferData(e.ARRAY_BUFFER,r,e.DYNAMIC_DRAW),null===this._vbuffer&&console.log("_vbuffer is null"),this._numItems=r.length/12},proto=GeometryExperimental.prototype;proto.isValid=function(){return this._vbuffer&&this._numItems>0},proto.update=function(e,r){e.bindBuffer(e.ARRAY_BUFFER,this._vbuffer),e.bufferData(e.ARRAY_BUFFER,r,e.DYNAMIC_DRAW),this._numItems=r.length/12},proto.dispose=function(e){e.deleteBuffer(this._vbuffer),this._vao&&e._extension_vao.deleteVertexArrayOES(this._vao)},proto.render=function(e){this._shader;e._extension_vao?this._vao?(e._extension_vao.bindVertexArrayOES(this._vao),e.drawArrays(e.TRIANGLES,0,this._numItems),e._extension_vao.bindVertexArrayOES(null)):(this._vao=e._extension_vao.createVertexArrayOES(),e._extension_vao.bindVertexArrayOES(this._vao),this.render_backup(e,!0),e._extension_vao.bindVertexArrayOES(null)):this.render_backup()},proto.render_backup=function(e,r){var t=this._shader;e.enableVertexAttribArray(t.aVertexPosition),e.enableVertexAttribArray(t.aVertexColor),e.enableVertexAttribArray(t.aVertexNormal),e.enableVertexAttribArray(t.aVertexBCenter);var i=4,a=12*i,o=0*i,n=3*i,s=6*i,A=9*i;e.bindBuffer(e.ARRAY_BUFFER,this._vbuffer),e.vertexAttribPointer(t.aVertexPosition,3,e.FLOAT,!1,a,o),e.vertexAttribPointer(t.aVertexColor,3,e.FLOAT,!1,a,n),e.vertexAttribPointer(t.aVertexNormal,3,e.FLOAT,!1,a,s),e.vertexAttribPointer(t.aVertexBCenter,3,e.FLOAT,!1,a,A),e.drawArrays(e.TRIANGLES,0,this._numItems),r||(e.disableVertexAttribArray(t.aVertexPosition),e.disableVertexAttribArray(t.aVertexColor),e.disableVertexAttribArray(t.aVertexNormal),e.disableVertexAttribArray(t.aVertexBCenter))},module.exports=GeometryExperimental;

},{}],19:[function(require,module,exports){
"use strict";function createCubeVertices(e,r,t){var u=e/2,s=e/2.1,a=[u,u,u,-u,u,u,u,-u,u,-u,-u,u,u,u,-u,-u,u,-u,u,-u,-u,-u,-u,-u,s,s,s,-s,s,s,s,-s,s,-s,-s,s,s,s,-s,-s,s,-s,s,-s,-s,-s,-s,-s],c=[0,1,1,3,3,2,2,0,4,5,5,7,7,6,6,4,0,4,1,5,3,7,2,6,8,9,9,11,11,10,10,8,12,13,13,15,15,14,14,12,8,12,9,13,11,15,10,14];t&&(c.length/=2);for(var o=[],n=0;n<c.length;++n){for(var f=3*c[n],h=0;h<3;++h)o.push(a[f+h]+u);for(var h=0;h<3;++h)o.push(r[h])}return o}module.exports=createCubeVertices;

},{}],20:[function(require,module,exports){
"use strict";function createCubeVertices(e,r,t,a){var s,u,c,n,h,i,o=e,f=t,p=a,v=3.1415926;i=Math.tan(e/360*v)*t,h=i*r,s=-h,u=+h,n=+i,c=-i;for(var b=p*Math.sin(3.14*o/180),l=b*r,C=[f,s,n,f,u,n,f,s,c,f,u,c,p,-l,+b,p,+l,+b,p,-l,-b,p,+l,-b,p,1.66*-l,-b,p,1.66*-l,+b],M=[0,1,1,3,3,2,2,0,0,4,1,5,2,6,3,7,4,5,5,7,7,6,6,4,8,9,7,8,5,9],V=[],d=0;d<M.length;++d){for(var g=3*M[d],m=0;m<3;++m)V.push(C[g+m]);V.push(1,1,0)}return V}module.exports=createCubeVertices;

},{}],21:[function(require,module,exports){
"use strict";function RendererWebGL(){this.FreeFlyCamera=new createFreeFlyCamera,this.FreeFlyCamera.activate(),this.FreeFlyCamera.setPosition(g_data.logic.k_chunk_size/4*3,g_data.logic.k_chunk_size/4*3,0),this.FrustumCulling=new createFrustumCulling,this.pMatrix=glm.mat4.create(),this.mvMatrix=glm.mat4.create(),gl.canvas.addEventListener("webglcontextlost",function(e){e.preventDefault(),console.log("context is lost"),self.on_context_lost&&self.on_context_lost()},!1),self=this,gl.canvas.addEventListener("webglcontextrestored",function(){console.log("context is restored"),gl=gl.recreate(),self.on_context_restored&&self.on_context_restored()},!1)}var g_data=require("../data/index.js"),gl=require("./context.js"),createFreeFlyCamera=require("./camera/FreeFlyCamera.js"),createFrustumCulling=require("./camera/FrustumCulling.js"),glm=require("./utils/gl-matrix-2.3.2.min.js"),myShaders=require("./utils/myShaders.js"),myTexture=require("./utils/myTexture.js"),createShaders=myShaders.createShaders,createGeometryColor=require("./geometries/GeometryColor.js"),createGeometryExperimental=require("./geometries/GeometryExperimental.js"),createCubeVertices=require("./geometries/createCubeVertices.js"),createFrustumVertices=require("./geometries/createFrustumVertices.js"),glhProject=require("./camera/glhProject.js"),proto=RendererWebGL.prototype;proto.chunk_is_visible=function(e){var r=g_data.logic.k_chunk_size/2;return this.FrustumCulling.cubeInFrustum(e[0]+r,e[1]+r,e[2]+r,r)},proto.point_is_visible=function(e){return this.FrustumCulling.pointInFrustum(e[0],e[1],e[2])},proto.add_geom=function(e){var r=new createGeometryExperimental(gl,e,this.shader_exp);return r.isValid()?r:null},proto.update_geom=function(e,r){e.update(gl,r)},proto.getCameraPosition=function(){return[this.FreeFlyCamera._Position[0],this.FreeFlyCamera._Position[1],this.FreeFlyCamera._Position[2]]},proto.resize=function(e,r){gl.viewportWidth=e,gl.viewportHeight=r,this.aspectRatio=.75*gl.viewportWidth/gl.viewportHeight,this.geom_frustum&&this.geom_frustum.isValid()&&this.geom_frustum.dispose(gl);var t=createFrustumVertices(70,this.aspectRatio,.1,40);this.geom_frustum=new createGeometryColor(gl,t,gl.LINES)},proto.toggle_context_loss=function(){gl._extension_lose_context&&(gl.isContextLost()?gl._extension_lose_context.restoreContext():gl._extension_lose_context.loseContext())},proto.context_is_lost=function(){return gl.isContextLost()},proto.set_on_context_lost=function(e){this.on_context_lost=e},proto.set_on_context_restored=function(e){this.on_context_restored=e},proto.init=function(e){var r={vs_id:"shader-vs-color",fs_id:"shader-fs-color",arr_attrib:["aVertexPosition","aVertexColor"],arr_uniform:["uMVMatrix","uPMatrix"]};this.shader_color=new createShaders(gl,r);var r={vs_id:"shader-vs-experimental",fs_id:"shader-fs-experimental",arr_attrib:["aVertexPosition","aVertexColor","aVertexNormal","aVertexBCenter"],arr_uniform:["uMVMatrix","uPMatrix","uCameraPos","uSampler"]};this.shader_exp=new createShaders(gl,r);var t=[],a=20;t.push(0,0,0,1,0,0,a,0,0,1,0,0),t.push(0,0,0,0,1,0,0,a,0,0,1,0),t.push(0,0,0,0,0,1,0,0,a,0,0,1),this.geom_axis=new createGeometryColor(gl,t,gl.LINES);var t=[],i=5;t.push(0-i,0,0,1,1,1),t.push(0+5*i,0,0,1,1,1),t.push(0,0-i,0,1,1,1),t.push(0,0+i,0,1,1,1),t.push(0,0,0-i,1,1,1),t.push(0,0,0+i,1,1,1),this.geom_cross=new createGeometryColor(gl,t,gl.LINES);var t=createCubeVertices(g_data.logic.k_chunk_size,[1,0,0]);this.geom_cubeR=new createGeometryColor(gl,t,gl.LINES);var t=createCubeVertices(g_data.logic.k_chunk_size,[1,1,1]);this.geom_cubeW=new createGeometryColor(gl,t,gl.LINES);var t=createCubeVertices(g_data.logic.k_chunk_size,[0,1,0]);this.geom_cubeG=new createGeometryColor(gl,t,gl.LINES),this.aspectRatio=.75*gl.viewportWidth/gl.viewportHeight;var t=createFrustumVertices(35,this.aspectRatio,.1,40);this.geom_frustum=new createGeometryColor(gl,t,gl.LINES),gl.clearColor(0,0,0,1),gl.enable(gl.DEPTH_TEST);var o=new Image,s=gl.createTexture();o.onload=function(){var r=myTexture.imageToUint8Array(o);r=myTexture.flipYImageArray(r,o.width,o.height),gl.useProgram(this.shader_exp),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,s),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,o.width,o.height,0,gl.RGBA,gl.UNSIGNED_BYTE,r),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST),gl.useProgram(null),e()},o.src="textures/texture.png"},proto.update=function(){this.FreeFlyCamera.handleKeys(),this.FreeFlyCamera.update(1/60),glm.mat4.perspective(this.pMatrix,70,this.aspectRatio,.1,70),this.FreeFlyCamera.updateViewMatrix(this.mvMatrix),this.FrustumCulling.calculateFrustum(this.pMatrix,this.mvMatrix);for(var e=[0,0,.75*gl.viewportWidth,gl.viewportHeight],r=g_data.logic.ChunkGenerator._chunks,t=0;t<r.length;++t){var a=r[t].pos;if(r[t].visible=this.chunk_is_visible(a),this.point_is_visible(a)){var i=glhProject(a[0],a[1],a[2],this.mvMatrix,this.pMatrix,e);i[1]=e[3]-i[1],r[t].coord2d=i}}},proto.render=function(){var e=g_data.logic.ChunkGenerator._chunks;gl.viewport(0,0,.75*gl.viewportWidth,gl.viewportHeight),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT),gl.useProgram(this.shader_exp),gl.uniform1i(this.shader_exp.uSampler,0),gl.uniformMatrix4fv(this.shader_exp.uMVMatrix,!1,this.mvMatrix),gl.uniformMatrix4fv(this.shader_exp.uPMatrix,!1,this.pMatrix);var r=this.FreeFlyCamera._Position;gl.uniform3f(this.shader_exp.uCameraPos,r[0],r[1],r[2]);for(var t=0;t<e.length;++t)e[t].visible&&e[t].geom.render(gl);gl.useProgram(this.shader_color),gl.uniformMatrix4fv(this.shader_color.uPMatrix,!1,this.pMatrix),gl.uniformMatrix4fv(this.shader_color.uMVMatrix,!1,this.mvMatrix);for(var a=glm.mat4.create(),t=0;t<e.length;++t)if(e[t].visible){var i=e[t].pos;glm.mat4.translate(a,this.mvMatrix,i),gl.uniformMatrix4fv(this.shader_color.uMVMatrix,!1,a),this.geom_cubeW.render(gl,this.shader_color)}gl.useProgram(null)},proto.renderHUD=function(){function e(e,t,a){gl.viewport(e[0],e[1],e[2],e[3]);var i=glm.mat4.create(),s=e[2]/e[3],l=65;glm.mat4.ortho(i,-l*s,l*s,-l,l,-200,200);var g=o.FreeFlyCamera._Position,n=glm.mat4.create();glm.mat4.lookAt(n,[g[0]+t[0],g[1]+t[1],g[2]+t[2]],g,a),gl.uniformMatrix4fv(o.shader_color.uMVMatrix,!1,n),gl.uniformMatrix4fv(o.shader_color.uPMatrix,!1,i),o.geom_axis.render(gl,o.shader_color);for(var u=glm.mat4.create(),c=0;c<r.length;++c){var m=r[c].pos;glm.mat4.identity(u),r[c].visible?(glm.mat4.translate(u,n,m),gl.uniformMatrix4fv(o.shader_color.uMVMatrix,!1,u),o.geom_cubeW.render(gl,o.shader_color)):(glm.mat4.translate(u,n,[m[0]+.15*g_data.logic.k_chunk_size,m[1]+.15*g_data.logic.k_chunk_size,m[2]+.15*g_data.logic.k_chunk_size]),glm.mat4.scale(u,u,[.7,.7,.7]),gl.uniformMatrix4fv(o.shader_color.uMVMatrix,!1,u),o.geom_cubeR.render(gl,o.shader_color))}if(g_data.logic.ChunkGenerator.is_processing_chunk){var m=g_data.logic.ChunkGenerator.processing_pos;glm.mat4.translate(u,n,[m[0]+.2*g_data.logic.k_chunk_size,m[1]+.2*g_data.logic.k_chunk_size,m[2]+.2*g_data.logic.k_chunk_size]),glm.mat4.scale(u,u,[.6,.6,.6]),gl.uniformMatrix4fv(o.shader_color.uMVMatrix,!1,u),o.geom_cubeG.render(gl,o.shader_color)}glm.mat4.translate(n,n,o.FreeFlyCamera._Position),glm.mat4.rotate(n,n,3.14*o.FreeFlyCamera._theta/180,[0,0,1]),glm.mat4.rotate(n,n,3.14*o.FreeFlyCamera._phi/180,[0,-1,0]),gl.uniformMatrix4fv(o.shader_color.uMVMatrix,!1,n),o.geom_cross.render(gl,o.shader_color),gl.lineWidth(3),o.geom_frustum.render(gl,o.shader_color),gl.lineWidth(1)}var r=g_data.logic.ChunkGenerator._chunks;gl.useProgram(this.shader_color);var t=.25*gl.viewportWidth,a=.75*gl.viewportWidth,i=.33*gl.viewportHeight;gl.clear(gl.DEPTH_BUFFER_BIT);var o=this;e([a,0*i,t,i],[1,1.2,1],[0,0,1]),e([a,1*i,t,i],[0,1,0],[0,0,1]),e([a,2*i,t,i],[0,0,1],[0,1,0]),gl.useProgram(null)},module.exports=RendererWebGL;

},{"../data/index.js":2,"./camera/FreeFlyCamera.js":11,"./camera/FrustumCulling.js":12,"./camera/glhProject.js":13,"./context.js":16,"./geometries/GeometryColor.js":17,"./geometries/GeometryExperimental.js":18,"./geometries/createCubeVertices.js":19,"./geometries/createFrustumVertices.js":20,"./utils/gl-matrix-2.3.2.min.js":23,"./utils/myShaders.js":24,"./utils/myTexture.js":25}],22:[function(require,module,exports){
"use strict";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}();var setupWebGL=function(e,t,n){e.addEventListener&&e.addEventListener("webglcontextcreationerror",function(e){alert(e)},!1);var r=create3DContext(e,t);return r||window.WebGLRenderingContext||alert("!window.WebGLRenderingContext"),r},create3DContext=function(e,t){for(var n=["webgl","experimental-webgl","webkit-3d","moz-webgl"],r=null,i=0;i<n.length;++i){try{r=e.getContext(n[i],t)}catch(e){}if(r)break}return r};module.exports={create3DContext:create3DContext,setupWebGL:setupWebGL};

},{}],23:[function(require,module,exports){
!function(t,a){if("object"==typeof exports&&"object"==typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var n=a();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function a(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}var n={};return a.m=t,a.c=n,a.p="",a(0)}([function(t,a,n){a.glMatrix=n(1),a.mat2=n(2),a.mat2d=n(3),a.mat3=n(4),a.mat4=n(5),a.quat=n(6),a.vec2=n(9),a.vec3=n(7),a.vec4=n(8)},function(t,a){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===this.Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,a){return Math.abs(t-a)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(a))},t.exports=n},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.clone=function(t){var a=new r.ARRAY_TYPE(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.fromValues=function(t,a,n,o){var u=new r.ARRAY_TYPE(4);return u[0]=t,u[1]=a,u[2]=n,u[3]=o,u},o.set=function(t,a,n,r,o){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t},o.transpose=function(t,a){if(t===a){var n=a[1];t[1]=a[2],t[2]=n}else t[0]=a[0],t[1]=a[2],t[2]=a[1],t[3]=a[3];return t},o.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],l=n*u-o*r;return l?(l=1/l,t[0]=u*l,t[1]=-r*l,t[2]=-o*l,t[3]=n*l,t):null},o.adjoint=function(t,a){var n=a[0];return t[0]=a[3],t[1]=-a[1],t[2]=-a[2],t[3]=n,t},o.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},o.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=n[0],M=n[1],s=n[2],i=n[3];return t[0]=r*e+u*M,t[1]=o*e+l*M,t[2]=r*s+u*i,t[3]=o*s+l*i,t},o.mul=o.multiply,o.rotate=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=Math.sin(n),M=Math.cos(n);return t[0]=r*M+u*e,t[1]=o*M+l*e,t[2]=r*-e+u*M,t[3]=o*-e+l*M,t},o.scale=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=n[0],M=n[1];return t[0]=r*e,t[1]=o*e,t[2]=u*M,t[3]=l*M,t},o.fromRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},o.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t},o.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},o.LDU=function(t,a,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,a,n]},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t},o.sub=o.subtract,o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],l=t[3],e=a[0],M=a[1],s=a[2],i=a[3];return Math.abs(n-e)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))&&Math.abs(o-M)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(u-s)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(l-i)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(i))},o.multiplyScalar=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t},o.multiplyScalarAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.clone=function(t){var a=new r.ARRAY_TYPE(6);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.fromValues=function(t,a,n,o,u,l){var e=new r.ARRAY_TYPE(6);return e[0]=t,e[1]=a,e[2]=n,e[3]=o,e[4]=u,e[5]=l,e},o.set=function(t,a,n,r,o,u,l){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t[4]=u,t[5]=l,t},o.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],l=a[4],e=a[5],M=n*u-r*o;return M?(M=1/M,t[0]=u*M,t[1]=-r*M,t[2]=-o*M,t[3]=n*M,t[4]=(o*e-u*l)*M,t[5]=(r*l-n*e)*M,t):null},o.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},o.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=a[4],M=a[5],s=n[0],i=n[1],c=n[2],h=n[3],S=n[4],I=n[5];return t[0]=r*s+u*i,t[1]=o*s+l*i,t[2]=r*c+u*h,t[3]=o*c+l*h,t[4]=r*S+u*I+e,t[5]=o*S+l*I+M,t},o.mul=o.multiply,o.rotate=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=a[4],M=a[5],s=Math.sin(n),i=Math.cos(n);return t[0]=r*i+u*s,t[1]=o*i+l*s,t[2]=r*-s+u*i,t[3]=o*-s+l*i,t[4]=e,t[5]=M,t},o.scale=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=a[4],M=a[5],s=n[0],i=n[1];return t[0]=r*s,t[1]=o*s,t[2]=u*i,t[3]=l*i,t[4]=e,t[5]=M,t},o.translate=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=a[4],M=a[5],s=n[0],i=n[1];return t[0]=r,t[1]=o,t[2]=u,t[3]=l,t[4]=r*s+u*i+e,t[5]=o*s+l*i+M,t},o.fromRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},o.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t[4]=0,t[5]=0,t},o.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=a[0],t[5]=a[1],t},o.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t},o.sub=o.subtract,o.multiplyScalar=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t},o.multiplyScalarAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t[4]=a[4]+n[4]*r,t[5]=a[5]+n[5]*r,t},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],l=t[3],e=t[4],M=t[5],s=a[0],i=a[1],c=a[2],h=a[3],S=a[4],I=a[5];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(u-c)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(l-h)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(h))&&Math.abs(e-S)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(S))&&Math.abs(M-I)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(I))},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat4=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[4],t[4]=a[5],t[5]=a[6],t[6]=a[8],t[7]=a[9],t[8]=a[10],t},o.clone=function(t){var a=new r.ARRAY_TYPE(9);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},o.fromValues=function(t,a,n,o,u,l,e,M,s){var i=new r.ARRAY_TYPE(9);return i[0]=t,i[1]=a,i[2]=n,i[3]=o,i[4]=u,i[5]=l,i[6]=e,i[7]=M,i[8]=s,i},o.set=function(t,a,n,r,o,u,l,e,M,s){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t[4]=u,t[5]=l,t[6]=e,t[7]=M,t[8]=s,t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.transpose=function(t,a){if(t===a){var n=a[1],r=a[2],o=a[5];t[1]=a[3],t[2]=a[6],t[3]=n,t[5]=a[7],t[6]=r,t[7]=o}else t[0]=a[0],t[1]=a[3],t[2]=a[6],t[3]=a[1],t[4]=a[4],t[5]=a[7],t[6]=a[2],t[7]=a[5],t[8]=a[8];return t},o.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],l=a[4],e=a[5],M=a[6],s=a[7],i=a[8],c=i*l-e*s,h=-i*u+e*M,S=s*u-l*M,I=n*c+r*h+o*S;return I?(I=1/I,t[0]=c*I,t[1]=(-i*r+o*s)*I,t[2]=(e*r-o*l)*I,t[3]=h*I,t[4]=(i*n-o*M)*I,t[5]=(-e*n+o*u)*I,t[6]=S*I,t[7]=(-s*n+r*M)*I,t[8]=(l*n-r*u)*I,t):null},o.adjoint=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],l=a[4],e=a[5],M=a[6],s=a[7],i=a[8];return t[0]=l*i-e*s,t[1]=o*s-r*i,t[2]=r*e-o*l,t[3]=e*M-u*i,t[4]=n*i-o*M,t[5]=o*u-n*e,t[6]=u*s-l*M,t[7]=r*M-n*s,t[8]=n*l-r*u,t},o.determinant=function(t){var a=t[0],n=t[1],r=t[2],o=t[3],u=t[4],l=t[5],e=t[6],M=t[7],s=t[8];return a*(s*u-l*M)+n*(-s*o+l*e)+r*(M*o-u*e)},o.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=a[4],M=a[5],s=a[6],i=a[7],c=a[8],h=n[0],S=n[1],I=n[2],f=n[3],x=n[4],D=n[5],F=n[6],m=n[7],d=n[8];return t[0]=h*r+S*l+I*s,t[1]=h*o+S*e+I*i,t[2]=h*u+S*M+I*c,t[3]=f*r+x*l+D*s,t[4]=f*o+x*e+D*i,t[5]=f*u+x*M+D*c,t[6]=F*r+m*l+d*s,t[7]=F*o+m*e+d*i,t[8]=F*u+m*M+d*c,t},o.mul=o.multiply,o.translate=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=a[4],M=a[5],s=a[6],i=a[7],c=a[8],h=n[0],S=n[1];return t[0]=r,t[1]=o,t[2]=u,t[3]=l,t[4]=e,t[5]=M,t[6]=h*r+S*l+s,t[7]=h*o+S*e+i,t[8]=h*u+S*M+c,t},o.rotate=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=a[4],M=a[5],s=a[6],i=a[7],c=a[8],h=Math.sin(n),S=Math.cos(n);return t[0]=S*r+h*l,t[1]=S*o+h*e,t[2]=S*u+h*M,t[3]=S*l-h*r,t[4]=S*e-h*o,t[5]=S*M-h*u,t[6]=s,t[7]=i,t[8]=c,t},o.scale=function(t,a,n){var r=n[0],o=n[1];return t[0]=r*a[0],t[1]=r*a[1],t[2]=r*a[2],t[3]=o*a[3],t[4]=o*a[4],t[5]=o*a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t},o.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=a[0],t[7]=a[1],t[8]=1,t},o.fromRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=a[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat2d=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=0,t[3]=a[2],t[4]=a[3],t[5]=0,t[6]=a[4],t[7]=a[5],t[8]=1,t},o.fromQuat=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],l=n+n,e=r+r,M=o+o,s=n*l,i=r*l,c=r*e,h=o*l,S=o*e,I=o*M,f=u*l,x=u*e,D=u*M;return t[0]=1-c-I,t[3]=i-D,t[6]=h+x,t[1]=i+D,t[4]=1-s-I,t[7]=S-f,t[2]=h-x,t[5]=S+f,t[8]=1-s-c,t},o.normalFromMat4=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],l=a[4],e=a[5],M=a[6],s=a[7],i=a[8],c=a[9],h=a[10],S=a[11],I=a[12],f=a[13],x=a[14],D=a[15],F=n*e-r*l,m=n*M-o*l,d=n*s-u*l,b=r*M-o*e,v=r*s-u*e,z=o*s-u*M,p=i*f-c*I,w=i*x-h*I,E=i*D-S*I,A=c*x-h*f,P=c*D-S*f,L=h*D-S*x,q=F*L-m*P+d*A+b*E-v*w+z*p;return q?(q=1/q,t[0]=(e*L-M*P+s*A)*q,t[1]=(M*E-l*L-s*w)*q,t[2]=(l*P-e*E+s*p)*q,t[3]=(o*P-r*L-u*A)*q,t[4]=(n*L-o*E+u*w)*q,t[5]=(r*E-n*P-u*p)*q,t[6]=(f*z-x*v+D*b)*q,t[7]=(x*d-I*z-D*m)*q,t[8]=(I*v-f*d+D*F)*q,t):null},o.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t[6]=a[6]+n[6],t[7]=a[7]+n[7],t[8]=a[8]+n[8],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t[6]=a[6]-n[6],t[7]=a[7]-n[7],t[8]=a[8]-n[8],t},o.sub=o.subtract,o.multiplyScalar=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=a[7]*n,t[8]=a[8]*n,t},o.multiplyScalarAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t[4]=a[4]+n[4]*r,t[5]=a[5]+n[5]*r,t[6]=a[6]+n[6]*r,t[7]=a[7]+n[7]*r,t[8]=a[8]+n[8]*r,t},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],l=t[3],e=t[4],M=t[5],s=t[6],i=t[7],c=t[8],h=a[0],S=a[1],I=a[2],f=a[3],x=a[4],D=a[5],F=t[6],m=a[7],d=a[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(o-S)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(u-I)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(l-f)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(f))&&Math.abs(e-x)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(M-D)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(D))&&Math.abs(s-F)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(F))&&Math.abs(i-m)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(c-d)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(d))},t.exports=o},function(t,a,n){var r=n(1),o={scalar:{},SIMD:{}};o.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.clone=function(t){var a=new r.ARRAY_TYPE(16);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},o.fromValues=function(t,a,n,o,u,l,e,M,s,i,c,h,S,I,f,x){var D=new r.ARRAY_TYPE(16);return D[0]=t,D[1]=a,D[2]=n,D[3]=o,D[4]=u,D[5]=l,D[6]=e,D[7]=M,D[8]=s,D[9]=i,D[10]=c,D[11]=h,D[12]=S,D[13]=I,D[14]=f,D[15]=x,D},o.set=function(t,a,n,r,o,u,l,e,M,s,i,c,h,S,I,f,x){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t[4]=u,t[5]=l,t[6]=e,t[7]=M,t[8]=s,t[9]=i,t[10]=c,t[11]=h,t[12]=S,t[13]=I,t[14]=f,t[15]=x,t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.scalar.transpose=function(t,a){if(t===a){var n=a[1],r=a[2],o=a[3],u=a[6],l=a[7],e=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=n,t[6]=a[9],t[7]=a[13],t[8]=r,t[9]=u,t[11]=a[14],t[12]=o,t[13]=l,t[14]=e}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t},o.SIMD.transpose=function(t,a){var n,r,o,u,l,e,M,s,i,c;return n=SIMD.Float32x4.load(a,0),r=SIMD.Float32x4.load(a,4),o=SIMD.Float32x4.load(a,8),u=SIMD.Float32x4.load(a,12),l=SIMD.Float32x4.shuffle(n,r,0,1,4,5),e=SIMD.Float32x4.shuffle(o,u,0,1,4,5),M=SIMD.Float32x4.shuffle(l,e,0,2,4,6),s=SIMD.Float32x4.shuffle(l,e,1,3,5,7),SIMD.Float32x4.store(t,0,M),SIMD.Float32x4.store(t,4,s),l=SIMD.Float32x4.shuffle(n,r,2,3,6,7),e=SIMD.Float32x4.shuffle(o,u,2,3,6,7),i=SIMD.Float32x4.shuffle(l,e,0,2,4,6),c=SIMD.Float32x4.shuffle(l,e,1,3,5,7),SIMD.Float32x4.store(t,8,i),SIMD.Float32x4.store(t,12,c),t},o.transpose=r.USE_SIMD?o.SIMD.transpose:o.scalar.transpose,o.scalar.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],l=a[4],e=a[5],M=a[6],s=a[7],i=a[8],c=a[9],h=a[10],S=a[11],I=a[12],f=a[13],x=a[14],D=a[15],F=n*e-r*l,m=n*M-o*l,d=n*s-u*l,b=r*M-o*e,v=r*s-u*e,z=o*s-u*M,p=i*f-c*I,w=i*x-h*I,E=i*D-S*I,A=c*x-h*f,P=c*D-S*f,L=h*D-S*x,q=F*L-m*P+d*A+b*E-v*w+z*p;return q?(q=1/q,t[0]=(e*L-M*P+s*A)*q,t[1]=(o*P-r*L-u*A)*q,t[2]=(f*z-x*v+D*b)*q,t[3]=(h*v-c*z-S*b)*q,t[4]=(M*E-l*L-s*w)*q,t[5]=(n*L-o*E+u*w)*q,t[6]=(x*d-I*z-D*m)*q,t[7]=(i*z-h*d+S*m)*q,t[8]=(l*P-e*E+s*p)*q,t[9]=(r*E-n*P-u*p)*q,t[10]=(I*v-f*d+D*F)*q,t[11]=(c*d-i*v-S*F)*q,t[12]=(e*w-l*A-M*p)*q,t[13]=(n*A-r*w+o*p)*q,t[14]=(f*m-I*b-x*F)*q,t[15]=(i*b-c*m+h*F)*q,t):null},o.SIMD.invert=function(t,a){var n,r,o,u,l,e,M,s,i,c,h=SIMD.Float32x4.load(a,0),S=SIMD.Float32x4.load(a,4),I=SIMD.Float32x4.load(a,8),f=SIMD.Float32x4.load(a,12);return l=SIMD.Float32x4.shuffle(h,S,0,1,4,5),r=SIMD.Float32x4.shuffle(I,f,0,1,4,5),n=SIMD.Float32x4.shuffle(l,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,l,1,3,5,7),l=SIMD.Float32x4.shuffle(h,S,2,3,6,7),u=SIMD.Float32x4.shuffle(I,f,2,3,6,7),o=SIMD.Float32x4.shuffle(l,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,l,1,3,5,7),l=SIMD.Float32x4.mul(o,u),l=SIMD.Float32x4.swizzle(l,1,0,3,2),e=SIMD.Float32x4.mul(r,l),M=SIMD.Float32x4.mul(n,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),e=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,l),e),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,l),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),l=SIMD.Float32x4.mul(r,o),l=SIMD.Float32x4.swizzle(l,1,0,3,2),e=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),e),i=SIMD.Float32x4.mul(n,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),e=SIMD.Float32x4.sub(e,SIMD.Float32x4.mul(u,l)),i=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,l),i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),l=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),u),l=SIMD.Float32x4.swizzle(l,1,0,3,2),o=SIMD.Float32x4.swizzle(o,2,3,0,1),e=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,l),e),s=SIMD.Float32x4.mul(n,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),e=SIMD.Float32x4.sub(e,SIMD.Float32x4.mul(o,l)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,l),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),l=SIMD.Float32x4.mul(n,r),l=SIMD.Float32x4.swizzle(l,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),s),i=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,l),i),l=SIMD.Float32x4.swizzle(l,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,l),s),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(o,l)),l=SIMD.Float32x4.mul(n,u),l=SIMD.Float32x4.swizzle(l,1,0,3,2),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(o,l)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,l),s),l=SIMD.Float32x4.swizzle(l,2,3,0,1),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,l),M),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(r,l)),l=SIMD.Float32x4.mul(n,o),l=SIMD.Float32x4.swizzle(l,1,0,3,2),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),M),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(r,l)),l=SIMD.Float32x4.swizzle(l,2,3,0,1),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(u,l)),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,l),i),c=SIMD.Float32x4.mul(n,e),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,2,3,0,1),c),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,1,0,3,2),c),l=SIMD.Float32x4.reciprocalApproximation(c),c=SIMD.Float32x4.sub(SIMD.Float32x4.add(l,l),SIMD.Float32x4.mul(c,SIMD.Float32x4.mul(l,l))),(c=SIMD.Float32x4.swizzle(c,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(c,e)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(c,M)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(c,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(c,i)),t):null},o.invert=r.USE_SIMD?o.SIMD.invert:o.scalar.invert,o.scalar.adjoint=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],l=a[4],e=a[5],M=a[6],s=a[7],i=a[8],c=a[9],h=a[10],S=a[11],I=a[12],f=a[13],x=a[14],D=a[15];return t[0]=e*(h*D-S*x)-c*(M*D-s*x)+f*(M*S-s*h),t[1]=-(r*(h*D-S*x)-c*(o*D-u*x)+f*(o*S-u*h)),t[2]=r*(M*D-s*x)-e*(o*D-u*x)+f*(o*s-u*M),t[3]=-(r*(M*S-s*h)-e*(o*S-u*h)+c*(o*s-u*M)),t[4]=-(l*(h*D-S*x)-i*(M*D-s*x)+I*(M*S-s*h)),t[5]=n*(h*D-S*x)-i*(o*D-u*x)+I*(o*S-u*h),t[6]=-(n*(M*D-s*x)-l*(o*D-u*x)+I*(o*s-u*M)),t[7]=n*(M*S-s*h)-l*(o*S-u*h)+i*(o*s-u*M),t[8]=l*(c*D-S*f)-i*(e*D-s*f)+I*(e*S-s*c),t[9]=-(n*(c*D-S*f)-i*(r*D-u*f)+I*(r*S-u*c)),t[10]=n*(e*D-s*f)-l*(r*D-u*f)+I*(r*s-u*e),t[11]=-(n*(e*S-s*c)-l*(r*S-u*c)+i*(r*s-u*e)),t[12]=-(l*(c*x-h*f)-i*(e*x-M*f)+I*(e*h-M*c)),t[13]=n*(c*x-h*f)-i*(r*x-o*f)+I*(r*h-o*c),t[14]=-(n*(e*x-M*f)-l*(r*x-o*f)+I*(r*M-o*e)),t[15]=n*(e*h-M*c)-l*(r*h-o*c)+i*(r*M-o*e),t},o.SIMD.adjoint=function(t,a){var n,r,o,u,l,e,M,s,i,c,h,S,I;return n=SIMD.Float32x4.load(a,0),r=SIMD.Float32x4.load(a,4),o=SIMD.Float32x4.load(a,8),u=SIMD.Float32x4.load(a,12),i=SIMD.Float32x4.shuffle(n,r,0,1,4,5),e=SIMD.Float32x4.shuffle(o,u,0,1,4,5),l=SIMD.Float32x4.shuffle(i,e,0,2,4,6),e=SIMD.Float32x4.shuffle(e,i,1,3,5,7),i=SIMD.Float32x4.shuffle(n,r,2,3,6,7),s=SIMD.Float32x4.shuffle(o,u,2,3,6,7),M=SIMD.Float32x4.shuffle(i,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,i,1,3,5,7),i=SIMD.Float32x4.mul(M,s),i=SIMD.Float32x4.swizzle(i,1,0,3,2),c=SIMD.Float32x4.mul(e,i),h=SIMD.Float32x4.mul(l,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,i),c),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,i),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),i=SIMD.Float32x4.mul(e,M),i=SIMD.Float32x4.swizzle(i,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,i),c),I=SIMD.Float32x4.mul(l,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(s,i)),I=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,i),I),I=SIMD.Float32x4.swizzle(I,2,3,0,1),i=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,2,3,0,1),s),i=SIMD.Float32x4.swizzle(i,1,0,3,2),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(M,i),c),S=SIMD.Float32x4.mul(l,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(M,i)),S=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,i),S),S=SIMD.Float32x4.swizzle(S,2,3,0,1),i=SIMD.Float32x4.mul(l,e),i=SIMD.Float32x4.swizzle(i,1,0,3,2),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,i),S),I=SIMD.Float32x4.sub(SIMD.Float32x4.mul(M,i),I),i=SIMD.Float32x4.swizzle(i,2,3,0,1),S=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,i),S),I=SIMD.Float32x4.sub(I,SIMD.Float32x4.mul(M,i)),i=SIMD.Float32x4.mul(l,s),i=SIMD.Float32x4.swizzle(i,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(M,i)),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,i),S),i=SIMD.Float32x4.swizzle(i,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(M,i),h),S=SIMD.Float32x4.sub(S,SIMD.Float32x4.mul(e,i)),i=SIMD.Float32x4.mul(l,M),i=SIMD.Float32x4.swizzle(i,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,i),h),I=SIMD.Float32x4.sub(I,SIMD.Float32x4.mul(e,i)),i=SIMD.Float32x4.swizzle(i,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,i)),I=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,i),I),SIMD.Float32x4.store(t,0,c),SIMD.Float32x4.store(t,4,h),SIMD.Float32x4.store(t,8,S),SIMD.Float32x4.store(t,12,I),t},o.adjoint=r.USE_SIMD?o.SIMD.adjoint:o.scalar.adjoint,o.determinant=function(t){var a=t[0],n=t[1],r=t[2],o=t[3],u=t[4],l=t[5],e=t[6],M=t[7],s=t[8],i=t[9],c=t[10],h=t[11],S=t[12],I=t[13],f=t[14],x=t[15],D=a*l-n*u,F=a*e-r*u,m=a*M-o*u,d=n*e-r*l,b=n*M-o*l,v=r*M-o*e,z=s*I-i*S,p=s*f-c*S,w=s*x-h*S,E=i*f-c*I,A=i*x-h*I,P=c*x-h*f;return D*P-F*A+m*E+d*w-b*p+v*z},o.SIMD.multiply=function(t,a,n){var r=SIMD.Float32x4.load(a,0),o=SIMD.Float32x4.load(a,4),u=SIMD.Float32x4.load(a,8),l=SIMD.Float32x4.load(a,12),e=SIMD.Float32x4.load(n,0),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,3,3,3,3),l))));SIMD.Float32x4.store(t,0,M);var s=SIMD.Float32x4.load(n,4),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),l))));SIMD.Float32x4.store(t,4,i);var c=SIMD.Float32x4.load(n,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),l))));SIMD.Float32x4.store(t,8,h);var S=SIMD.Float32x4.load(n,12),I=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S,3,3,3,3),l))));return SIMD.Float32x4.store(t,12,I),t},o.scalar.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=a[4],M=a[5],s=a[6],i=a[7],c=a[8],h=a[9],S=a[10],I=a[11],f=a[12],x=a[13],D=a[14],F=a[15],m=n[0],d=n[1],b=n[2],v=n[3];return t[0]=m*r+d*e+b*c+v*f,t[1]=m*o+d*M+b*h+v*x,t[2]=m*u+d*s+b*S+v*D,t[3]=m*l+d*i+b*I+v*F,m=n[4],d=n[5],b=n[6],v=n[7],t[4]=m*r+d*e+b*c+v*f,t[5]=m*o+d*M+b*h+v*x,t[6]=m*u+d*s+b*S+v*D,t[7]=m*l+d*i+b*I+v*F,m=n[8],d=n[9],b=n[10],v=n[11],t[8]=m*r+d*e+b*c+v*f,t[9]=m*o+d*M+b*h+v*x,t[10]=m*u+d*s+b*S+v*D,t[11]=m*l+d*i+b*I+v*F,m=n[12],d=n[13],b=n[14],v=n[15],t[12]=m*r+d*e+b*c+v*f,t[13]=m*o+d*M+b*h+v*x,t[14]=m*u+d*s+b*S+v*D,t[15]=m*l+d*i+b*I+v*F,t},o.multiply=r.USE_SIMD?o.SIMD.multiply:o.scalar.multiply,o.mul=o.multiply,o.scalar.translate=function(t,a,n){var r,o,u,l,e,M,s,i,c,h,S,I,f=n[0],x=n[1],D=n[2];return a===t?(t[12]=a[0]*f+a[4]*x+a[8]*D+a[12],t[13]=a[1]*f+a[5]*x+a[9]*D+a[13],t[14]=a[2]*f+a[6]*x+a[10]*D+a[14],t[15]=a[3]*f+a[7]*x+a[11]*D+a[15]):(r=a[0],o=a[1],u=a[2],l=a[3],e=a[4],M=a[5],s=a[6],i=a[7],c=a[8],h=a[9],S=a[10],I=a[11],t[0]=r,t[1]=o,t[2]=u,t[3]=l,t[4]=e,t[5]=M,t[6]=s,t[7]=i,t[8]=c,t[9]=h,t[10]=S,t[11]=I,t[12]=r*f+e*x+c*D+a[12],t[13]=o*f+M*x+h*D+a[13],t[14]=u*f+s*x+S*D+a[14],t[15]=l*f+i*x+I*D+a[15]),t},o.SIMD.translate=function(t,a,n){var r=SIMD.Float32x4.load(a,0),o=SIMD.Float32x4.load(a,4),u=SIMD.Float32x4.load(a,8),l=SIMD.Float32x4.load(a,12),e=SIMD.Float32x4(n[0],n[1],n[2],0);a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(e,0,0,0,0)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(e,1,1,1,1)),u=SIMD.Float32x4.mul(u,SIMD.Float32x4.swizzle(e,2,2,2,2));var M=SIMD.Float32x4.add(r,SIMD.Float32x4.add(o,SIMD.Float32x4.add(u,l)));return SIMD.Float32x4.store(t,12,M),t},o.translate=r.USE_SIMD?o.SIMD.translate:o.scalar.translate,o.scalar.scale=function(t,a,n){var r=n[0],o=n[1],u=n[2];return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*o,t[5]=a[5]*o,t[6]=a[6]*o,t[7]=a[7]*o,t[8]=a[8]*u,t[9]=a[9]*u,t[10]=a[10]*u,t[11]=a[11]*u,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},o.SIMD.scale=function(t,a,n){var r,o,u,l=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(a,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(l,0,0,0,0))),o=SIMD.Float32x4.load(a,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(l,1,1,1,1))),u=SIMD.Float32x4.load(a,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(u,SIMD.Float32x4.swizzle(l,2,2,2,2))),t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},o.scale=r.USE_SIMD?o.SIMD.scale:o.scalar.scale,o.rotate=function(t,a,n,o){var u,l,e,M,s,i,c,h,S,I,f,x,D,F,m,d,b,v,z,p,w,E,A,P,L=o[0],q=o[1],R=o[2],N=Math.sqrt(L*L+q*q+R*R);return Math.abs(N)<r.EPSILON?null:(N=1/N,L*=N,q*=N,R*=N,u=Math.sin(n),l=Math.cos(n),e=1-l,M=a[0],s=a[1],i=a[2],c=a[3],h=a[4],S=a[5],I=a[6],f=a[7],x=a[8],D=a[9],F=a[10],m=a[11],d=L*L*e+l,b=q*L*e+R*u,v=R*L*e-q*u,z=L*q*e-R*u,p=q*q*e+l,w=R*q*e+L*u,E=L*R*e+q*u,A=q*R*e-L*u,P=R*R*e+l,t[0]=M*d+h*b+x*v,t[1]=s*d+S*b+D*v,t[2]=i*d+I*b+F*v,t[3]=c*d+f*b+m*v,t[4]=M*z+h*p+x*w,t[5]=s*z+S*p+D*w,t[6]=i*z+I*p+F*w,t[7]=c*z+f*p+m*w,t[8]=M*E+h*A+x*P,t[9]=s*E+S*A+D*P,t[10]=i*E+I*A+F*P,t[11]=c*E+f*A+m*P,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)},o.scalar.rotateX=function(t,a,n){var r=Math.sin(n),o=Math.cos(n),u=a[4],l=a[5],e=a[6],M=a[7],s=a[8],i=a[9],c=a[10],h=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=u*o+s*r,t[5]=l*o+i*r,t[6]=e*o+c*r,t[7]=M*o+h*r,t[8]=s*o-u*r,t[9]=i*o-l*r,t[10]=c*o-e*r,t[11]=h*o-M*r,t},o.SIMD.rotateX=function(t,a,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var u=SIMD.Float32x4.load(a,4),l=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(u,o),SIMD.Float32x4.mul(l,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,o),SIMD.Float32x4.mul(u,r))),t},o.rotateX=r.USE_SIMD?o.SIMD.rotateX:o.scalar.rotateX,o.scalar.rotateY=function(t,a,n){var r=Math.sin(n),o=Math.cos(n),u=a[0],l=a[1],e=a[2],M=a[3],s=a[8],i=a[9],c=a[10],h=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=u*o-s*r,t[1]=l*o-i*r,t[2]=e*o-c*r,t[3]=M*o-h*r,t[8]=u*r+s*o,t[9]=l*r+i*o,t[10]=e*r+c*o,t[11]=M*r+h*o,t},o.SIMD.rotateY=function(t,a,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var u=SIMD.Float32x4.load(a,0),l=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,o),SIMD.Float32x4.mul(l,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(u,r),SIMD.Float32x4.mul(l,o))),t},o.rotateY=r.USE_SIMD?o.SIMD.rotateY:o.scalar.rotateY,o.scalar.rotateZ=function(t,a,n){var r=Math.sin(n),o=Math.cos(n),u=a[0],l=a[1],e=a[2],M=a[3],s=a[4],i=a[5],c=a[6],h=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=u*o+s*r,t[1]=l*o+i*r,t[2]=e*o+c*r,t[3]=M*o+h*r,t[4]=s*o-u*r,t[5]=i*o-l*r,t[6]=c*o-e*r,t[7]=h*o-M*r,t},o.SIMD.rotateZ=function(t,a,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var u=SIMD.Float32x4.load(a,0),l=SIMD.Float32x4.load(a,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(u,o),SIMD.Float32x4.mul(l,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,o),SIMD.Float32x4.mul(u,r))),t},o.rotateZ=r.USE_SIMD?o.SIMD.rotateZ:o.scalar.rotateZ,o.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},o.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotation=function(t,a,n){var o,u,l,e=n[0],M=n[1],s=n[2],i=Math.sqrt(e*e+M*M+s*s);return Math.abs(i)<r.EPSILON?null:(i=1/i,e*=i,M*=i,s*=i,o=Math.sin(a),u=Math.cos(a),l=1-u,t[0]=e*e*l+u,t[1]=M*e*l+s*o,t[2]=s*e*l-M*o,t[3]=0,t[4]=e*M*l-s*o,t[5]=M*M*l+u,t[6]=s*M*l+e*o,t[7]=0,t[8]=e*s*l+M*o,t[9]=M*s*l-e*o,t[10]=s*s*l+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},o.fromXRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromYRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromZRotation=function(t,a){var n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotationTranslation=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=r+r,M=o+o,s=u+u,i=r*e,c=r*M,h=r*s,S=o*M,I=o*s,f=u*s,x=l*e,D=l*M,F=l*s;return t[0]=1-(S+f),t[1]=c+F,t[2]=h-D,t[3]=0,t[4]=c-F,t[5]=1-(i+f),t[6]=I+x,t[7]=0,t[8]=h+D,t[9]=I-x,t[10]=1-(i+S),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.getTranslation=function(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t},o.getRotation=function(t,a){var n=a[0]+a[5]+a[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(a[6]-a[9])/r,t[1]=(a[8]-a[2])/r,t[2]=(a[1]-a[4])/r):a[0]>a[5]&a[0]>a[10]?(r=2*Math.sqrt(1+a[0]-a[5]-a[10]),t[3]=(a[6]-a[9])/r,t[0]=.25*r,t[1]=(a[1]+a[4])/r,t[2]=(a[8]+a[2])/r):a[5]>a[10]?(r=2*Math.sqrt(1+a[5]-a[0]-a[10]),t[3]=(a[8]-a[2])/r,t[0]=(a[1]+a[4])/r,t[1]=.25*r,t[2]=(a[6]+a[9])/r):(r=2*Math.sqrt(1+a[10]-a[0]-a[5]),t[3]=(a[1]-a[4])/r,t[0]=(a[8]+a[2])/r,t[1]=(a[6]+a[9])/r,t[2]=.25*r),t},o.fromRotationTranslationScale=function(t,a,n,r){var o=a[0],u=a[1],l=a[2],e=a[3],M=o+o,s=u+u,i=l+l,c=o*M,h=o*s,S=o*i,I=u*s,f=u*i,x=l*i,D=e*M,F=e*s,m=e*i,d=r[0],b=r[1],v=r[2];return t[0]=(1-(I+x))*d,t[1]=(h+m)*d,t[2]=(S-F)*d,t[3]=0,t[4]=(h-m)*b,t[5]=(1-(c+x))*b,t[6]=(f+D)*b,t[7]=0,t[8]=(S+F)*v,t[9]=(f-D)*v,t[10]=(1-(c+I))*v,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.fromRotationTranslationScaleOrigin=function(t,a,n,r,o){
var u=a[0],l=a[1],e=a[2],M=a[3],s=u+u,i=l+l,c=e+e,h=u*s,S=u*i,I=u*c,f=l*i,x=l*c,D=e*c,F=M*s,m=M*i,d=M*c,b=r[0],v=r[1],z=r[2],p=o[0],w=o[1],E=o[2];return t[0]=(1-(f+D))*b,t[1]=(S+d)*b,t[2]=(I-m)*b,t[3]=0,t[4]=(S-d)*v,t[5]=(1-(h+D))*v,t[6]=(x+F)*v,t[7]=0,t[8]=(I+m)*z,t[9]=(x-F)*z,t[10]=(1-(h+f))*z,t[11]=0,t[12]=n[0]+p-(t[0]*p+t[4]*w+t[8]*E),t[13]=n[1]+w-(t[1]*p+t[5]*w+t[9]*E),t[14]=n[2]+E-(t[2]*p+t[6]*w+t[10]*E),t[15]=1,t},o.fromQuat=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],l=n+n,e=r+r,M=o+o,s=n*l,i=r*l,c=r*e,h=o*l,S=o*e,I=o*M,f=u*l,x=u*e,D=u*M;return t[0]=1-c-I,t[1]=i+D,t[2]=h-x,t[3]=0,t[4]=i-D,t[5]=1-s-I,t[6]=S+f,t[7]=0,t[8]=h+x,t[9]=S-f,t[10]=1-s-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.frustum=function(t,a,n,r,o,u,l){var e=1/(n-a),M=1/(o-r),s=1/(u-l);return t[0]=2*u*e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*u*M,t[6]=0,t[7]=0,t[8]=(n+a)*e,t[9]=(o+r)*M,t[10]=(l+u)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=l*u*2*s,t[15]=0,t},o.perspective=function(t,a,n,r,o){var u=1/Math.tan(a/2),l=1/(r-o);return t[0]=u/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*l,t[15]=0,t},o.perspectiveFromFieldOfView=function(t,a,n,r){var o=Math.tan(a.upDegrees*Math.PI/180),u=Math.tan(a.downDegrees*Math.PI/180),l=Math.tan(a.leftDegrees*Math.PI/180),e=Math.tan(a.rightDegrees*Math.PI/180),M=2/(l+e),s=2/(o+u);return t[0]=M,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((l-e)*M*.5),t[9]=(o-u)*s*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},o.ortho=function(t,a,n,r,o,u,l){var e=1/(a-n),M=1/(r-o),s=1/(u-l);return t[0]=-2*e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*M,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(a+n)*e,t[13]=(o+r)*M,t[14]=(l+u)*s,t[15]=1,t},o.lookAt=function(t,a,n,u){var l,e,M,s,i,c,h,S,I,f,x=a[0],D=a[1],F=a[2],m=u[0],d=u[1],b=u[2],v=n[0],z=n[1],p=n[2];return Math.abs(x-v)<r.EPSILON&&Math.abs(D-z)<r.EPSILON&&Math.abs(F-p)<r.EPSILON?o.identity(t):(h=x-v,S=D-z,I=F-p,f=1/Math.sqrt(h*h+S*S+I*I),h*=f,S*=f,I*=f,l=d*I-b*S,e=b*h-m*I,M=m*S-d*h,f=Math.sqrt(l*l+e*e+M*M),f?(f=1/f,l*=f,e*=f,M*=f):(l=0,e=0,M=0),s=S*M-I*e,i=I*l-h*M,c=h*e-S*l,f=Math.sqrt(s*s+i*i+c*c),f?(f=1/f,s*=f,i*=f,c*=f):(s=0,i=0,c=0),t[0]=l,t[1]=s,t[2]=h,t[3]=0,t[4]=e,t[5]=i,t[6]=S,t[7]=0,t[8]=M,t[9]=c,t[10]=I,t[11]=0,t[12]=-(l*x+e*D+M*F),t[13]=-(s*x+i*D+c*F),t[14]=-(h*x+S*D+I*F),t[15]=1,t)},o.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t[6]=a[6]+n[6],t[7]=a[7]+n[7],t[8]=a[8]+n[8],t[9]=a[9]+n[9],t[10]=a[10]+n[10],t[11]=a[11]+n[11],t[12]=a[12]+n[12],t[13]=a[13]+n[13],t[14]=a[14]+n[14],t[15]=a[15]+n[15],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t[6]=a[6]-n[6],t[7]=a[7]-n[7],t[8]=a[8]-n[8],t[9]=a[9]-n[9],t[10]=a[10]-n[10],t[11]=a[11]-n[11],t[12]=a[12]-n[12],t[13]=a[13]-n[13],t[14]=a[14]-n[14],t[15]=a[15]-n[15],t},o.sub=o.subtract,o.multiplyScalar=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=a[7]*n,t[8]=a[8]*n,t[9]=a[9]*n,t[10]=a[10]*n,t[11]=a[11]*n,t[12]=a[12]*n,t[13]=a[13]*n,t[14]=a[14]*n,t[15]=a[15]*n,t},o.multiplyScalarAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t[4]=a[4]+n[4]*r,t[5]=a[5]+n[5]*r,t[6]=a[6]+n[6]*r,t[7]=a[7]+n[7]*r,t[8]=a[8]+n[8]*r,t[9]=a[9]+n[9]*r,t[10]=a[10]+n[10]*r,t[11]=a[11]+n[11]*r,t[12]=a[12]+n[12]*r,t[13]=a[13]+n[13]*r,t[14]=a[14]+n[14]*r,t[15]=a[15]+n[15]*r,t},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],l=t[3],e=t[4],M=t[5],s=t[6],i=t[7],c=t[8],h=t[9],S=t[10],I=t[11],f=t[12],x=t[13],D=t[14],F=t[15],m=a[0],d=a[1],b=a[2],v=a[3],z=a[4],p=a[5],w=a[6],E=a[7],A=a[8],P=a[9],L=a[10],q=a[11],R=a[12],N=a[13],O=a[14],Y=a[15];return Math.abs(n-m)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(o-d)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(u-b)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(l-v)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(e-z)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(z))&&Math.abs(M-p)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(p))&&Math.abs(s-w)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(i-E)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(c-A)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(h-P)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(S-L)<=r.EPSILON*Math.max(1,Math.abs(S),Math.abs(L))&&Math.abs(I-q)<=r.EPSILON*Math.max(1,Math.abs(I),Math.abs(q))&&Math.abs(f-R)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(x-N)<=r.EPSILON*Math.max(1,Math.abs(x),Math.abs(N))&&Math.abs(D-O)<=r.EPSILON*Math.max(1,Math.abs(D),Math.abs(O))&&Math.abs(F-Y)<=r.EPSILON*Math.max(1,Math.abs(F),Math.abs(Y))},t.exports=o},function(t,a,n){var r=n(1),o=n(4),u=n(7),l=n(8),e={};e.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.rotationTo=function(){var t=u.create(),a=u.fromValues(1,0,0),n=u.fromValues(0,1,0);return function(r,o,l){var M=u.dot(o,l);return-.999999>M?(u.cross(t,a,o),u.length(t)<1e-6&&u.cross(t,n,o),u.normalize(t,t),e.setAxisAngle(r,t,Math.PI),r):M>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(u.cross(t,o,l),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+M,e.normalize(r,r))}}(),e.setAxes=function(){var t=o.create();return function(a,n,r,o){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],e.normalize(a,e.fromMat3(a,t))}}(),e.clone=l.clone,e.fromValues=l.fromValues,e.copy=l.copy,e.set=l.set,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.setAxisAngle=function(t,a,n){n*=.5;var r=Math.sin(n);return t[0]=r*a[0],t[1]=r*a[1],t[2]=r*a[2],t[3]=Math.cos(n),t},e.getAxisAngle=function(t,a){var n=2*Math.acos(a[3]),r=Math.sin(n/2);return 0!=r?(t[0]=a[0]/r,t[1]=a[1]/r,t[2]=a[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},e.add=l.add,e.multiply=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3],e=n[0],M=n[1],s=n[2],i=n[3];return t[0]=r*i+l*e+o*s-u*M,t[1]=o*i+l*M+u*e-r*s,t[2]=u*i+l*s+r*M-o*e,t[3]=l*i-r*e-o*M-u*s,t},e.mul=e.multiply,e.scale=l.scale,e.rotateX=function(t,a,n){n*=.5;var r=a[0],o=a[1],u=a[2],l=a[3],e=Math.sin(n),M=Math.cos(n);return t[0]=r*M+l*e,t[1]=o*M+u*e,t[2]=u*M-o*e,t[3]=l*M-r*e,t},e.rotateY=function(t,a,n){n*=.5;var r=a[0],o=a[1],u=a[2],l=a[3],e=Math.sin(n),M=Math.cos(n);return t[0]=r*M-u*e,t[1]=o*M+l*e,t[2]=u*M+r*e,t[3]=l*M-o*e,t},e.rotateZ=function(t,a,n){n*=.5;var r=a[0],o=a[1],u=a[2],l=a[3],e=Math.sin(n),M=Math.cos(n);return t[0]=r*M+o*e,t[1]=o*M-r*e,t[2]=u*M+l*e,t[3]=l*M-u*e,t},e.calculateW=function(t,a){var n=a[0],r=a[1],o=a[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t},e.dot=l.dot,e.lerp=l.lerp,e.slerp=function(t,a,n,r){var o,u,l,e,M,s=a[0],i=a[1],c=a[2],h=a[3],S=n[0],I=n[1],f=n[2],x=n[3];return u=s*S+i*I+c*f+h*x,0>u&&(u=-u,S=-S,I=-I,f=-f,x=-x),1-u>1e-6?(o=Math.acos(u),l=Math.sin(o),e=Math.sin((1-r)*o)/l,M=Math.sin(r*o)/l):(e=1-r,M=r),t[0]=e*s+M*S,t[1]=e*i+M*I,t[2]=e*c+M*f,t[3]=e*h+M*x,t},e.sqlerp=function(){var t=e.create(),a=e.create();return function(n,r,o,u,l,M){return e.slerp(t,r,l,M),e.slerp(a,o,u,M),e.slerp(n,t,a,2*M*(1-M)),n}}(),e.invert=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],l=n*n+r*r+o*o+u*u,e=l?1/l:0;return t[0]=-n*e,t[1]=-r*e,t[2]=-o*e,t[3]=u*e,t},e.conjugate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=a[3],t},e.length=l.length,e.len=e.length,e.squaredLength=l.squaredLength,e.sqrLen=e.squaredLength,e.normalize=l.normalize,e.fromMat3=function(t,a){var n,r=a[0]+a[4]+a[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(a[5]-a[7])*n,t[1]=(a[6]-a[2])*n,t[2]=(a[1]-a[3])*n;else{var o=0;a[4]>a[0]&&(o=1),a[8]>a[3*o+o]&&(o=2);var u=(o+1)%3,l=(o+2)%3;n=Math.sqrt(a[3*o+o]-a[3*u+u]-a[3*l+l]+1),t[o]=.5*n,n=.5/n,t[3]=(a[3*u+l]-a[3*l+u])*n,t[u]=(a[3*u+o]+a[3*o+u])*n,t[l]=(a[3*l+o]+a[3*o+l])*n}return t},e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=l.exactEquals,e.equals=l.equals,t.exports=e},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},o.clone=function(t){var a=new r.ARRAY_TYPE(3);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a},o.fromValues=function(t,a,n){var o=new r.ARRAY_TYPE(3);return o[0]=t,o[1]=a,o[2]=n,o},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t},o.set=function(t,a,n,r){return t[0]=a,t[1]=n,t[2]=r,t},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t},o.sub=o.subtract,o.multiply=function(t,a,n){return t[0]=a[0]*n[0],t[1]=a[1]*n[1],t[2]=a[2]*n[2],t},o.mul=o.multiply,o.divide=function(t,a,n){return t[0]=a[0]/n[0],t[1]=a[1]/n[1],t[2]=a[2]/n[2],t},o.div=o.divide,o.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t[2]=Math.ceil(a[2]),t},o.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t[2]=Math.floor(a[2]),t},o.min=function(t,a,n){return t[0]=Math.min(a[0],n[0]),t[1]=Math.min(a[1],n[1]),t[2]=Math.min(a[2],n[2]),t},o.max=function(t,a,n){return t[0]=Math.max(a[0],n[0]),t[1]=Math.max(a[1],n[1]),t[2]=Math.max(a[2],n[2]),t},o.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t[2]=Math.round(a[2]),t},o.scale=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t},o.scaleAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t},o.distance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1],o=a[2]-t[2];return Math.sqrt(n*n+r*r+o*o)},o.dist=o.distance,o.squaredDistance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1],o=a[2]-t[2];return n*n+r*r+o*o},o.sqrDist=o.squaredDistance,o.length=function(t){var a=t[0],n=t[1],r=t[2];return Math.sqrt(a*a+n*n+r*r)},o.len=o.length,o.squaredLength=function(t){var a=t[0],n=t[1],r=t[2];return a*a+n*n+r*r},o.sqrLen=o.squaredLength,o.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t},o.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t},o.normalize=function(t,a){var n=a[0],r=a[1],o=a[2],u=n*n+r*r+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=a[0]*u,t[1]=a[1]*u,t[2]=a[2]*u),t},o.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]},o.cross=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=n[0],e=n[1],M=n[2];return t[0]=o*M-u*e,t[1]=u*l-r*M,t[2]=r*e-o*l,t},o.lerp=function(t,a,n,r){var o=a[0],u=a[1],l=a[2];return t[0]=o+r*(n[0]-o),t[1]=u+r*(n[1]-u),t[2]=l+r*(n[2]-l),t},o.hermite=function(t,a,n,r,o,u){var l=u*u,e=l*(2*u-3)+1,M=l*(u-2)+u,s=l*(u-1),i=l*(3-2*u);return t[0]=a[0]*e+n[0]*M+r[0]*s+o[0]*i,t[1]=a[1]*e+n[1]*M+r[1]*s+o[1]*i,t[2]=a[2]*e+n[2]*M+r[2]*s+o[2]*i,t},o.bezier=function(t,a,n,r,o,u){var l=1-u,e=l*l,M=u*u,s=e*l,i=3*u*e,c=3*M*l,h=M*u;return t[0]=a[0]*s+n[0]*i+r[0]*c+o[0]*h,t[1]=a[1]*s+n[1]*i+r[1]*c+o[1]*h,t[2]=a[2]*s+n[2]*i+r[2]*c+o[2]*h,t},o.random=function(t,a){a=a||1;var n=2*r.RANDOM()*Math.PI,o=2*r.RANDOM()-1,u=Math.sqrt(1-o*o)*a;return t[0]=Math.cos(n)*u,t[1]=Math.sin(n)*u,t[2]=o*a,t},o.transformMat4=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=n[3]*r+n[7]*o+n[11]*u+n[15];return l=l||1,t[0]=(n[0]*r+n[4]*o+n[8]*u+n[12])/l,t[1]=(n[1]*r+n[5]*o+n[9]*u+n[13])/l,t[2]=(n[2]*r+n[6]*o+n[10]*u+n[14])/l,t},o.transformMat3=function(t,a,n){var r=a[0],o=a[1],u=a[2];return t[0]=r*n[0]+o*n[3]+u*n[6],t[1]=r*n[1]+o*n[4]+u*n[7],t[2]=r*n[2]+o*n[5]+u*n[8],t},o.transformQuat=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=n[0],e=n[1],M=n[2],s=n[3],i=s*r+e*u-M*o,c=s*o+M*r-l*u,h=s*u+l*o-e*r,S=-l*r-e*o-M*u;return t[0]=i*s+S*-l+c*-M-h*-e,t[1]=c*s+S*-e+h*-l-i*-M,t[2]=h*s+S*-M+i*-e-c*-l,t},o.rotateX=function(t,a,n,r){var o=[],u=[];return o[0]=a[0]-n[0],o[1]=a[1]-n[1],o[2]=a[2]-n[2],u[0]=o[0],u[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),u[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=u[0]+n[0],t[1]=u[1]+n[1],t[2]=u[2]+n[2],t},o.rotateY=function(t,a,n,r){var o=[],u=[];return o[0]=a[0]-n[0],o[1]=a[1]-n[1],o[2]=a[2]-n[2],u[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),u[1]=o[1],u[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=u[0]+n[0],t[1]=u[1]+n[1],t[2]=u[2]+n[2],t},o.rotateZ=function(t,a,n,r){var o=[],u=[];return o[0]=a[0]-n[0],o[1]=a[1]-n[1],o[2]=a[2]-n[2],u[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),u[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),u[2]=o[2],t[0]=u[0]+n[0],t[1]=u[1]+n[1],t[2]=u[2]+n[2],t},o.forEach=function(){var t=o.create();return function(a,n,r,o,u,l){var e,M;for(n||(n=3),r||(r=0),M=o?Math.min(o*n+r,a.length):a.length,e=r;M>e;e+=n)t[0]=a[e],t[1]=a[e+1],t[2]=a[e+2],u(t,t,l),a[e]=t[0],a[e+1]=t[1],a[e+2]=t[2];return a}}(),o.angle=function(t,a){var n=o.fromValues(t[0],t[1],t[2]),r=o.fromValues(a[0],a[1],a[2]);o.normalize(n,n),o.normalize(r,r);var u=o.dot(n,r);return u>1?0:Math.acos(u)},o.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],l=a[0],e=a[1],M=a[2];return Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-e)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(e))&&Math.abs(u-M)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},o.clone=function(t){var a=new r.ARRAY_TYPE(4);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a},o.fromValues=function(t,a,n,o){var u=new r.ARRAY_TYPE(4);return u[0]=t,u[1]=a,u[2]=n,u[3]=o,u},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t},o.set=function(t,a,n,r,o){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t},o.sub=o.subtract,o.multiply=function(t,a,n){return t[0]=a[0]*n[0],t[1]=a[1]*n[1],t[2]=a[2]*n[2],t[3]=a[3]*n[3],t},o.mul=o.multiply,o.divide=function(t,a,n){return t[0]=a[0]/n[0],t[1]=a[1]/n[1],t[2]=a[2]/n[2],t[3]=a[3]/n[3],t},o.div=o.divide,o.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t[2]=Math.ceil(a[2]),t[3]=Math.ceil(a[3]),t},o.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t[2]=Math.floor(a[2]),t[3]=Math.floor(a[3]),t},o.min=function(t,a,n){return t[0]=Math.min(a[0],n[0]),t[1]=Math.min(a[1],n[1]),t[2]=Math.min(a[2],n[2]),t[3]=Math.min(a[3],n[3]),t},o.max=function(t,a,n){return t[0]=Math.max(a[0],n[0]),t[1]=Math.max(a[1],n[1]),t[2]=Math.max(a[2],n[2]),t[3]=Math.max(a[3],n[3]),t},o.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t[2]=Math.round(a[2]),t[3]=Math.round(a[3]),t},o.scale=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t},o.scaleAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t},o.distance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1],o=a[2]-t[2],u=a[3]-t[3];return Math.sqrt(n*n+r*r+o*o+u*u)},o.dist=o.distance,o.squaredDistance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1],o=a[2]-t[2],u=a[3]-t[3];return n*n+r*r+o*o+u*u},o.sqrDist=o.squaredDistance,o.length=function(t){var a=t[0],n=t[1],r=t[2],o=t[3];return Math.sqrt(a*a+n*n+r*r+o*o)},o.len=o.length,o.squaredLength=function(t){var a=t[0],n=t[1],r=t[2],o=t[3];return a*a+n*n+r*r+o*o},o.sqrLen=o.squaredLength,o.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t[3]=-a[3],t},o.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t[3]=1/a[3],t},o.normalize=function(t,a){var n=a[0],r=a[1],o=a[2],u=a[3],l=n*n+r*r+o*o+u*u;return l>0&&(l=1/Math.sqrt(l),t[0]=n*l,t[1]=r*l,t[2]=o*l,t[3]=u*l),t},o.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]+t[3]*a[3]},o.lerp=function(t,a,n,r){var o=a[0],u=a[1],l=a[2],e=a[3];return t[0]=o+r*(n[0]-o),t[1]=u+r*(n[1]-u),t[2]=l+r*(n[2]-l),t[3]=e+r*(n[3]-e),t},o.random=function(t,a){return a=a||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),o.normalize(t,t),o.scale(t,t,a),t},o.transformMat4=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=a[3];return t[0]=n[0]*r+n[4]*o+n[8]*u+n[12]*l,t[1]=n[1]*r+n[5]*o+n[9]*u+n[13]*l,t[2]=n[2]*r+n[6]*o+n[10]*u+n[14]*l,t[3]=n[3]*r+n[7]*o+n[11]*u+n[15]*l,t},o.transformQuat=function(t,a,n){var r=a[0],o=a[1],u=a[2],l=n[0],e=n[1],M=n[2],s=n[3],i=s*r+e*u-M*o,c=s*o+M*r-l*u,h=s*u+l*o-e*r,S=-l*r-e*o-M*u;return t[0]=i*s+S*-l+c*-M-h*-e,t[1]=c*s+S*-e+h*-l-i*-M,t[2]=h*s+S*-M+i*-e-c*-l,t[3]=a[3],t},o.forEach=function(){var t=o.create();return function(a,n,r,o,u,l){var e,M;for(n||(n=4),r||(r=0),M=o?Math.min(o*n+r,a.length):a.length,e=r;M>e;e+=n)t[0]=a[e],t[1]=a[e+1],t[2]=a[e+2],t[3]=a[e+3],u(t,t,l),a[e]=t[0],a[e+1]=t[1],a[e+2]=t[2],a[e+3]=t[3];return a}}(),o.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]},o.equals=function(t,a){var n=t[0],o=t[1],u=t[2],l=t[3],e=a[0],M=a[1],s=a[2],i=a[3];return Math.abs(n-e)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))&&Math.abs(o-M)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(u-s)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(l-i)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(i))},t.exports=o},function(t,a,n){var r=n(1),o={};o.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},o.clone=function(t){var a=new r.ARRAY_TYPE(2);return a[0]=t[0],a[1]=t[1],a},o.fromValues=function(t,a){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=a,n},o.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t},o.set=function(t,a,n){return t[0]=a,t[1]=n,t},o.add=function(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t},o.subtract=function(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t},o.sub=o.subtract,o.multiply=function(t,a,n){return t[0]=a[0]*n[0],t[1]=a[1]*n[1],t},o.mul=o.multiply,o.divide=function(t,a,n){return t[0]=a[0]/n[0],t[1]=a[1]/n[1],t},o.div=o.divide,o.ceil=function(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t},o.floor=function(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t},o.min=function(t,a,n){return t[0]=Math.min(a[0],n[0]),t[1]=Math.min(a[1],n[1]),t},o.max=function(t,a,n){return t[0]=Math.max(a[0],n[0]),t[1]=Math.max(a[1],n[1]),t},o.round=function(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t},o.scale=function(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t},o.scaleAndAdd=function(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t},o.distance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1];return Math.sqrt(n*n+r*r)},o.dist=o.distance,o.squaredDistance=function(t,a){var n=a[0]-t[0],r=a[1]-t[1];return n*n+r*r},o.sqrDist=o.squaredDistance,o.length=function(t){var a=t[0],n=t[1];return Math.sqrt(a*a+n*n)},o.len=o.length,o.squaredLength=function(t){var a=t[0],n=t[1];return a*a+n*n},o.sqrLen=o.squaredLength,o.negate=function(t,a){return t[0]=-a[0],t[1]=-a[1],t},o.inverse=function(t,a){return t[0]=1/a[0],t[1]=1/a[1],t},o.normalize=function(t,a){var n=a[0],r=a[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=a[0]*o,t[1]=a[1]*o),t},o.dot=function(t,a){return t[0]*a[0]+t[1]*a[1]},o.cross=function(t,a,n){var r=a[0]*n[1]-a[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},o.lerp=function(t,a,n,r){var o=a[0],u=a[1];return t[0]=o+r*(n[0]-o),t[1]=u+r*(n[1]-u),t},o.random=function(t,a){a=a||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t},o.transformMat2=function(t,a,n){var r=a[0],o=a[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t},o.transformMat2d=function(t,a,n){var r=a[0],o=a[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t},o.transformMat3=function(t,a,n){var r=a[0],o=a[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t},o.transformMat4=function(t,a,n){var r=a[0],o=a[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t},o.forEach=function(){var t=o.create();return function(a,n,r,o,u,l){var e,M;for(n||(n=2),r||(r=0),M=o?Math.min(o*n+r,a.length):a.length,e=r;M>e;e+=n)t[0]=a[e],t[1]=a[e+1],u(t,t,l),a[e]=t[0],a[e+1]=t[1];return a}}(),o.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},o.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]},o.equals=function(t,a){var n=t[0],o=t[1],u=a[0],l=a[1];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))},t.exports=o}])});

},{}],24:[function(require,module,exports){
"use strict";function createShaders(r,e){function a(r,e,a,t){if(r.useProgram(e),a)for(var o=0;o<a.length;++o)e[a[o]]=r.getAttribLocation(e,a[o]);if(t)for(var o=0;o<t.length;++o)e[t[o]]=r.getUniformLocation(e,t[o]);r.useProgram(null)}function t(r,e){var a=document.getElementById(e);if(!a)throw new Error("unknown element id");for(var t="",o=a.firstChild;o;)3==o.nodeType&&(t+=o.textContent),o=o.nextSibling;var i;if("x-shader/x-fragment"==a.type)i=r.createShader(r.FRAGMENT_SHADER);else{if("x-shader/x-vertex"!=a.type)throw new Error("unknown shader type");i=r.createShader(r.VERTEX_SHADER)}if(r.shaderSource(i,t),r.compileShader(i),!r.getShaderParameter(i,r.COMPILE_STATUS))throw new Error(r.getShaderInfoLog(i));return i}if(!e.vs_id)throw new Error("no vertex shader id");if(!e.fs_id)throw new Error("no fragment shader id");var o=t(r,e.vs_id);if(!o)throw new Error("Could not initialise vertexShader");var i=t(r,e.fs_id);if(!i)throw new Error("Could not initialise fragmentShader");if(this.shaderProgram=r.createProgram(),r.attachShader(this.shaderProgram,o),r.attachShader(this.shaderProgram,i),r.linkProgram(this.shaderProgram),!r.getProgramParameter(this.shaderProgram,r.LINK_STATUS)){var n=r.getProgramInfoLog(this.shaderProgram);throw new Error("Failed to initialised shaders, Error linking:"+n)}return a(r,this.shaderProgram,e.arr_attrib,e.arr_uniform),this.shaderProgram}module.exports={createShaders:createShaders};

},{}],25:[function(require,module,exports){
"use strict";function imageToUint8Array(r){var a=document.createElement("canvas"),e=a.getContext("2d");a.width=r.width,a.height=r.height,e.drawImage(r,0,0);var t=e.getImageData(0,0,r.width,r.height),i=new Uint8Array(t.data.buffer);return i}function flipYImageArray(r,a,e){for(var t=new Uint8Array(r.length),i=0,n=e-1;n>=0;n--)for(var g=0;g<4*a;g+=4)for(var o=0;o<4;o++)t[i]=r[4*a*n+g+o],i++;return t}module.exports={imageToUint8Array:imageToUint8Array,flipYImageArray:flipYImageArray};

},{}],26:[function(require,module,exports){
!function(t,n){"use strict";function e(t){return document.createElement(t)}function o(t,n){for(var e in n)try{t.style[e]=n[e]}catch(t){}return t}function a(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof t}function i(t,n){if("array"!==a(n))return-1;if(n.indexOf)return n.indexOf(t);for(var e=0,o=n.length;e<o;e++)if(n[e]===t)return e;return-1}function r(){var t=arguments;for(var n in t[1])if(t[1].hasOwnProperty(n))switch(a(t[1][n])){case"object":t[0][n]=r({},t[0][n],t[1][n]);break;case"array":t[0][n]=t[1][n].slice(0);break;default:t[0][n]=t[1][n]}return t.length>2?r.apply(null,[t[0]].concat(Array.prototype.slice.call(t,2))):t[0]}function h(t,n,e){var o,a,i,r,h,s,u,c,p;return r=e<=.5?e*(1+n):e+n-e*n,0===r?"#000":(h=2*e-r,s=(r-h)/r,t*=6,u=Math.floor(t),c=t-u,p=r*s*c,0===u||6===u?(o=r,a=h+p,i=h):1===u?(o=r-p,a=r,i=h):2===u?(o=h,a=r,i=h+p):3===u?(o=h,a=r-p,i=r):4===u?(o=h+p,a=h,i=r):(o=r,a=h,i=r-p),"#"+l(o)+l(a)+l(i))}function l(t){return t=Math.round(255*t).toString(16),1===t.length?"0"+t:t}function s(t,n,e,o){t.addEventListener?t[o?"removeEventListener":"addEventListener"](n,e,!1):t.attachEvent&&t[o?"detachEvent":"attachEvent"]("on"+n,e)}function u(t,l){function x(){for(j=D.history;j--;)K[j]=0===j?q.fps:K[j-1],Q[j]=0===j?q.duration:Q[j-1]}function b(t,n,e,o){return z[0|t][Math.round(Math.min((n-e)/(o-e)*B,B))]}function w(){L.legend.fps!==U&&(L.legend.fps=U,L.legend[g]=U?"FPS":"ms"),T=U?q.fps:q.duration,L.count[g]=T>999?"999+":T.toFixed(T>99?0:D.decimals)}function y(){if(A=c(),J<A-D.threshold&&(q.fps-=q.fps/Math.max(1,60*D.smoothing/D.interval),q.duration=1e3/q.fps),x(),w(),D.heat){if(N.length)for(j=N.length;j--;)N[j].el.style[M[N[j].name].heatOn]=U?b(M[N[j].name].heatmap,q.fps,0,D.maxFps):b(M[N[j].name].heatmap,q.duration,D.threshold,0);if(L.graph&&M.column.heatOn)for(j=R.length;j--;)R[j].style[M.column.heatOn]=U?b(M.column.heatmap,K[j],0,D.maxFps):b(M.column.heatmap,Q[j],D.threshold,0)}if(L.graph)for(I=0;I<D.history;I++)R[I].style.height=(U?K[I]?Math.round(H/D.maxFps*Math.min(K[I],D.maxFps)):0:Q[I]?Math.round(H/D.threshold*Math.min(Q[I],D.threshold)):0)+"px"}function v(){D.interval<20?(E=d(v),y()):(E=setTimeout(v,D.interval),P=d(y))}function k(t){t=t||window.event,t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0),q.toggle()}function O(){D.toggleOn&&s(L.container,D.toggleOn,k,1),t.removeChild(L.container)}function S(){if(M=u.theme[D.theme],z=M.compiledHeatmaps||[],!z.length&&M.heatmaps.length){for(I=0;I<M.heatmaps.length;I++)for(z[I]=[],j=0;j<=B;j++)z[I][j]=h(.33/B*j,M.heatmaps[I].saturation,M.heatmaps[I].lightness);M.compiledHeatmaps=z}}function F(){L.container&&O(),S(),L.container=o(e("div"),M.container),L.count=L.container.appendChild(o(e("div"),M.count)),L.legend=L.container.appendChild(o(e("div"),M.legend)),L.graph=D.graph?L.container.appendChild(o(e("div"),M.graph)):0,N.length=0;for(var n in L)L[n]&&M[n].heatOn&&N.push({name:n,el:L[n]});if(R.length=0,L.graph)for(L.graph.style.width=D.history*M.column.width+(D.history-1)*M.column.spacing+"px",j=0;j<D.history;j++)R[j]=L.graph.appendChild(o(e("div"),M.column)),R[j].style.position="absolute",R[j].style.bottom=0,R[j].style.right=j*M.column.width+j*M.column.spacing+"px",R[j].style.width=M.column.width+"px",R[j].style.height="0px";C(),w(),t.appendChild(L.container),L.graph&&(H=L.graph.clientHeight),D.toggleOn&&("click"===D.toggleOn&&(L.container.style.cursor="pointer"),s(L.container,D.toggleOn,k))}function C(){o(L.container,D)}"object"===a(t)&&t.nodeType===n&&(l=t,t=document.body),t||(t=document.body);var M,z,A,E,P,H,T,j,I,q=this,D=r({},u.defaults,l||{}),L={},R=[],B=100,N=[],V=0,W=D.threshold,G=0,J=c()-W,K=[],Q=[],U="fps"===D.show;q.options=D,q.fps=0,q.duration=0,q.isPaused=0,q.tickStart=function(){G=c()},q.tick=function(){A=c(),V=A-J,W+=(V-W)/D.smoothing,q.fps=1e3/W,q.duration=G<J?W:A-G,J=A},q.pause=function(){return E&&(q.isPaused=1,clearTimeout(E),p(E),p(P),E=P=0),q},q.resume=function(){return E||(q.isPaused=0,v()),q},q.set=function(t,n){return D[t]=n,U="fps"===D.show,i(t,f)!==-1&&F(),i(t,m)!==-1&&C(),q},q.showDuration=function(){return q.set("show","ms"),q},q.showFps=function(){return q.set("show","fps"),q},q.toggle=function(){return q.set("show",U?"ms":"fps"),q},q.hide=function(){return q.pause(),L.container.style.display="none",q},q.show=function(){return q.resume(),L.container.style.display="block",q},q.destroy=function(){q.pause(),O(),q.tick=q.tickStart=function(){}},function(){F(),v()}()}var c;!function(){var n=t.performance;if(n&&(n.now||n.webkitNow)){var e=n.now?"now":"webkitNow";c=n[e].bind(n)}else c=function(){return+new Date}}();var p=t.cancelAnimationFrame||t.cancelRequestAnimationFrame,d=t.requestAnimationFrame;!function(){for(var n=["moz","webkit","o"],e=0,o=0,a=n.length;o<a&&!p;++o)p=t[n[o]+"CancelAnimationFrame"]||t[n[o]+"CancelRequestAnimationFrame"],d=p&&t[n[o]+"RequestAnimationFrame"];p||(d=function(n){var o=c(),a=Math.max(0,16-(o-e));return e=o+a,t.setTimeout(function(){n(o+a)},a)},p=function(t){clearTimeout(t)})}();var g="string"===a(document.createElement("div").textContent)?"textContent":"innerText";u.extend=r,window.FPSMeter=u,u.defaults={interval:100,smoothing:10,show:"fps",toggleOn:"click",decimals:1,maxFps:60,threshold:100,position:"absolute",zIndex:10,left:"5px",top:"5px",right:"auto",bottom:"auto",margin:"0 0 0 0",theme:"dark",heat:0,graph:0,history:20};var f=["toggleOn","theme","heat","graph","history"],m=["position","zIndex","left","top","right","bottom","margin"]}(window),function(t,n,e){"use strict";n.theme={};var o=n.theme.base={heatmaps:[],container:{heatOn:null,heatmap:null,padding:"5px",minWidth:"95px",height:"30px",lineHeight:"30px",textAlign:"right",textShadow:"none"},count:{heatOn:null,heatmap:null,position:"absolute",top:0,right:0,padding:"5px 10px",height:"30px",fontSize:"24px",fontFamily:"Consolas, Andale Mono, monospace",zIndex:2},legend:{heatOn:null,heatmap:null,position:"absolute",top:0,left:0,padding:"5px 10px",height:"30px",fontSize:"12px",lineHeight:"32px",fontFamily:"sans-serif",textAlign:"left",zIndex:2},graph:{heatOn:null,heatmap:null,position:"relative",boxSizing:"padding-box",MozBoxSizing:"padding-box",height:"100%",zIndex:1},column:{width:4,spacing:1,heatOn:null,heatmap:null}};n.theme.dark=n.extend({},o,{heatmaps:[{saturation:.8,lightness:.8}],container:{background:"#222",color:"#fff",border:"1px solid #1a1a1a",textShadow:"1px 1px 0 #222"},count:{heatOn:"color"},column:{background:"#3f3f3f"}}),n.theme.light=n.extend({},o,{heatmaps:[{saturation:.5,lightness:.5}],container:{color:"#666",background:"#fff",textShadow:"1px 1px 0 rgba(255,255,255,.5), -1px -1px 0 rgba(255,255,255,.5)",boxShadow:"0 0 0 1px rgba(0,0,0,.1)"},count:{heatOn:"color"},column:{background:"#eaeaea"}}),n.theme.colorful=n.extend({},o,{heatmaps:[{saturation:.5,lightness:.6}],container:{heatOn:"backgroundColor",background:"#888",color:"#fff",textShadow:"1px 1px 0 rgba(0,0,0,.2)",boxShadow:"0 0 0 1px rgba(0,0,0,.1)"},column:{background:"#777",backgroundColor:"rgba(0,0,0,.2)"}}),n.theme.transparent=n.extend({},o,{heatmaps:[{saturation:.8,lightness:.5}],container:{padding:0,color:"#fff",textShadow:"1px 1px 0 rgba(0,0,0,.5)"},count:{padding:"0 5px",height:"40px",lineHeight:"40px"},legend:{padding:"0 5px",height:"40px",lineHeight:"42px"},graph:{height:"40px"},column:{width:5,background:"#999",heatOn:"backgroundColor",opacity:.5}})}(window,FPSMeter);

},{}],27:[function(require,module,exports){
window.onerror=function(){alert(JSON.stringify(arguments))};var createWebGLExperiment=require("./experiment/index.js"),WebGLExperiment=new createWebGLExperiment;WebGLExperiment.start();var gui_toggle_start=document.getElementById("gui_toggle_start");gui_toggle_start.addEventListener("click",function(){console.log("toggle_start"),WebGLExperiment.isRunning()?WebGLExperiment.stop():WebGLExperiment.start()});
},{"./experiment/index.js":8}]},{},[27]);
