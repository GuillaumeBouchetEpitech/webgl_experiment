var __defProp = Object.defineProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, {
      get: all[name],
      enumerable: true,
      configurable: true,
      set: (newValue) => all[name] = () => newValue
    });
};

// src/local-framework/system/index.ts
var exports_system = {};
__export(exports_system, {
  utilities: () => {
    {
      return exports_utilities;
    }
  },
  rng: () => {
    {
      return exports_rng;
    }
  },
  metrics: () => {
    {
      return exports_metrics;
    }
  },
  math: () => {
    {
      return exports_math;
    }
  },
  controllers: () => {
    {
      return exports_controllers;
    }
  },
  browser: () => {
    {
      return exports_browser;
    }
  }
});

// src/local-framework/system/browser/index.ts
var exports_browser = {};
__export(exports_browser, {
  isWebWorkerSupported: () => {
    {
      return isWebWorkerSupported;
    }
  },
  isWebGL2Supported: () => {
    {
      return isWebGL2Supported;
    }
  },
  isNumber: () => {
    {
      return isNumber;
    }
  },
  isLetter: () => {
    {
      return isLetter;
    }
  },
  isAlphanumeric: () => {
    {
      return isAlphanumeric;
    }
  },
  GlobalVisibilityManager: () => {
    {
      return GlobalVisibilityManager;
    }
  },
  GlobalTouchManager: () => {
    {
      return GlobalTouchManager;
    }
  },
  GlobalPointerLockManager: () => {
    {
      return GlobalPointerLockManager;
    }
  },
  GlobalMouseManager: () => {
    {
      return GlobalMouseManager;
    }
  },
  GlobalKeyboardManager: () => {
    {
      return GlobalKeyboardManager;
    }
  },
  GlobalFullScreenManager: () => {
    {
      return GlobalFullScreenManager;
    }
  },
  AllKeyCodes: () => {
    {
      return AllKeyCodes;
    }
  }
});

// src/local-framework/system/browser/FullScreenManager.ts
var allRequestEvents = [
  "requestFullscreen",
  "webkitRequestFullscreen",
  "mozRequestFullScreen",
  "msRequestFullscreen"
];
var allChangeEvents = [
  "fullscreenchange",
  "webkitfullscreenchange",
  "mozfullscreenchange",
  "msfullscreenchange"
];

class FullScreenManager {
  _onFullScreenChangeCallbacks = [];
  _isInitialized = false;
  _initialize() {
    if (this._isInitialized) {
      return;
    }
    this._isInitialized = true;
    const onLockChange = () => {
      this._onFullScreenChangeCallbacks.forEach((callback) => callback());
    };
    for (const currEvent of allChangeEvents)
      document.addEventListener(currEvent, onLockChange, false);
  }
  isCompatible(inTargetElement) {
    for (const currEvent of allRequestEvents) {
      if (currEvent in inTargetElement) {
        return true;
      }
    }
    return false;
  }
  isFullScreen(inTargetElement) {
    return document.fullscreenElement === inTargetElement;
  }
  async requestFullScreen(inTargetElement) {
    if (this.isFullScreen(inTargetElement)) {
      return { success: false, message: "element already in full screen" };
    }
    this._initialize();
    for (const currEvent of allRequestEvents) {
      if (currEvent in inTargetElement) {
        inTargetElement[currEvent]();
        return { success: true, message: "request for full screen done" };
      }
    }
    return { success: false, message: "unsupported request for full screen" };
  }
  addOnFullScreenChange(inCallback) {
    this._onFullScreenChangeCallbacks.push(inCallback);
  }
  removeOnFullScreenChange(inCallback) {
    const index = this._onFullScreenChangeCallbacks.indexOf(inCallback);
    if (index < 0) {
      return;
    }
    this._onFullScreenChangeCallbacks.splice(index, 1);
  }
  removeAllCallbacks() {
    this._onFullScreenChangeCallbacks.length = 0;
  }
}
var GlobalFullScreenManager = new FullScreenManager;
// src/local-framework/system/browser/KeyCodes.ts
var AllKeyCodes = {
  Num0: 48,
  Num1: 49,
  Num2: 50,
  Num3: 51,
  Num4: 52,
  Num5: 53,
  Num6: 54,
  Num7: 55,
  Num8: 56,
  Num9: 57,
  A: 65,
  B: 66,
  C: 67,
  D: 68,
  E: 69,
  F: 70,
  G: 71,
  H: 72,
  I: 73,
  J: 74,
  K: 75,
  L: 76,
  M: 77,
  N: 78,
  O: 79,
  P: 80,
  Q: 81,
  R: 82,
  S: 83,
  T: 84,
  U: 85,
  V: 86,
  W: 87,
  X: 88,
  Y: 89,
  Z: 90,
  Semicolon: 186,
  Equal: 187,
  Comma: 188,
  Minus: 189,
  Period: 190,
  BackQuote: 192,
  BracketLeft: 219,
  Backslash: 220,
  BracketRight: 221,
  Quote: 222,
  Shift: 16,
  Ctrl: 17,
  Alt: 18,
  CapsLock: 20,
  Tab: 9,
  Enter: 13,
  Pause: 19,
  Escape: 27,
  Space: 32,
  PageUp: 33,
  PageDown: 34,
  End: 35,
  Home: 36,
  ArrowLeft: 37,
  ArrowUp: 38,
  ArrowRight: 39,
  ArrowDown: 40,
  PrintScreen: 44,
  Insert: 45,
  Delete: 46,
  ContextMenu: 93,
  ScrollLock: 145,
  F1: 112,
  F2: 113,
  F3: 114,
  F4: 115,
  F5: 116,
  F6: 117,
  F7: 118,
  F8: 119,
  F9: 120,
  F10: 121,
  F11: 122,
  F12: 123,
  F13: 124,
  F14: 125,
  F15: 126,
  F16: 127,
  F17: 128,
  F18: 129,
  F19: 130,
  F20: 131,
  F21: 132,
  F22: 133,
  F23: 134,
  F24: 135,
  NumPad0: 96,
  NumPad1: 97,
  NumPad2: 98,
  NumPad3: 99,
  NumPad4: 100,
  NumPad5: 101,
  NumPad6: 102,
  NumPad7: 103,
  NumPad8: 104,
  NumPad9: 105,
  NumPadMultiply: 106,
  NumPadAdd: 107,
  NumPadSubtract: 109,
  NumPadDecimal: 110,
  NumPadDivide: 111,
  NumLock: 144,
  NumPadComma: 194,
  NumPadEqual: 12
};
var isLetter = (key) => {
  return key >= AllKeyCodes.A && key <= AllKeyCodes.Z;
};
var isNumber = (key) => {
  return key >= AllKeyCodes.Num0 && key <= AllKeyCodes.Num9 || key >= AllKeyCodes.NumPad0 && key <= AllKeyCodes.NumPad9;
};
var isAlphanumeric = (key) => {
  return isNumber(key) || isLetter(key);
};

// src/local-framework/system/browser/KeyboardManager.ts
class KeyboardManager {
  _pressedKeysSet = new Set;
  _preventDefaultKeysSet = new Set;
  _activated = false;
  _handleKeyDown;
  _handleKeyUp;
  _onEvent;
  constructor() {
    const handleKeyDown = (event) => {
      const { keyCode } = event;
      if (this._onEvent) {
        this._onEvent();
      }
      if (this._preventDefaultKeysSet.has(keyCode)) {
        event.preventDefault();
      }
      this._pressedKeysSet.add(keyCode);
    };
    const handleKeyUp = (event) => {
      const { keyCode } = event;
      if (this._onEvent) {
        this._onEvent();
      }
      if (this._preventDefaultKeysSet.has(keyCode)) {
        event.preventDefault();
      }
      this._pressedKeysSet.delete(keyCode);
    };
    this._activated = false;
    this._handleKeyDown = handleKeyDown.bind(this);
    this._handleKeyUp = handleKeyUp.bind(this);
  }
  isPressed(...inKeys) {
    for (const key of inKeys) {
      if (this._pressedKeysSet.has(AllKeyCodes[key])) {
        return true;
      }
    }
    return false;
  }
  preventDefault(inKey) {
    this._preventDefaultKeysSet.add(AllKeyCodes[inKey]);
  }
  enableDefault(inKey) {
    this._preventDefaultKeysSet.delete(AllKeyCodes[inKey]);
  }
  activate() {
    if (this._activated) {
      return;
    }
    this._pressedKeysSet.clear();
    document.addEventListener("keydown", this._handleKeyDown);
    document.addEventListener("keyup", this._handleKeyUp);
    this._activated = true;
  }
  deactivate() {
    if (!this._activated) {
      return;
    }
    this._pressedKeysSet.clear();
    document.removeEventListener("keydown", this._handleKeyDown);
    document.removeEventListener("keyup", this._handleKeyUp);
    this._activated = false;
  }
  onEvent(callback) {
    this._onEvent = callback;
  }
}
var GlobalKeyboardManager = new KeyboardManager;
// src/local-framework/system/browser/MouseManager.ts
var AllMouseButtons = {
  Left: 0,
  Middle: 1,
  Right: 2
};

class MouseManager {
  _pressedButtonsSet = new Set;
  _activated = false;
  _handleMouseDown;
  _handleMouseUp;
  _handleMouseMove;
  _handleMouseWheel;
  _positionX = 0;
  _positionY = 0;
  _deltaX = 0;
  _deltaY = 0;
  _wheelDeltaY = 0;
  _onEvent;
  constructor() {
    const handleMouseDown = (event) => {
      if (this._onEvent) {
        this._onEvent();
      }
      this._positionX = event.pageX;
      this._positionY = event.pageY;
      this._pressedButtonsSet.add(event.button);
    };
    const handleMouseUp = (event) => {
      if (this._onEvent) {
        this._onEvent();
      }
      this._positionX = event.pageX;
      this._positionY = event.pageY;
      this._pressedButtonsSet.delete(event.button);
    };
    const handleMouseMove = (event) => {
      if (this._onEvent) {
        this._onEvent();
      }
      this._positionX = event.pageX;
      this._positionY = event.pageY;
      this._deltaX += event.movementX || event.mozMovementX || event.webkitMovementX || 0;
      this._deltaY += event.movementY || event.mozMovementY || event.webkitMovementY || 0;
    };
    const handleWheelEvent = (event) => {
      if (this._onEvent) {
        this._onEvent();
      }
      this._wheelDeltaY += event.deltaY || 0;
    };
    this._activated = false;
    this._handleMouseDown = handleMouseDown.bind(this);
    this._handleMouseUp = handleMouseUp.bind(this);
    this._handleMouseMove = handleMouseMove.bind(this);
    this._handleMouseWheel = handleWheelEvent.bind(this);
  }
  activate(domElement) {
    if (this._activated) {
      return;
    }
    this._pressedButtonsSet.clear();
    domElement.addEventListener("mousedown", this._handleMouseDown);
    domElement.addEventListener("mouseup", this._handleMouseUp);
    domElement.addEventListener("mousemove", this._handleMouseMove);
    domElement.addEventListener("wheel", this._handleMouseWheel);
    this._activated = true;
  }
  deactivate(domElement) {
    if (!this._activated) {
      return;
    }
    this._pressedButtonsSet.clear();
    domElement.removeEventListener("mousedown", this._handleMouseDown);
    domElement.removeEventListener("mouseup", this._handleMouseUp);
    domElement.removeEventListener("mousemove", this._handleMouseMove);
    domElement.removeEventListener("wheel", this._handleMouseWheel);
    this._activated = false;
  }
  isButtonPressed(inKey) {
    return this._pressedButtonsSet.has(AllMouseButtons[inKey]);
  }
  get positionX() {
    return this._positionX;
  }
  get positionY() {
    return this._positionY;
  }
  deltaX() {
    return this._deltaX;
  }
  deltaY() {
    return this._deltaY;
  }
  wheelDeltaY() {
    return this._wheelDeltaY;
  }
  resetDeltas() {
    this._deltaX = 0;
    this._deltaY = 0;
    this._wheelDeltaY = 0;
  }
  onEvent(callback) {
    this._onEvent = callback;
  }
}
var GlobalMouseManager = new MouseManager;
// src/local-framework/system/browser/PointerLockManager.ts
var allRequestEvents2 = ["requestPointerLock", "mozRequestPointerLock", "webkitRequestPointerLock"];
var allExitEvents = ["exitPointerLock", "mozExitPointerLock", "webkitExitPointerLock"];
var allStateEvents = ["pointerLockElement", "mozPointerLockElement", "webkitPointerLockElement"];
var allChangeEvents2 = [
  { methodName: "onpointerlockchange", propertyName: "pointerlockchange" },
  {
    methodName: "onmozpointerlockchange",
    propertyName: "mozpointerlockchange"
  },
  {
    methodName: "onwebkitpointerlockchange",
    propertyName: "webkitpointerlockchange"
  }
];
var allErrorEvents = [
  { methodName: "onpointerlockerror", propertyName: "pointerlockerror" },
  { methodName: "onmozpointerlockerror", propertyName: "mozpointerlockerror" },
  {
    methodName: "onwebkitpointerlockerror",
    propertyName: "webkitpointerlockerror"
  }
];

class PointerLockManager {
  _onLockChangeCallbacks = [];
  _onLockErrorCallbacks = [];
  _timeSinceLastLockChange = 0;
  _latestRequestHtmlElement;
  _isInitialized = false;
  _initialize() {
    if (this._isInitialized) {
      return;
    }
    this._isInitialized = true;
    const onLockChange = () => {
      this._timeSinceLastLockChange = Date.now();
      this._onLockChangeCallbacks.forEach((callback) => callback());
    };
    const onLockError = (event) => {
      this._timeSinceLastLockChange = Date.now();
      this._onLockErrorCallbacks.forEach((callback) => callback(event));
    };
    for (const currEvent of allChangeEvents2) {
      if (currEvent.methodName in document) {
        document.addEventListener(currEvent.propertyName, onLockChange, false);
        break;
      }
    }
    for (const currEvent of allErrorEvents) {
      if (currEvent.methodName in document) {
        document.addEventListener(currEvent.propertyName, onLockError, false);
        break;
      }
    }
  }
  canBePointerLocked(inTargetElement) {
    for (const currEvent of allRequestEvents2) {
      if (currEvent in inTargetElement) {
        return true;
      }
    }
    return false;
  }
  isPointerLocked(inTargetElement) {
    for (const currEvent of allStateEvents) {
      if (currEvent in document) {
        return document[currEvent] === inTargetElement;
      }
    }
    return false;
  }
  async requestPointerLock(inTargetElement) {
    if (this.isPointerLocked(inTargetElement)) {
      return { success: false, message: "element already locked" };
    }
    this._initialize();
    if (this._timeSinceLastLockChange > 0) {
      const elapsedSecTime = (Date.now() - this._timeSinceLastLockChange) / 1000;
      if (elapsedSecTime < 1.1) {
        return {
          success: false,
          message: `request for lock was too early, time to wait: ${elapsedSecTime.toFixed(2)}sec`
        };
      }
    }
    this._timeSinceLastLockChange = Date.now();
    for (const currEvent of allRequestEvents2) {
      if (currEvent in inTargetElement) {
        const options = {
          unadjustedMovement: false
        };
        try {
          await inTargetElement[currEvent](options);
        } catch (err) {
          const elapsedSecTime = (Date.now() - this._timeSinceLastLockChange) / 1000;
          return {
            success: false,
            message: `request for lock was too early, time to wait: ${elapsedSecTime.toFixed(2)}sec`
          };
        }
        this._timeSinceLastLockChange = Date.now();
        return { success: true, message: "request for lock done" };
      }
    }
    return { success: false, message: "unsupported request for lock" };
  }
  allowPointerLockedOnClickEvent(inTargetElement) {
    if (inTargetElement === this._latestRequestHtmlElement) {
      return;
    }
    this._latestRequestHtmlElement = inTargetElement;
    const onClick = async () => {
      inTargetElement.removeEventListener("click", onClick);
      const result = await this.requestPointerLock(inTargetElement);
      this._latestRequestHtmlElement = undefined;
      if (!result.success) {
        this.allowPointerLockedOnClickEvent(inTargetElement);
      }
    };
    inTargetElement.addEventListener("click", onClick);
  }
  exitPointerLock() {
    for (const currEvent of allExitEvents) {
      if (currEvent in document) {
        document[currEvent]();
        break;
      }
    }
  }
  addOnLockChange(inCallback) {
    this._onLockChangeCallbacks.push(inCallback);
  }
  removeOnLockChange(inCallback) {
    const index = this._onLockChangeCallbacks.indexOf(inCallback);
    if (index < 0) {
      return;
    }
    this._onLockChangeCallbacks.splice(index, 1);
  }
  addOnLockError(inCallback) {
    this._onLockErrorCallbacks.push(inCallback);
  }
  removeOnLockError(inCallback) {
    const index = this._onLockErrorCallbacks.indexOf(inCallback);
    if (index < 0) {
      return;
    }
    this._onLockErrorCallbacks.splice(index, 1);
  }
  removeAllCallbacks() {
    this._onLockChangeCallbacks.length = 0;
    this._onLockErrorCallbacks.length = 0;
  }
}
var GlobalPointerLockManager = new PointerLockManager;
// src/local-framework/system/browser/TouchManager.ts
class TouchData {
  id;
  createdAt = Date.now();
  positionX;
  positionY;
  deltaX = 0;
  deltaY = 0;
  constructor(id, positionX, positionY) {
    this.id = id;
    this.positionX = positionX;
    this.positionY = positionY;
  }
  resetDelta() {
    this.deltaX = 0;
    this.deltaY = 0;
  }
}

class TouchManager {
  _activated = false;
  _allTouchDataMap = new Map;
  _allCachedTouchDataArray = [];
  _handleTouchStart;
  _handleTouchEnd;
  _handleTouchMove;
  _onEvent;
  constructor() {
    const handleTouchStart = (event) => {
      event.preventDefault();
      if (this._onEvent) {
        this._onEvent();
      }
      for (let ii = 0;ii < event.changedTouches.length; ++ii) {
        const { identifier, pageX, pageY } = event.changedTouches[ii];
        const newData = new TouchData(identifier, pageX, pageY);
        this._allTouchDataMap.set(`${identifier}`, newData);
        this._allCachedTouchDataArray.length = 0;
      }
    };
    const handleTouchEnd = (event) => {
      event.preventDefault();
      if (this._onEvent) {
        this._onEvent();
      }
      for (let ii = 0;ii < event.changedTouches.length; ++ii) {
        const { identifier } = event.changedTouches[ii];
        this._allTouchDataMap.delete(`${identifier}`);
        this._allCachedTouchDataArray.length = 0;
      }
    };
    const handleTouchMove = (event) => {
      event.preventDefault();
      if (this._onEvent) {
        this._onEvent();
      }
      for (let ii = 0;ii < event.changedTouches.length; ++ii) {
        const { identifier, pageX, pageY } = event.changedTouches[ii];
        const currData = this._allTouchDataMap.get(`${identifier}`);
        if (!currData) {
          continue;
        }
        const deltaX = pageX - currData.positionX;
        const deltaY = pageY - currData.positionY;
        currData.deltaX += deltaX;
        currData.deltaY += deltaY;
        currData.positionX = pageX;
        currData.positionY = pageY;
      }
    };
    this._activated = false;
    this._handleTouchStart = handleTouchStart.bind(this);
    this._handleTouchEnd = handleTouchEnd.bind(this);
    this._handleTouchMove = handleTouchMove.bind(this);
  }
  isSupported(inTargetElement) {
    return "ontouchstart" in inTargetElement;
  }
  activate(inTargetElement) {
    if (!this.isSupported(inTargetElement)) {
      return;
    }
    if (this._activated) {
      return;
    }
    this._allTouchDataMap.clear();
    this._allCachedTouchDataArray.length = 0;
    inTargetElement.addEventListener("touchstart", this._handleTouchStart);
    inTargetElement.addEventListener("touchend", this._handleTouchEnd);
    inTargetElement.addEventListener("touchcancel", this._handleTouchEnd);
    inTargetElement.addEventListener("touchmove", this._handleTouchMove, {
      passive: false
    });
    this._activated = true;
  }
  deactivate(inTargetElement) {
    if (!this._activated) {
      return;
    }
    this._allTouchDataMap.clear();
    this._allCachedTouchDataArray.length = 0;
    inTargetElement.removeEventListener("touchstart", this._handleTouchStart);
    inTargetElement.removeEventListener("touchend", this._handleTouchEnd);
    inTargetElement.removeEventListener("touchcancel", this._handleTouchEnd);
    inTargetElement.removeEventListener("touchmove", this._handleTouchMove);
    this._activated = false;
  }
  _refreshCache() {
    if (this._allCachedTouchDataArray.length === 0) {
      this._allCachedTouchDataArray = [...this._allTouchDataMap.values()];
    }
  }
  getTouchData() {
    this._refreshCache();
    return this._allCachedTouchDataArray;
  }
  resetDeltas() {
    this._refreshCache();
    this._allCachedTouchDataArray.forEach((item) => item.resetDelta());
  }
  onEvent(callback) {
    this._onEvent = callback;
  }
}
var GlobalTouchManager = new TouchManager;
// src/local-framework/system/browser/VisibilityManager.ts
class VisibilityManager {
  _activated = false;
  _onVisibilityChangeCallbacks = [];
  _handleVisibilityChange;
  constructor() {
    const handleVisibilityChange = () => {
      const isVisible = this.isVisible();
      this._onVisibilityChangeCallbacks.forEach((callback) => callback(isVisible));
    };
    this._handleVisibilityChange = handleVisibilityChange.bind(this);
  }
  activate() {
    if (!this.isSupported()) {
      return;
    }
    if (this._activated) {
      return;
    }
    document.addEventListener("visibilitychange", this._handleVisibilityChange, false);
    this._activated = true;
  }
  deactivate() {
    if (!this._activated) {
      return;
    }
    document.removeEventListener("visibilitychange", this._handleVisibilityChange, false);
    this._activated = false;
  }
  isSupported() {
    return "onvisibilitychange" in document;
  }
  isVisible() {
    return document.visibilityState === "visible";
  }
  addVisibilityChange(inCallback) {
    this._onVisibilityChangeCallbacks.push(inCallback);
  }
  removeVisibilityChange(inCallback) {
    const index = this._onVisibilityChangeCallbacks.indexOf(inCallback);
    if (index < 0) {
      return;
    }
    this._onVisibilityChangeCallbacks.splice(index, 1);
  }
  removeAllCallbacks() {
    this._onVisibilityChangeCallbacks.length = 0;
  }
}
var GlobalVisibilityManager = new VisibilityManager;
// src/local-framework/system/browser/isWebWorkerSupported.ts
var isWebWorkerSupported = () => {
  return !!window.Worker;
};
// src/local-framework/system/browser/isWebGL2Supported.ts
var isWebGL2Supported = () => {
  return !!window.WebGL2RenderingContext;
};
// src/local-framework/system/controllers/index.ts
var exports_controllers = {};
__export(exports_controllers, {
  FreeFlyController: () => {
    {
      return FreeFlyController;
    }
  }
});

// node_modules/gl-matrix/esm/common.js
var EPSILON = 0.000001;
var ARRAY_TYPE = typeof Float32Array !== "undefined" ? Float32Array : Array;
var RANDOM = Math.random;
var degree = Math.PI / 180;
if (!Math.hypot)
  Math.hypot = function() {
    var y = 0, i = arguments.length;
    while (i--) {
      y += arguments[i] * arguments[i];
    }
    return Math.sqrt(y);
  };

// node_modules/gl-matrix/esm/mat4.js
var exports_mat4 = {};
__export(exports_mat4, {
  transpose: () => {
    {
      return transpose;
    }
  },
  translate: () => {
    {
      return translate;
    }
  },
  targetTo: () => {
    {
      return targetTo;
    }
  },
  subtract: () => {
    {
      return subtract;
    }
  },
  sub: () => {
    {
      return sub;
    }
  },
  str: () => {
    {
      return str;
    }
  },
  set: () => {
    {
      return set;
    }
  },
  scale: () => {
    {
      return scale;
    }
  },
  rotateZ: () => {
    {
      return rotateZ;
    }
  },
  rotateY: () => {
    {
      return rotateY;
    }
  },
  rotateX: () => {
    {
      return rotateX;
    }
  },
  rotate: () => {
    {
      return rotate;
    }
  },
  perspectiveZO: () => {
    {
      return perspectiveZO;
    }
  },
  perspectiveNO: () => {
    {
      return perspectiveNO;
    }
  },
  perspectiveFromFieldOfView: () => {
    {
      return perspectiveFromFieldOfView;
    }
  },
  perspective: () => {
    {
      return perspective;
    }
  },
  orthoZO: () => {
    {
      return orthoZO;
    }
  },
  orthoNO: () => {
    {
      return orthoNO;
    }
  },
  ortho: () => {
    {
      return ortho;
    }
  },
  multiplyScalarAndAdd: () => {
    {
      return multiplyScalarAndAdd;
    }
  },
  multiplyScalar: () => {
    {
      return multiplyScalar;
    }
  },
  multiply: () => {
    {
      return multiply;
    }
  },
  mul: () => {
    {
      return mul;
    }
  },
  lookAt: () => {
    {
      return lookAt;
    }
  },
  invert: () => {
    {
      return invert;
    }
  },
  identity: () => {
    {
      return identity;
    }
  },
  getTranslation: () => {
    {
      return getTranslation;
    }
  },
  getScaling: () => {
    {
      return getScaling;
    }
  },
  getRotation: () => {
    {
      return getRotation;
    }
  },
  frustum: () => {
    {
      return frustum;
    }
  },
  fromZRotation: () => {
    {
      return fromZRotation;
    }
  },
  fromYRotation: () => {
    {
      return fromYRotation;
    }
  },
  fromXRotation: () => {
    {
      return fromXRotation;
    }
  },
  fromValues: () => {
    {
      return fromValues;
    }
  },
  fromTranslation: () => {
    {
      return fromTranslation;
    }
  },
  fromScaling: () => {
    {
      return fromScaling;
    }
  },
  fromRotationTranslationScaleOrigin: () => {
    {
      return fromRotationTranslationScaleOrigin;
    }
  },
  fromRotationTranslationScale: () => {
    {
      return fromRotationTranslationScale;
    }
  },
  fromRotationTranslation: () => {
    {
      return fromRotationTranslation;
    }
  },
  fromRotation: () => {
    {
      return fromRotation;
    }
  },
  fromQuat2: () => {
    {
      return fromQuat2;
    }
  },
  fromQuat: () => {
    {
      return fromQuat;
    }
  },
  frob: () => {
    {
      return frob;
    }
  },
  exactEquals: () => {
    {
      return exactEquals;
    }
  },
  equals: () => {
    {
      return equals;
    }
  },
  determinant: () => {
    {
      return determinant;
    }
  },
  create: () => {
    {
      return create;
    }
  },
  copy: () => {
    {
      return copy;
    }
  },
  clone: () => {
    {
      return clone;
    }
  },
  adjoint: () => {
    {
      return adjoint;
    }
  },
  add: () => {
    {
      return add;
    }
  }
});
function create() {
  var out = new ARRAY_TYPE(16);
  if (ARRAY_TYPE != Float32Array) {
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
  }
  out[0] = 1;
  out[5] = 1;
  out[10] = 1;
  out[15] = 1;
  return out;
}
function clone(a) {
  var out = new ARRAY_TYPE(16);
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  out[4] = a[4];
  out[5] = a[5];
  out[6] = a[6];
  out[7] = a[7];
  out[8] = a[8];
  out[9] = a[9];
  out[10] = a[10];
  out[11] = a[11];
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}
function copy(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  out[4] = a[4];
  out[5] = a[5];
  out[6] = a[6];
  out[7] = a[7];
  out[8] = a[8];
  out[9] = a[9];
  out[10] = a[10];
  out[11] = a[11];
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}
function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
  var out = new ARRAY_TYPE(16);
  out[0] = m00;
  out[1] = m01;
  out[2] = m02;
  out[3] = m03;
  out[4] = m10;
  out[5] = m11;
  out[6] = m12;
  out[7] = m13;
  out[8] = m20;
  out[9] = m21;
  out[10] = m22;
  out[11] = m23;
  out[12] = m30;
  out[13] = m31;
  out[14] = m32;
  out[15] = m33;
  return out;
}
function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
  out[0] = m00;
  out[1] = m01;
  out[2] = m02;
  out[3] = m03;
  out[4] = m10;
  out[5] = m11;
  out[6] = m12;
  out[7] = m13;
  out[8] = m20;
  out[9] = m21;
  out[10] = m22;
  out[11] = m23;
  out[12] = m30;
  out[13] = m31;
  out[14] = m32;
  out[15] = m33;
  return out;
}
function identity(out) {
  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
function transpose(out, a) {
  if (out === a) {
    var a01 = a[1], a02 = a[2], a03 = a[3];
    var a12 = a[6], a13 = a[7];
    var a23 = a[11];
    out[1] = a[4];
    out[2] = a[8];
    out[3] = a[12];
    out[4] = a01;
    out[6] = a[9];
    out[7] = a[13];
    out[8] = a02;
    out[9] = a12;
    out[11] = a[14];
    out[12] = a03;
    out[13] = a13;
    out[14] = a23;
  } else {
    out[0] = a[0];
    out[1] = a[4];
    out[2] = a[8];
    out[3] = a[12];
    out[4] = a[1];
    out[5] = a[5];
    out[6] = a[9];
    out[7] = a[13];
    out[8] = a[2];
    out[9] = a[6];
    out[10] = a[10];
    out[11] = a[14];
    out[12] = a[3];
    out[13] = a[7];
    out[14] = a[11];
    out[15] = a[15];
  }
  return out;
}
function invert(out, a) {
  var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
  var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
  var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
  var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
  var b00 = a00 * a11 - a01 * a10;
  var b01 = a00 * a12 - a02 * a10;
  var b02 = a00 * a13 - a03 * a10;
  var b03 = a01 * a12 - a02 * a11;
  var b04 = a01 * a13 - a03 * a11;
  var b05 = a02 * a13 - a03 * a12;
  var b06 = a20 * a31 - a21 * a30;
  var b07 = a20 * a32 - a22 * a30;
  var b08 = a20 * a33 - a23 * a30;
  var b09 = a21 * a32 - a22 * a31;
  var b10 = a21 * a33 - a23 * a31;
  var b11 = a22 * a33 - a23 * a32;
  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
  if (!det) {
    return null;
  }
  det = 1 / det;
  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
  return out;
}
function adjoint(out, a) {
  var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
  var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
  var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
  var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);
  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));
  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);
  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));
  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));
  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);
  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));
  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);
  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);
  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));
  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);
  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));
  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));
  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);
  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));
  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);
  return out;
}
function determinant(a) {
  var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
  var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
  var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
  var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
  var b00 = a00 * a11 - a01 * a10;
  var b01 = a00 * a12 - a02 * a10;
  var b02 = a00 * a13 - a03 * a10;
  var b03 = a01 * a12 - a02 * a11;
  var b04 = a01 * a13 - a03 * a11;
  var b05 = a02 * a13 - a03 * a12;
  var b06 = a20 * a31 - a21 * a30;
  var b07 = a20 * a32 - a22 * a30;
  var b08 = a20 * a33 - a23 * a30;
  var b09 = a21 * a32 - a22 * a31;
  var b10 = a21 * a33 - a23 * a31;
  var b11 = a22 * a33 - a23 * a32;
  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
}
function multiply(out, a, b) {
  var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
  var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
  var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
  var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
  var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[4];
  b1 = b[5];
  b2 = b[6];
  b3 = b[7];
  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[8];
  b1 = b[9];
  b2 = b[10];
  b3 = b[11];
  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[12];
  b1 = b[13];
  b2 = b[14];
  b3 = b[15];
  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  return out;
}
function translate(out, a, v) {
  var x = v[0], y = v[1], z = v[2];
  var a00, a01, a02, a03;
  var a10, a11, a12, a13;
  var a20, a21, a22, a23;
  if (a === out) {
    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
  } else {
    a00 = a[0];
    a01 = a[1];
    a02 = a[2];
    a03 = a[3];
    a10 = a[4];
    a11 = a[5];
    a12 = a[6];
    a13 = a[7];
    a20 = a[8];
    a21 = a[9];
    a22 = a[10];
    a23 = a[11];
    out[0] = a00;
    out[1] = a01;
    out[2] = a02;
    out[3] = a03;
    out[4] = a10;
    out[5] = a11;
    out[6] = a12;
    out[7] = a13;
    out[8] = a20;
    out[9] = a21;
    out[10] = a22;
    out[11] = a23;
    out[12] = a00 * x + a10 * y + a20 * z + a[12];
    out[13] = a01 * x + a11 * y + a21 * z + a[13];
    out[14] = a02 * x + a12 * y + a22 * z + a[14];
    out[15] = a03 * x + a13 * y + a23 * z + a[15];
  }
  return out;
}
function scale(out, a, v) {
  var x = v[0], y = v[1], z = v[2];
  out[0] = a[0] * x;
  out[1] = a[1] * x;
  out[2] = a[2] * x;
  out[3] = a[3] * x;
  out[4] = a[4] * y;
  out[5] = a[5] * y;
  out[6] = a[6] * y;
  out[7] = a[7] * y;
  out[8] = a[8] * z;
  out[9] = a[9] * z;
  out[10] = a[10] * z;
  out[11] = a[11] * z;
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}
function rotate(out, a, rad, axis) {
  var x = axis[0], y = axis[1], z = axis[2];
  var len = Math.hypot(x, y, z);
  var s, c, t;
  var a00, a01, a02, a03;
  var a10, a11, a12, a13;
  var a20, a21, a22, a23;
  var b00, b01, b02;
  var b10, b11, b12;
  var b20, b21, b22;
  if (len < EPSILON) {
    return null;
  }
  len = 1 / len;
  x *= len;
  y *= len;
  z *= len;
  s = Math.sin(rad);
  c = Math.cos(rad);
  t = 1 - c;
  a00 = a[0];
  a01 = a[1];
  a02 = a[2];
  a03 = a[3];
  a10 = a[4];
  a11 = a[5];
  a12 = a[6];
  a13 = a[7];
  a20 = a[8];
  a21 = a[9];
  a22 = a[10];
  a23 = a[11];
  b00 = x * x * t + c;
  b01 = y * x * t + z * s;
  b02 = z * x * t - y * s;
  b10 = x * y * t - z * s;
  b11 = y * y * t + c;
  b12 = z * y * t + x * s;
  b20 = x * z * t + y * s;
  b21 = y * z * t - x * s;
  b22 = z * z * t + c;
  out[0] = a00 * b00 + a10 * b01 + a20 * b02;
  out[1] = a01 * b00 + a11 * b01 + a21 * b02;
  out[2] = a02 * b00 + a12 * b01 + a22 * b02;
  out[3] = a03 * b00 + a13 * b01 + a23 * b02;
  out[4] = a00 * b10 + a10 * b11 + a20 * b12;
  out[5] = a01 * b10 + a11 * b11 + a21 * b12;
  out[6] = a02 * b10 + a12 * b11 + a22 * b12;
  out[7] = a03 * b10 + a13 * b11 + a23 * b12;
  out[8] = a00 * b20 + a10 * b21 + a20 * b22;
  out[9] = a01 * b20 + a11 * b21 + a21 * b22;
  out[10] = a02 * b20 + a12 * b21 + a22 * b22;
  out[11] = a03 * b20 + a13 * b21 + a23 * b22;
  if (a !== out) {
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  }
  return out;
}
function rotateX(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a10 = a[4];
  var a11 = a[5];
  var a12 = a[6];
  var a13 = a[7];
  var a20 = a[8];
  var a21 = a[9];
  var a22 = a[10];
  var a23 = a[11];
  if (a !== out) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  }
  out[4] = a10 * c + a20 * s;
  out[5] = a11 * c + a21 * s;
  out[6] = a12 * c + a22 * s;
  out[7] = a13 * c + a23 * s;
  out[8] = a20 * c - a10 * s;
  out[9] = a21 * c - a11 * s;
  out[10] = a22 * c - a12 * s;
  out[11] = a23 * c - a13 * s;
  return out;
}
function rotateY(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a00 = a[0];
  var a01 = a[1];
  var a02 = a[2];
  var a03 = a[3];
  var a20 = a[8];
  var a21 = a[9];
  var a22 = a[10];
  var a23 = a[11];
  if (a !== out) {
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  }
  out[0] = a00 * c - a20 * s;
  out[1] = a01 * c - a21 * s;
  out[2] = a02 * c - a22 * s;
  out[3] = a03 * c - a23 * s;
  out[8] = a00 * s + a20 * c;
  out[9] = a01 * s + a21 * c;
  out[10] = a02 * s + a22 * c;
  out[11] = a03 * s + a23 * c;
  return out;
}
function rotateZ(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a00 = a[0];
  var a01 = a[1];
  var a02 = a[2];
  var a03 = a[3];
  var a10 = a[4];
  var a11 = a[5];
  var a12 = a[6];
  var a13 = a[7];
  if (a !== out) {
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  }
  out[0] = a00 * c + a10 * s;
  out[1] = a01 * c + a11 * s;
  out[2] = a02 * c + a12 * s;
  out[3] = a03 * c + a13 * s;
  out[4] = a10 * c - a00 * s;
  out[5] = a11 * c - a01 * s;
  out[6] = a12 * c - a02 * s;
  out[7] = a13 * c - a03 * s;
  return out;
}
function fromTranslation(out, v) {
  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}
function fromScaling(out, v) {
  out[0] = v[0];
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = v[1];
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = v[2];
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
function fromRotation(out, rad, axis) {
  var x = axis[0], y = axis[1], z = axis[2];
  var len = Math.hypot(x, y, z);
  var s, c, t;
  if (len < EPSILON) {
    return null;
  }
  len = 1 / len;
  x *= len;
  y *= len;
  z *= len;
  s = Math.sin(rad);
  c = Math.cos(rad);
  t = 1 - c;
  out[0] = x * x * t + c;
  out[1] = y * x * t + z * s;
  out[2] = z * x * t - y * s;
  out[3] = 0;
  out[4] = x * y * t - z * s;
  out[5] = y * y * t + c;
  out[6] = z * y * t + x * s;
  out[7] = 0;
  out[8] = x * z * t + y * s;
  out[9] = y * z * t - x * s;
  out[10] = z * z * t + c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
function fromXRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = c;
  out[6] = s;
  out[7] = 0;
  out[8] = 0;
  out[9] = -s;
  out[10] = c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
function fromYRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  out[0] = c;
  out[1] = 0;
  out[2] = -s;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = s;
  out[9] = 0;
  out[10] = c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
function fromZRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  out[0] = c;
  out[1] = s;
  out[2] = 0;
  out[3] = 0;
  out[4] = -s;
  out[5] = c;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
function fromRotationTranslation(out, q, v) {
  var x = q[0], y = q[1], z = q[2], w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  out[0] = 1 - (yy + zz);
  out[1] = xy + wz;
  out[2] = xz - wy;
  out[3] = 0;
  out[4] = xy - wz;
  out[5] = 1 - (xx + zz);
  out[6] = yz + wx;
  out[7] = 0;
  out[8] = xz + wy;
  out[9] = yz - wx;
  out[10] = 1 - (xx + yy);
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}
function fromQuat2(out, a) {
  var translation = new ARRAY_TYPE(3);
  var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7];
  var magnitude = bx * bx + by * by + bz * bz + bw * bw;
  if (magnitude > 0) {
    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;
    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;
    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;
  } else {
    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
  }
  fromRotationTranslation(out, a, translation);
  return out;
}
function getTranslation(out, mat) {
  out[0] = mat[12];
  out[1] = mat[13];
  out[2] = mat[14];
  return out;
}
function getScaling(out, mat) {
  var m11 = mat[0];
  var m12 = mat[1];
  var m13 = mat[2];
  var m21 = mat[4];
  var m22 = mat[5];
  var m23 = mat[6];
  var m31 = mat[8];
  var m32 = mat[9];
  var m33 = mat[10];
  out[0] = Math.hypot(m11, m12, m13);
  out[1] = Math.hypot(m21, m22, m23);
  out[2] = Math.hypot(m31, m32, m33);
  return out;
}
function getRotation(out, mat) {
  var scaling = new ARRAY_TYPE(3);
  getScaling(scaling, mat);
  var is1 = 1 / scaling[0];
  var is2 = 1 / scaling[1];
  var is3 = 1 / scaling[2];
  var sm11 = mat[0] * is1;
  var sm12 = mat[1] * is2;
  var sm13 = mat[2] * is3;
  var sm21 = mat[4] * is1;
  var sm22 = mat[5] * is2;
  var sm23 = mat[6] * is3;
  var sm31 = mat[8] * is1;
  var sm32 = mat[9] * is2;
  var sm33 = mat[10] * is3;
  var trace = sm11 + sm22 + sm33;
  var S = 0;
  if (trace > 0) {
    S = Math.sqrt(trace + 1) * 2;
    out[3] = 0.25 * S;
    out[0] = (sm23 - sm32) / S;
    out[1] = (sm31 - sm13) / S;
    out[2] = (sm12 - sm21) / S;
  } else if (sm11 > sm22 && sm11 > sm33) {
    S = Math.sqrt(1 + sm11 - sm22 - sm33) * 2;
    out[3] = (sm23 - sm32) / S;
    out[0] = 0.25 * S;
    out[1] = (sm12 + sm21) / S;
    out[2] = (sm31 + sm13) / S;
  } else if (sm22 > sm33) {
    S = Math.sqrt(1 + sm22 - sm11 - sm33) * 2;
    out[3] = (sm31 - sm13) / S;
    out[0] = (sm12 + sm21) / S;
    out[1] = 0.25 * S;
    out[2] = (sm23 + sm32) / S;
  } else {
    S = Math.sqrt(1 + sm33 - sm11 - sm22) * 2;
    out[3] = (sm12 - sm21) / S;
    out[0] = (sm31 + sm13) / S;
    out[1] = (sm23 + sm32) / S;
    out[2] = 0.25 * S;
  }
  return out;
}
function fromRotationTranslationScale(out, q, v, s) {
  var x = q[0], y = q[1], z = q[2], w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  var sx = s[0];
  var sy = s[1];
  var sz = s[2];
  out[0] = (1 - (yy + zz)) * sx;
  out[1] = (xy + wz) * sx;
  out[2] = (xz - wy) * sx;
  out[3] = 0;
  out[4] = (xy - wz) * sy;
  out[5] = (1 - (xx + zz)) * sy;
  out[6] = (yz + wx) * sy;
  out[7] = 0;
  out[8] = (xz + wy) * sz;
  out[9] = (yz - wx) * sz;
  out[10] = (1 - (xx + yy)) * sz;
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}
function fromRotationTranslationScaleOrigin(out, q, v, s, o) {
  var x = q[0], y = q[1], z = q[2], w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  var sx = s[0];
  var sy = s[1];
  var sz = s[2];
  var ox = o[0];
  var oy = o[1];
  var oz = o[2];
  var out0 = (1 - (yy + zz)) * sx;
  var out1 = (xy + wz) * sx;
  var out2 = (xz - wy) * sx;
  var out4 = (xy - wz) * sy;
  var out5 = (1 - (xx + zz)) * sy;
  var out6 = (yz + wx) * sy;
  var out8 = (xz + wy) * sz;
  var out9 = (yz - wx) * sz;
  var out10 = (1 - (xx + yy)) * sz;
  out[0] = out0;
  out[1] = out1;
  out[2] = out2;
  out[3] = 0;
  out[4] = out4;
  out[5] = out5;
  out[6] = out6;
  out[7] = 0;
  out[8] = out8;
  out[9] = out9;
  out[10] = out10;
  out[11] = 0;
  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);
  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);
  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);
  out[15] = 1;
  return out;
}
function fromQuat(out, q) {
  var x = q[0], y = q[1], z = q[2], w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var yx = y * x2;
  var yy = y * y2;
  var zx = z * x2;
  var zy = z * y2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  out[0] = 1 - yy - zz;
  out[1] = yx + wz;
  out[2] = zx - wy;
  out[3] = 0;
  out[4] = yx - wz;
  out[5] = 1 - xx - zz;
  out[6] = zy + wx;
  out[7] = 0;
  out[8] = zx + wy;
  out[9] = zy - wx;
  out[10] = 1 - xx - yy;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
function frustum(out, left, right, bottom, top, near, far) {
  var rl = 1 / (right - left);
  var tb = 1 / (top - bottom);
  var nf = 1 / (near - far);
  out[0] = near * 2 * rl;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = near * 2 * tb;
  out[6] = 0;
  out[7] = 0;
  out[8] = (right + left) * rl;
  out[9] = (top + bottom) * tb;
  out[10] = (far + near) * nf;
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[14] = far * near * 2 * nf;
  out[15] = 0;
  return out;
}
function perspectiveNO(out, fovy, aspect, near, far) {
  var f = 1 / Math.tan(fovy / 2), nf;
  out[0] = f / aspect;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = f;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[15] = 0;
  if (far != null && far !== Infinity) {
    nf = 1 / (near - far);
    out[10] = (far + near) * nf;
    out[14] = 2 * far * near * nf;
  } else {
    out[10] = -1;
    out[14] = -2 * near;
  }
  return out;
}
function perspectiveZO(out, fovy, aspect, near, far) {
  var f = 1 / Math.tan(fovy / 2), nf;
  out[0] = f / aspect;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = f;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[15] = 0;
  if (far != null && far !== Infinity) {
    nf = 1 / (near - far);
    out[10] = far * nf;
    out[14] = far * near * nf;
  } else {
    out[10] = -1;
    out[14] = -near;
  }
  return out;
}
function perspectiveFromFieldOfView(out, fov, near, far) {
  var upTan = Math.tan(fov.upDegrees * Math.PI / 180);
  var downTan = Math.tan(fov.downDegrees * Math.PI / 180);
  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);
  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);
  var xScale = 2 / (leftTan + rightTan);
  var yScale = 2 / (upTan + downTan);
  out[0] = xScale;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = yScale;
  out[6] = 0;
  out[7] = 0;
  out[8] = -((leftTan - rightTan) * xScale * 0.5);
  out[9] = (upTan - downTan) * yScale * 0.5;
  out[10] = far / (near - far);
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[14] = far * near / (near - far);
  out[15] = 0;
  return out;
}
function orthoNO(out, left, right, bottom, top, near, far) {
  var lr = 1 / (left - right);
  var bt = 1 / (bottom - top);
  var nf = 1 / (near - far);
  out[0] = -2 * lr;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = -2 * bt;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 2 * nf;
  out[11] = 0;
  out[12] = (left + right) * lr;
  out[13] = (top + bottom) * bt;
  out[14] = (far + near) * nf;
  out[15] = 1;
  return out;
}
function orthoZO(out, left, right, bottom, top, near, far) {
  var lr = 1 / (left - right);
  var bt = 1 / (bottom - top);
  var nf = 1 / (near - far);
  out[0] = -2 * lr;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = -2 * bt;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = nf;
  out[11] = 0;
  out[12] = (left + right) * lr;
  out[13] = (top + bottom) * bt;
  out[14] = near * nf;
  out[15] = 1;
  return out;
}
function lookAt(out, eye, center, up) {
  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;
  var eyex = eye[0];
  var eyey = eye[1];
  var eyez = eye[2];
  var upx = up[0];
  var upy = up[1];
  var upz = up[2];
  var centerx = center[0];
  var centery = center[1];
  var centerz = center[2];
  if (Math.abs(eyex - centerx) < EPSILON && Math.abs(eyey - centery) < EPSILON && Math.abs(eyez - centerz) < EPSILON) {
    return identity(out);
  }
  z0 = eyex - centerx;
  z1 = eyey - centery;
  z2 = eyez - centerz;
  len = 1 / Math.hypot(z0, z1, z2);
  z0 *= len;
  z1 *= len;
  z2 *= len;
  x0 = upy * z2 - upz * z1;
  x1 = upz * z0 - upx * z2;
  x2 = upx * z1 - upy * z0;
  len = Math.hypot(x0, x1, x2);
  if (!len) {
    x0 = 0;
    x1 = 0;
    x2 = 0;
  } else {
    len = 1 / len;
    x0 *= len;
    x1 *= len;
    x2 *= len;
  }
  y0 = z1 * x2 - z2 * x1;
  y1 = z2 * x0 - z0 * x2;
  y2 = z0 * x1 - z1 * x0;
  len = Math.hypot(y0, y1, y2);
  if (!len) {
    y0 = 0;
    y1 = 0;
    y2 = 0;
  } else {
    len = 1 / len;
    y0 *= len;
    y1 *= len;
    y2 *= len;
  }
  out[0] = x0;
  out[1] = y0;
  out[2] = z0;
  out[3] = 0;
  out[4] = x1;
  out[5] = y1;
  out[6] = z1;
  out[7] = 0;
  out[8] = x2;
  out[9] = y2;
  out[10] = z2;
  out[11] = 0;
  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
  out[15] = 1;
  return out;
}
function targetTo(out, eye, target, up) {
  var eyex = eye[0], eyey = eye[1], eyez = eye[2], upx = up[0], upy = up[1], upz = up[2];
  var z0 = eyex - target[0], z1 = eyey - target[1], z2 = eyez - target[2];
  var len = z0 * z0 + z1 * z1 + z2 * z2;
  if (len > 0) {
    len = 1 / Math.sqrt(len);
    z0 *= len;
    z1 *= len;
    z2 *= len;
  }
  var x0 = upy * z2 - upz * z1, x1 = upz * z0 - upx * z2, x2 = upx * z1 - upy * z0;
  len = x0 * x0 + x1 * x1 + x2 * x2;
  if (len > 0) {
    len = 1 / Math.sqrt(len);
    x0 *= len;
    x1 *= len;
    x2 *= len;
  }
  out[0] = x0;
  out[1] = x1;
  out[2] = x2;
  out[3] = 0;
  out[4] = z1 * x2 - z2 * x1;
  out[5] = z2 * x0 - z0 * x2;
  out[6] = z0 * x1 - z1 * x0;
  out[7] = 0;
  out[8] = z0;
  out[9] = z1;
  out[10] = z2;
  out[11] = 0;
  out[12] = eyex;
  out[13] = eyey;
  out[14] = eyez;
  out[15] = 1;
  return out;
}
function str(a) {
  return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";
}
function frob(a) {
  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);
}
function add(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  out[2] = a[2] + b[2];
  out[3] = a[3] + b[3];
  out[4] = a[4] + b[4];
  out[5] = a[5] + b[5];
  out[6] = a[6] + b[6];
  out[7] = a[7] + b[7];
  out[8] = a[8] + b[8];
  out[9] = a[9] + b[9];
  out[10] = a[10] + b[10];
  out[11] = a[11] + b[11];
  out[12] = a[12] + b[12];
  out[13] = a[13] + b[13];
  out[14] = a[14] + b[14];
  out[15] = a[15] + b[15];
  return out;
}
function subtract(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  out[2] = a[2] - b[2];
  out[3] = a[3] - b[3];
  out[4] = a[4] - b[4];
  out[5] = a[5] - b[5];
  out[6] = a[6] - b[6];
  out[7] = a[7] - b[7];
  out[8] = a[8] - b[8];
  out[9] = a[9] - b[9];
  out[10] = a[10] - b[10];
  out[11] = a[11] - b[11];
  out[12] = a[12] - b[12];
  out[13] = a[13] - b[13];
  out[14] = a[14] - b[14];
  out[15] = a[15] - b[15];
  return out;
}
function multiplyScalar(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  out[2] = a[2] * b;
  out[3] = a[3] * b;
  out[4] = a[4] * b;
  out[5] = a[5] * b;
  out[6] = a[6] * b;
  out[7] = a[7] * b;
  out[8] = a[8] * b;
  out[9] = a[9] * b;
  out[10] = a[10] * b;
  out[11] = a[11] * b;
  out[12] = a[12] * b;
  out[13] = a[13] * b;
  out[14] = a[14] * b;
  out[15] = a[15] * b;
  return out;
}
function multiplyScalarAndAdd(out, a, b, scale2) {
  out[0] = a[0] + b[0] * scale2;
  out[1] = a[1] + b[1] * scale2;
  out[2] = a[2] + b[2] * scale2;
  out[3] = a[3] + b[3] * scale2;
  out[4] = a[4] + b[4] * scale2;
  out[5] = a[5] + b[5] * scale2;
  out[6] = a[6] + b[6] * scale2;
  out[7] = a[7] + b[7] * scale2;
  out[8] = a[8] + b[8] * scale2;
  out[9] = a[9] + b[9] * scale2;
  out[10] = a[10] + b[10] * scale2;
  out[11] = a[11] + b[11] * scale2;
  out[12] = a[12] + b[12] * scale2;
  out[13] = a[13] + b[13] * scale2;
  out[14] = a[14] + b[14] * scale2;
  out[15] = a[15] + b[15] * scale2;
  return out;
}
function exactEquals(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
}
function equals(a, b) {
  var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
  var a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
  var a8 = a[8], a9 = a[9], a10 = a[10], a11 = a[11];
  var a12 = a[12], a13 = a[13], a14 = a[14], a15 = a[15];
  var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
  var b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
  var b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11];
  var b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];
  return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= EPSILON * Math.max(1, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= EPSILON * Math.max(1, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= EPSILON * Math.max(1, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= EPSILON * Math.max(1, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= EPSILON * Math.max(1, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= EPSILON * Math.max(1, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= EPSILON * Math.max(1, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= EPSILON * Math.max(1, Math.abs(a15), Math.abs(b15));
}
var perspective = perspectiveNO;
var ortho = orthoNO;
var mul = multiply;
var sub = subtract;

// node_modules/gl-matrix/esm/vec3.js
var exports_vec3 = {};
__export(exports_vec3, {
  zero: () => {
    {
      return zero;
    }
  },
  transformQuat: () => {
    {
      return transformQuat;
    }
  },
  transformMat4: () => {
    {
      return transformMat4;
    }
  },
  transformMat3: () => {
    {
      return transformMat3;
    }
  },
  subtract: () => {
    {
      return subtract2;
    }
  },
  sub: () => {
    {
      return sub2;
    }
  },
  str: () => {
    {
      return str2;
    }
  },
  squaredLength: () => {
    {
      return squaredLength;
    }
  },
  squaredDistance: () => {
    {
      return squaredDistance;
    }
  },
  sqrLen: () => {
    {
      return sqrLen;
    }
  },
  sqrDist: () => {
    {
      return sqrDist;
    }
  },
  set: () => {
    {
      return set2;
    }
  },
  scaleAndAdd: () => {
    {
      return scaleAndAdd;
    }
  },
  scale: () => {
    {
      return scale2;
    }
  },
  round: () => {
    {
      return round;
    }
  },
  rotateZ: () => {
    {
      return rotateZ2;
    }
  },
  rotateY: () => {
    {
      return rotateY2;
    }
  },
  rotateX: () => {
    {
      return rotateX2;
    }
  },
  random: () => {
    {
      return random;
    }
  },
  normalize: () => {
    {
      return normalize;
    }
  },
  negate: () => {
    {
      return negate;
    }
  },
  multiply: () => {
    {
      return multiply2;
    }
  },
  mul: () => {
    {
      return mul2;
    }
  },
  min: () => {
    {
      return min;
    }
  },
  max: () => {
    {
      return max;
    }
  },
  lerp: () => {
    {
      return lerp;
    }
  },
  length: () => {
    {
      return length;
    }
  },
  len: () => {
    {
      return len;
    }
  },
  inverse: () => {
    {
      return inverse;
    }
  },
  hermite: () => {
    {
      return hermite;
    }
  },
  fromValues: () => {
    {
      return fromValues2;
    }
  },
  forEach: () => {
    {
      return forEach;
    }
  },
  floor: () => {
    {
      return floor;
    }
  },
  exactEquals: () => {
    {
      return exactEquals2;
    }
  },
  equals: () => {
    {
      return equals2;
    }
  },
  dot: () => {
    {
      return dot;
    }
  },
  divide: () => {
    {
      return divide;
    }
  },
  div: () => {
    {
      return div;
    }
  },
  distance: () => {
    {
      return distance;
    }
  },
  dist: () => {
    {
      return dist;
    }
  },
  cross: () => {
    {
      return cross;
    }
  },
  create: () => {
    {
      return create2;
    }
  },
  copy: () => {
    {
      return copy2;
    }
  },
  clone: () => {
    {
      return clone2;
    }
  },
  ceil: () => {
    {
      return ceil;
    }
  },
  bezier: () => {
    {
      return bezier;
    }
  },
  angle: () => {
    {
      return angle;
    }
  },
  add: () => {
    {
      return add2;
    }
  }
});
function create2() {
  var out = new ARRAY_TYPE(3);
  if (ARRAY_TYPE != Float32Array) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
  }
  return out;
}
function clone2(a) {
  var out = new ARRAY_TYPE(3);
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  return out;
}
function length(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  return Math.hypot(x, y, z);
}
function fromValues2(x, y, z) {
  var out = new ARRAY_TYPE(3);
  out[0] = x;
  out[1] = y;
  out[2] = z;
  return out;
}
function copy2(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  return out;
}
function set2(out, x, y, z) {
  out[0] = x;
  out[1] = y;
  out[2] = z;
  return out;
}
function add2(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  out[2] = a[2] + b[2];
  return out;
}
function subtract2(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  out[2] = a[2] - b[2];
  return out;
}
function multiply2(out, a, b) {
  out[0] = a[0] * b[0];
  out[1] = a[1] * b[1];
  out[2] = a[2] * b[2];
  return out;
}
function divide(out, a, b) {
  out[0] = a[0] / b[0];
  out[1] = a[1] / b[1];
  out[2] = a[2] / b[2];
  return out;
}
function ceil(out, a) {
  out[0] = Math.ceil(a[0]);
  out[1] = Math.ceil(a[1]);
  out[2] = Math.ceil(a[2]);
  return out;
}
function floor(out, a) {
  out[0] = Math.floor(a[0]);
  out[1] = Math.floor(a[1]);
  out[2] = Math.floor(a[2]);
  return out;
}
function min(out, a, b) {
  out[0] = Math.min(a[0], b[0]);
  out[1] = Math.min(a[1], b[1]);
  out[2] = Math.min(a[2], b[2]);
  return out;
}
function max(out, a, b) {
  out[0] = Math.max(a[0], b[0]);
  out[1] = Math.max(a[1], b[1]);
  out[2] = Math.max(a[2], b[2]);
  return out;
}
function round(out, a) {
  out[0] = Math.round(a[0]);
  out[1] = Math.round(a[1]);
  out[2] = Math.round(a[2]);
  return out;
}
function scale2(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  out[2] = a[2] * b;
  return out;
}
function scaleAndAdd(out, a, b, scale3) {
  out[0] = a[0] + b[0] * scale3;
  out[1] = a[1] + b[1] * scale3;
  out[2] = a[2] + b[2] * scale3;
  return out;
}
function distance(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  return Math.hypot(x, y, z);
}
function squaredDistance(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  return x * x + y * y + z * z;
}
function squaredLength(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  return x * x + y * y + z * z;
}
function negate(out, a) {
  out[0] = -a[0];
  out[1] = -a[1];
  out[2] = -a[2];
  return out;
}
function inverse(out, a) {
  out[0] = 1 / a[0];
  out[1] = 1 / a[1];
  out[2] = 1 / a[2];
  return out;
}
function normalize(out, a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  var len = x * x + y * y + z * z;
  if (len > 0) {
    len = 1 / Math.sqrt(len);
  }
  out[0] = a[0] * len;
  out[1] = a[1] * len;
  out[2] = a[2] * len;
  return out;
}
function dot(a, b) {
  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
}
function cross(out, a, b) {
  var ax = a[0], ay = a[1], az = a[2];
  var bx = b[0], by = b[1], bz = b[2];
  out[0] = ay * bz - az * by;
  out[1] = az * bx - ax * bz;
  out[2] = ax * by - ay * bx;
  return out;
}
function lerp(out, a, b, t) {
  var ax = a[0];
  var ay = a[1];
  var az = a[2];
  out[0] = ax + t * (b[0] - ax);
  out[1] = ay + t * (b[1] - ay);
  out[2] = az + t * (b[2] - az);
  return out;
}
function hermite(out, a, b, c, d, t) {
  var factorTimes2 = t * t;
  var factor1 = factorTimes2 * (2 * t - 3) + 1;
  var factor2 = factorTimes2 * (t - 2) + t;
  var factor3 = factorTimes2 * (t - 1);
  var factor4 = factorTimes2 * (3 - 2 * t);
  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
  return out;
}
function bezier(out, a, b, c, d, t) {
  var inverseFactor = 1 - t;
  var inverseFactorTimesTwo = inverseFactor * inverseFactor;
  var factorTimes2 = t * t;
  var factor1 = inverseFactorTimesTwo * inverseFactor;
  var factor2 = 3 * t * inverseFactorTimesTwo;
  var factor3 = 3 * factorTimes2 * inverseFactor;
  var factor4 = factorTimes2 * t;
  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
  return out;
}
function random(out, scale3) {
  scale3 = scale3 || 1;
  var r = RANDOM() * 2 * Math.PI;
  var z = RANDOM() * 2 - 1;
  var zScale = Math.sqrt(1 - z * z) * scale3;
  out[0] = Math.cos(r) * zScale;
  out[1] = Math.sin(r) * zScale;
  out[2] = z * scale3;
  return out;
}
function transformMat4(out, a, m) {
  var x = a[0], y = a[1], z = a[2];
  var w = m[3] * x + m[7] * y + m[11] * z + m[15];
  w = w || 1;
  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
  return out;
}
function transformMat3(out, a, m) {
  var x = a[0], y = a[1], z = a[2];
  out[0] = x * m[0] + y * m[3] + z * m[6];
  out[1] = x * m[1] + y * m[4] + z * m[7];
  out[2] = x * m[2] + y * m[5] + z * m[8];
  return out;
}
function transformQuat(out, a, q) {
  var qx = q[0], qy = q[1], qz = q[2], qw = q[3];
  var x = a[0], y = a[1], z = a[2];
  var uvx = qy * z - qz * y, uvy = qz * x - qx * z, uvz = qx * y - qy * x;
  var uuvx = qy * uvz - qz * uvy, uuvy = qz * uvx - qx * uvz, uuvz = qx * uvy - qy * uvx;
  var w2 = qw * 2;
  uvx *= w2;
  uvy *= w2;
  uvz *= w2;
  uuvx *= 2;
  uuvy *= 2;
  uuvz *= 2;
  out[0] = x + uvx + uuvx;
  out[1] = y + uvy + uuvy;
  out[2] = z + uvz + uuvz;
  return out;
}
function rotateX2(out, a, b, rad) {
  var p = [], r = [];
  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2];
  r[0] = p[0];
  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);
  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad);
  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}
function rotateY2(out, a, b, rad) {
  var p = [], r = [];
  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2];
  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);
  r[1] = p[1];
  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad);
  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}
function rotateZ2(out, a, b, rad) {
  var p = [], r = [];
  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2];
  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);
  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);
  r[2] = p[2];
  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}
function angle(a, b) {
  var ax = a[0], ay = a[1], az = a[2], bx = b[0], by = b[1], bz = b[2], mag1 = Math.sqrt(ax * ax + ay * ay + az * az), mag2 = Math.sqrt(bx * bx + by * by + bz * bz), mag = mag1 * mag2, cosine = mag && dot(a, b) / mag;
  return Math.acos(Math.min(Math.max(cosine, -1), 1));
}
function zero(out) {
  out[0] = 0;
  out[1] = 0;
  out[2] = 0;
  return out;
}
function str2(a) {
  return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";
}
function exactEquals2(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
}
function equals2(a, b) {
  var a0 = a[0], a1 = a[1], a2 = a[2];
  var b0 = b[0], b1 = b[1], b2 = b[2];
  return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2));
}
var sub2 = subtract2;
var mul2 = multiply2;
var div = divide;
var dist = distance;
var sqrDist = squaredDistance;
var len = length;
var sqrLen = squaredLength;
var forEach = function() {
  var vec = create2();
  return function(a, stride, offset, count, fn, arg) {
    var i, l;
    if (!stride) {
      stride = 3;
    }
    if (!offset) {
      offset = 0;
    }
    if (count) {
      l = Math.min(count * stride + offset, a.length);
    } else {
      l = a.length;
    }
    for (i = offset;i < l; i += stride) {
      vec[0] = a[i];
      vec[1] = a[i + 1];
      vec[2] = a[i + 2];
      fn(vec, vec, arg);
      a[i] = vec[0];
      a[i + 1] = vec[1];
      a[i + 2] = vec[2];
    }
    return a;
  };
}();

// node_modules/gl-matrix/esm/vec4.js
var exports_vec4 = {};
__export(exports_vec4, {
  zero: () => {
    {
      return zero2;
    }
  },
  transformQuat: () => {
    {
      return transformQuat2;
    }
  },
  transformMat4: () => {
    {
      return transformMat42;
    }
  },
  subtract: () => {
    {
      return subtract3;
    }
  },
  sub: () => {
    {
      return sub3;
    }
  },
  str: () => {
    {
      return str3;
    }
  },
  squaredLength: () => {
    {
      return squaredLength2;
    }
  },
  squaredDistance: () => {
    {
      return squaredDistance2;
    }
  },
  sqrLen: () => {
    {
      return sqrLen2;
    }
  },
  sqrDist: () => {
    {
      return sqrDist2;
    }
  },
  set: () => {
    {
      return set3;
    }
  },
  scaleAndAdd: () => {
    {
      return scaleAndAdd2;
    }
  },
  scale: () => {
    {
      return scale3;
    }
  },
  round: () => {
    {
      return round2;
    }
  },
  random: () => {
    {
      return random2;
    }
  },
  normalize: () => {
    {
      return normalize2;
    }
  },
  negate: () => {
    {
      return negate2;
    }
  },
  multiply: () => {
    {
      return multiply3;
    }
  },
  mul: () => {
    {
      return mul3;
    }
  },
  min: () => {
    {
      return min2;
    }
  },
  max: () => {
    {
      return max2;
    }
  },
  lerp: () => {
    {
      return lerp2;
    }
  },
  length: () => {
    {
      return length2;
    }
  },
  len: () => {
    {
      return len2;
    }
  },
  inverse: () => {
    {
      return inverse2;
    }
  },
  fromValues: () => {
    {
      return fromValues3;
    }
  },
  forEach: () => {
    {
      return forEach2;
    }
  },
  floor: () => {
    {
      return floor2;
    }
  },
  exactEquals: () => {
    {
      return exactEquals3;
    }
  },
  equals: () => {
    {
      return equals3;
    }
  },
  dot: () => {
    {
      return dot2;
    }
  },
  divide: () => {
    {
      return divide2;
    }
  },
  div: () => {
    {
      return div2;
    }
  },
  distance: () => {
    {
      return distance2;
    }
  },
  dist: () => {
    {
      return dist2;
    }
  },
  cross: () => {
    {
      return cross2;
    }
  },
  create: () => {
    {
      return create3;
    }
  },
  copy: () => {
    {
      return copy3;
    }
  },
  clone: () => {
    {
      return clone3;
    }
  },
  ceil: () => {
    {
      return ceil2;
    }
  },
  add: () => {
    {
      return add3;
    }
  }
});
function create3() {
  var out = new ARRAY_TYPE(4);
  if (ARRAY_TYPE != Float32Array) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
  }
  return out;
}
function clone3(a) {
  var out = new ARRAY_TYPE(4);
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  return out;
}
function fromValues3(x, y, z, w) {
  var out = new ARRAY_TYPE(4);
  out[0] = x;
  out[1] = y;
  out[2] = z;
  out[3] = w;
  return out;
}
function copy3(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  return out;
}
function set3(out, x, y, z, w) {
  out[0] = x;
  out[1] = y;
  out[2] = z;
  out[3] = w;
  return out;
}
function add3(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  out[2] = a[2] + b[2];
  out[3] = a[3] + b[3];
  return out;
}
function subtract3(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  out[2] = a[2] - b[2];
  out[3] = a[3] - b[3];
  return out;
}
function multiply3(out, a, b) {
  out[0] = a[0] * b[0];
  out[1] = a[1] * b[1];
  out[2] = a[2] * b[2];
  out[3] = a[3] * b[3];
  return out;
}
function divide2(out, a, b) {
  out[0] = a[0] / b[0];
  out[1] = a[1] / b[1];
  out[2] = a[2] / b[2];
  out[3] = a[3] / b[3];
  return out;
}
function ceil2(out, a) {
  out[0] = Math.ceil(a[0]);
  out[1] = Math.ceil(a[1]);
  out[2] = Math.ceil(a[2]);
  out[3] = Math.ceil(a[3]);
  return out;
}
function floor2(out, a) {
  out[0] = Math.floor(a[0]);
  out[1] = Math.floor(a[1]);
  out[2] = Math.floor(a[2]);
  out[3] = Math.floor(a[3]);
  return out;
}
function min2(out, a, b) {
  out[0] = Math.min(a[0], b[0]);
  out[1] = Math.min(a[1], b[1]);
  out[2] = Math.min(a[2], b[2]);
  out[3] = Math.min(a[3], b[3]);
  return out;
}
function max2(out, a, b) {
  out[0] = Math.max(a[0], b[0]);
  out[1] = Math.max(a[1], b[1]);
  out[2] = Math.max(a[2], b[2]);
  out[3] = Math.max(a[3], b[3]);
  return out;
}
function round2(out, a) {
  out[0] = Math.round(a[0]);
  out[1] = Math.round(a[1]);
  out[2] = Math.round(a[2]);
  out[3] = Math.round(a[3]);
  return out;
}
function scale3(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  out[2] = a[2] * b;
  out[3] = a[3] * b;
  return out;
}
function scaleAndAdd2(out, a, b, scale4) {
  out[0] = a[0] + b[0] * scale4;
  out[1] = a[1] + b[1] * scale4;
  out[2] = a[2] + b[2] * scale4;
  out[3] = a[3] + b[3] * scale4;
  return out;
}
function distance2(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  var w = b[3] - a[3];
  return Math.hypot(x, y, z, w);
}
function squaredDistance2(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  var w = b[3] - a[3];
  return x * x + y * y + z * z + w * w;
}
function length2(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  var w = a[3];
  return Math.hypot(x, y, z, w);
}
function squaredLength2(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  var w = a[3];
  return x * x + y * y + z * z + w * w;
}
function negate2(out, a) {
  out[0] = -a[0];
  out[1] = -a[1];
  out[2] = -a[2];
  out[3] = -a[3];
  return out;
}
function inverse2(out, a) {
  out[0] = 1 / a[0];
  out[1] = 1 / a[1];
  out[2] = 1 / a[2];
  out[3] = 1 / a[3];
  return out;
}
function normalize2(out, a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  var w = a[3];
  var len2 = x * x + y * y + z * z + w * w;
  if (len2 > 0) {
    len2 = 1 / Math.sqrt(len2);
  }
  out[0] = x * len2;
  out[1] = y * len2;
  out[2] = z * len2;
  out[3] = w * len2;
  return out;
}
function dot2(a, b) {
  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];
}
function cross2(out, u, v, w) {
  var A = v[0] * w[1] - v[1] * w[0], B = v[0] * w[2] - v[2] * w[0], C = v[0] * w[3] - v[3] * w[0], D = v[1] * w[2] - v[2] * w[1], E = v[1] * w[3] - v[3] * w[1], F = v[2] * w[3] - v[3] * w[2];
  var G = u[0];
  var H = u[1];
  var I = u[2];
  var J = u[3];
  out[0] = H * F - I * E + J * D;
  out[1] = -(G * F) + I * C - J * B;
  out[2] = G * E - H * C + J * A;
  out[3] = -(G * D) + H * B - I * A;
  return out;
}
function lerp2(out, a, b, t) {
  var ax = a[0];
  var ay = a[1];
  var az = a[2];
  var aw = a[3];
  out[0] = ax + t * (b[0] - ax);
  out[1] = ay + t * (b[1] - ay);
  out[2] = az + t * (b[2] - az);
  out[3] = aw + t * (b[3] - aw);
  return out;
}
function random2(out, scale4) {
  scale4 = scale4 || 1;
  var v1, v2, v3, v4;
  var s1, s2;
  do {
    v1 = RANDOM() * 2 - 1;
    v2 = RANDOM() * 2 - 1;
    s1 = v1 * v1 + v2 * v2;
  } while (s1 >= 1);
  do {
    v3 = RANDOM() * 2 - 1;
    v4 = RANDOM() * 2 - 1;
    s2 = v3 * v3 + v4 * v4;
  } while (s2 >= 1);
  var d = Math.sqrt((1 - s1) / s2);
  out[0] = scale4 * v1;
  out[1] = scale4 * v2;
  out[2] = scale4 * v3 * d;
  out[3] = scale4 * v4 * d;
  return out;
}
function transformMat42(out, a, m) {
  var x = a[0], y = a[1], z = a[2], w = a[3];
  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;
  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;
  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;
  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;
  return out;
}
function transformQuat2(out, a, q) {
  var x = a[0], y = a[1], z = a[2];
  var qx = q[0], qy = q[1], qz = q[2], qw = q[3];
  var ix = qw * x + qy * z - qz * y;
  var iy = qw * y + qz * x - qx * z;
  var iz = qw * z + qx * y - qy * x;
  var iw = -qx * x - qy * y - qz * z;
  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;
  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;
  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;
  out[3] = a[3];
  return out;
}
function zero2(out) {
  out[0] = 0;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  return out;
}
function str3(a) {
  return "vec4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ")";
}
function exactEquals3(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];
}
function equals3(a, b) {
  var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
  var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
  return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3));
}
var sub3 = subtract3;
var mul3 = multiply3;
var div2 = divide2;
var dist2 = distance2;
var sqrDist2 = squaredDistance2;
var len2 = length2;
var sqrLen2 = squaredLength2;
var forEach2 = function() {
  var vec = create3();
  return function(a, stride, offset, count, fn, arg) {
    var i, l;
    if (!stride) {
      stride = 4;
    }
    if (!offset) {
      offset = 0;
    }
    if (count) {
      l = Math.min(count * stride + offset, a.length);
    } else {
      l = a.length;
    }
    for (i = offset;i < l; i += stride) {
      vec[0] = a[i];
      vec[1] = a[i + 1];
      vec[2] = a[i + 2];
      vec[3] = a[i + 3];
      fn(vec, vec, arg);
      a[i] = vec[0];
      a[i + 1] = vec[1];
      a[i + 2] = vec[2];
      a[i + 3] = vec[3];
    }
    return a;
  };
}();

// node_modules/gl-matrix/esm/vec2.js
var exports_vec2 = {};
__export(exports_vec2, {
  zero: () => {
    {
      return zero3;
    }
  },
  transformMat4: () => {
    {
      return transformMat43;
    }
  },
  transformMat3: () => {
    {
      return transformMat32;
    }
  },
  transformMat2d: () => {
    {
      return transformMat2d;
    }
  },
  transformMat2: () => {
    {
      return transformMat2;
    }
  },
  subtract: () => {
    {
      return subtract4;
    }
  },
  sub: () => {
    {
      return sub4;
    }
  },
  str: () => {
    {
      return str4;
    }
  },
  squaredLength: () => {
    {
      return squaredLength3;
    }
  },
  squaredDistance: () => {
    {
      return squaredDistance3;
    }
  },
  sqrLen: () => {
    {
      return sqrLen3;
    }
  },
  sqrDist: () => {
    {
      return sqrDist3;
    }
  },
  set: () => {
    {
      return set4;
    }
  },
  scaleAndAdd: () => {
    {
      return scaleAndAdd3;
    }
  },
  scale: () => {
    {
      return scale4;
    }
  },
  round: () => {
    {
      return round3;
    }
  },
  rotate: () => {
    {
      return rotate2;
    }
  },
  random: () => {
    {
      return random3;
    }
  },
  normalize: () => {
    {
      return normalize3;
    }
  },
  negate: () => {
    {
      return negate3;
    }
  },
  multiply: () => {
    {
      return multiply4;
    }
  },
  mul: () => {
    {
      return mul4;
    }
  },
  min: () => {
    {
      return min3;
    }
  },
  max: () => {
    {
      return max3;
    }
  },
  lerp: () => {
    {
      return lerp3;
    }
  },
  length: () => {
    {
      return length3;
    }
  },
  len: () => {
    {
      return len3;
    }
  },
  inverse: () => {
    {
      return inverse3;
    }
  },
  fromValues: () => {
    {
      return fromValues4;
    }
  },
  forEach: () => {
    {
      return forEach3;
    }
  },
  floor: () => {
    {
      return floor3;
    }
  },
  exactEquals: () => {
    {
      return exactEquals4;
    }
  },
  equals: () => {
    {
      return equals4;
    }
  },
  dot: () => {
    {
      return dot3;
    }
  },
  divide: () => {
    {
      return divide3;
    }
  },
  div: () => {
    {
      return div3;
    }
  },
  distance: () => {
    {
      return distance3;
    }
  },
  dist: () => {
    {
      return dist3;
    }
  },
  cross: () => {
    {
      return cross3;
    }
  },
  create: () => {
    {
      return create4;
    }
  },
  copy: () => {
    {
      return copy4;
    }
  },
  clone: () => {
    {
      return clone4;
    }
  },
  ceil: () => {
    {
      return ceil3;
    }
  },
  angle: () => {
    {
      return angle2;
    }
  },
  add: () => {
    {
      return add4;
    }
  }
});
function create4() {
  var out = new ARRAY_TYPE(2);
  if (ARRAY_TYPE != Float32Array) {
    out[0] = 0;
    out[1] = 0;
  }
  return out;
}
function clone4(a) {
  var out = new ARRAY_TYPE(2);
  out[0] = a[0];
  out[1] = a[1];
  return out;
}
function fromValues4(x, y) {
  var out = new ARRAY_TYPE(2);
  out[0] = x;
  out[1] = y;
  return out;
}
function copy4(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  return out;
}
function set4(out, x, y) {
  out[0] = x;
  out[1] = y;
  return out;
}
function add4(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  return out;
}
function subtract4(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  return out;
}
function multiply4(out, a, b) {
  out[0] = a[0] * b[0];
  out[1] = a[1] * b[1];
  return out;
}
function divide3(out, a, b) {
  out[0] = a[0] / b[0];
  out[1] = a[1] / b[1];
  return out;
}
function ceil3(out, a) {
  out[0] = Math.ceil(a[0]);
  out[1] = Math.ceil(a[1]);
  return out;
}
function floor3(out, a) {
  out[0] = Math.floor(a[0]);
  out[1] = Math.floor(a[1]);
  return out;
}
function min3(out, a, b) {
  out[0] = Math.min(a[0], b[0]);
  out[1] = Math.min(a[1], b[1]);
  return out;
}
function max3(out, a, b) {
  out[0] = Math.max(a[0], b[0]);
  out[1] = Math.max(a[1], b[1]);
  return out;
}
function round3(out, a) {
  out[0] = Math.round(a[0]);
  out[1] = Math.round(a[1]);
  return out;
}
function scale4(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  return out;
}
function scaleAndAdd3(out, a, b, scale5) {
  out[0] = a[0] + b[0] * scale5;
  out[1] = a[1] + b[1] * scale5;
  return out;
}
function distance3(a, b) {
  var x = b[0] - a[0], y = b[1] - a[1];
  return Math.hypot(x, y);
}
function squaredDistance3(a, b) {
  var x = b[0] - a[0], y = b[1] - a[1];
  return x * x + y * y;
}
function length3(a) {
  var x = a[0], y = a[1];
  return Math.hypot(x, y);
}
function squaredLength3(a) {
  var x = a[0], y = a[1];
  return x * x + y * y;
}
function negate3(out, a) {
  out[0] = -a[0];
  out[1] = -a[1];
  return out;
}
function inverse3(out, a) {
  out[0] = 1 / a[0];
  out[1] = 1 / a[1];
  return out;
}
function normalize3(out, a) {
  var x = a[0], y = a[1];
  var len3 = x * x + y * y;
  if (len3 > 0) {
    len3 = 1 / Math.sqrt(len3);
  }
  out[0] = a[0] * len3;
  out[1] = a[1] * len3;
  return out;
}
function dot3(a, b) {
  return a[0] * b[0] + a[1] * b[1];
}
function cross3(out, a, b) {
  var z = a[0] * b[1] - a[1] * b[0];
  out[0] = out[1] = 0;
  out[2] = z;
  return out;
}
function lerp3(out, a, b, t) {
  var ax = a[0], ay = a[1];
  out[0] = ax + t * (b[0] - ax);
  out[1] = ay + t * (b[1] - ay);
  return out;
}
function random3(out, scale5) {
  scale5 = scale5 || 1;
  var r = RANDOM() * 2 * Math.PI;
  out[0] = Math.cos(r) * scale5;
  out[1] = Math.sin(r) * scale5;
  return out;
}
function transformMat2(out, a, m) {
  var x = a[0], y = a[1];
  out[0] = m[0] * x + m[2] * y;
  out[1] = m[1] * x + m[3] * y;
  return out;
}
function transformMat2d(out, a, m) {
  var x = a[0], y = a[1];
  out[0] = m[0] * x + m[2] * y + m[4];
  out[1] = m[1] * x + m[3] * y + m[5];
  return out;
}
function transformMat32(out, a, m) {
  var x = a[0], y = a[1];
  out[0] = m[0] * x + m[3] * y + m[6];
  out[1] = m[1] * x + m[4] * y + m[7];
  return out;
}
function transformMat43(out, a, m) {
  var x = a[0];
  var y = a[1];
  out[0] = m[0] * x + m[4] * y + m[12];
  out[1] = m[1] * x + m[5] * y + m[13];
  return out;
}
function rotate2(out, a, b, rad) {
  var p0 = a[0] - b[0], p1 = a[1] - b[1], sinC = Math.sin(rad), cosC = Math.cos(rad);
  out[0] = p0 * cosC - p1 * sinC + b[0];
  out[1] = p0 * sinC + p1 * cosC + b[1];
  return out;
}
function angle2(a, b) {
  var x1 = a[0], y1 = a[1], x2 = b[0], y2 = b[1], mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2), cosine = mag && (x1 * x2 + y1 * y2) / mag;
  return Math.acos(Math.min(Math.max(cosine, -1), 1));
}
function zero3(out) {
  out[0] = 0;
  out[1] = 0;
  return out;
}
function str4(a) {
  return "vec2(" + a[0] + ", " + a[1] + ")";
}
function exactEquals4(a, b) {
  return a[0] === b[0] && a[1] === b[1];
}
function equals4(a, b) {
  var a0 = a[0], a1 = a[1];
  var b0 = b[0], b1 = b[1];
  return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1));
}
var len3 = length3;
var sub4 = subtract4;
var mul4 = multiply4;
var div3 = divide3;
var dist3 = distance3;
var sqrDist3 = squaredDistance3;
var sqrLen3 = squaredLength3;
var forEach3 = function() {
  var vec = create4();
  return function(a, stride, offset, count, fn, arg) {
    var i, l;
    if (!stride) {
      stride = 2;
    }
    if (!offset) {
      offset = 0;
    }
    if (count) {
      l = Math.min(count * stride + offset, a.length);
    } else {
      l = a.length;
    }
    for (i = offset;i < l; i += stride) {
      vec[0] = a[i];
      vec[1] = a[i + 1];
      fn(vec, vec, arg);
      a[i] = vec[0];
      a[i + 1] = vec[1];
    }
    return a;
  };
}();

// src/local-framework/system/math/angles.ts
var rad2Deg = (rad) => rad / Math.PI * 180;
var deg2Rad = (deg) => deg * Math.PI / 180;
var getEuler = (vector3) => {
  const theta = Math.atan2(vector3[1], vector3[0]);
  const magnitude = exports_vec2.length([vector3[0], vector3[1]]);
  const phi = Math.atan2(vector3[2], magnitude);
  return [theta, phi];
};

// src/local-framework/system/controllers/FreeFlyController.ts
var AllAxises = {
  X: 0,
  Y: 1,
  Z: 2
};

class FreeFlyController {
  _isActivated = false;
  _theta = 0;
  _phi = 0;
  _mouseSensibility;
  _keyboardSensibility;
  _touchSensibility;
  _movingSpeed;
  _touchWasActive = false;
  _touchStartTime = 0;
  _touchMoveForward = false;
  _axisIndices;
  _position = exports_vec3.fromValues(0, 0, 0);
  _target = exports_vec3.fromValues(0, 0, 0);
  _forwardAxis = exports_vec3.fromValues(1, 0, 0);
  _leftAxis = exports_vec3.fromValues(0, 0, 1);
  _upAxis = exports_vec3.fromValues(0, 1, 0);
  _move_forwardAxis = exports_vec3.fromValues(1, 0, 0);
  _move_leftAxis = exports_vec3.fromValues(0, 0, 1);
  _move_upAxis = exports_vec3.fromValues(0, 1, 0);
  constructor(def) {
    this._mouseSensibility = def.mouseSensibility;
    this._keyboardSensibility = def.keyboardSensibility;
    this._touchSensibility = def.touchSensibility;
    this._movingSpeed = def.movingSpeed;
    exports_vec3.copy(this._position, def.position);
    this._axisIndices = [
      def.coordinates ? AllAxises[def.coordinates[0]] : AllAxises.X,
      def.coordinates ? AllAxises[def.coordinates[1]] : AllAxises.Y,
      def.coordinates ? AllAxises[def.coordinates[2]] : AllAxises.Z
    ];
    this._theta = def.theta;
    this._phi = def.phi;
  }
  isActivated() {
    return this._isActivated;
  }
  activate() {
    this._isActivated = true;
    GlobalKeyboardManager.preventDefault("Z");
    GlobalKeyboardManager.preventDefault("W");
    GlobalKeyboardManager.preventDefault("S");
    GlobalKeyboardManager.preventDefault("A");
    GlobalKeyboardManager.preventDefault("Q");
    GlobalKeyboardManager.preventDefault("D");
    GlobalKeyboardManager.preventDefault("Shift");
    GlobalKeyboardManager.preventDefault("C");
    GlobalKeyboardManager.preventDefault("Space");
    GlobalKeyboardManager.preventDefault("ArrowUp");
    GlobalKeyboardManager.preventDefault("ArrowDown");
    GlobalKeyboardManager.preventDefault("ArrowLeft");
    GlobalKeyboardManager.preventDefault("ArrowRight");
  }
  deactivate() {
    this._isActivated = false;
    GlobalKeyboardManager.enableDefault("Z");
    GlobalKeyboardManager.enableDefault("W");
    GlobalKeyboardManager.enableDefault("S");
    GlobalKeyboardManager.enableDefault("A");
    GlobalKeyboardManager.enableDefault("Q");
    GlobalKeyboardManager.enableDefault("D");
    GlobalKeyboardManager.enableDefault("Shift");
    GlobalKeyboardManager.enableDefault("C");
    GlobalKeyboardManager.enableDefault("Space");
    GlobalKeyboardManager.enableDefault("ArrowUp");
    GlobalKeyboardManager.enableDefault("ArrowDown");
    GlobalKeyboardManager.enableDefault("ArrowLeft");
    GlobalKeyboardManager.enableDefault("ArrowRight");
  }
  isInteractedWith() {
    return GlobalKeyboardManager.isPressed("Z", "W", "S", "A", "Q", "D") || GlobalKeyboardManager.isPressed("Shift", "C", "Space") || GlobalKeyboardManager.isPressed("ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight");
  }
  update(deltaMsTime, fpsControls = false) {
    let moveForward = false;
    let moveBackward = false;
    let strafeLeft = false;
    let strafeRight = false;
    let isRunning = false;
    let isDiving = false;
    let isRising = false;
    let lookDeltaX = 0;
    let lookDeltaY = 0;
    {
      const deltaX = GlobalMouseManager.deltaX() * this._mouseSensibility;
      const deltaY = GlobalMouseManager.deltaY() * this._mouseSensibility;
      lookDeltaX -= deg2Rad(deltaX) * deltaMsTime;
      lookDeltaY -= deg2Rad(deltaY) * deltaMsTime;
    }
    const isTouched = GlobalTouchManager.getTouchData().length > 0;
    if (isTouched) {
      if (!this._touchWasActive) {
        const currTime = Date.now();
        const elapsed = (currTime - this._touchStartTime) / 1000;
        if (elapsed < 0.25) {
          this._touchMoveForward = true;
        } else {
          this._touchStartTime = currTime;
        }
      }
      const firstTouch = GlobalTouchManager.getTouchData()[0];
      const deltaX = firstTouch.deltaX * this._touchSensibility;
      const deltaY = firstTouch.deltaY * this._touchSensibility;
      lookDeltaX -= deg2Rad(deltaX) * deltaMsTime;
      lookDeltaY -= deg2Rad(deltaY) * deltaMsTime;
    } else {
      this._touchMoveForward = false;
    }
    this._touchWasActive = isTouched;
    if (this._touchMoveForward) {
      moveForward = true;
    }
    if (GlobalKeyboardManager.isPressed("Z", "W")) {
      moveForward = true;
    }
    if (GlobalKeyboardManager.isPressed("S")) {
      moveBackward = true;
    }
    if (GlobalKeyboardManager.isPressed("A", "Q")) {
      strafeLeft = true;
    }
    if (GlobalKeyboardManager.isPressed("D")) {
      strafeRight = true;
    }
    if (GlobalKeyboardManager.isPressed("Shift")) {
      isRunning = true;
    }
    if (!fpsControls) {
      if (GlobalKeyboardManager.isPressed("C")) {
        isDiving = true;
      }
      if (GlobalKeyboardManager.isPressed("Space")) {
        isRising = true;
      }
    }
    const currentLinearSpeed = this._movingSpeed * (isRunning ? 4 : 1) * deltaMsTime;
    const currentAngularSpeed = this._keyboardSensibility * deltaMsTime;
    if (GlobalKeyboardManager.isPressed("ArrowUp")) {
      lookDeltaY += currentAngularSpeed;
    } else if (GlobalKeyboardManager.isPressed("ArrowDown")) {
      lookDeltaY -= currentAngularSpeed;
    }
    if (GlobalKeyboardManager.isPressed("ArrowLeft")) {
      lookDeltaX += currentAngularSpeed;
    } else if (GlobalKeyboardManager.isPressed("ArrowRight")) {
      lookDeltaX -= currentAngularSpeed;
    }
    this._theta += lookDeltaX;
    this._phi += lookDeltaY;
    const hPi = Math.PI * 0.5;
    const verticalLimit = hPi * 0.95;
    this._phi = Math.min(Math.max(this._phi, -verticalLimit), +verticalLimit);
    const cosTheta = Math.cos(this._theta);
    const sinTheta = Math.sin(this._theta);
    const [axisX, axisY, axisZ] = this._axisIndices;
    const upRadius = Math.cos(this._phi + hPi);
    this._upAxis[axisX] = upRadius * cosTheta;
    this._upAxis[axisY] = upRadius * sinTheta;
    this._upAxis[axisZ] = Math.sin(this._phi + hPi);
    const forwardRadius = Math.cos(this._phi);
    this._forwardAxis[axisX] = forwardRadius * cosTheta;
    this._forwardAxis[axisY] = forwardRadius * sinTheta;
    this._forwardAxis[axisZ] = Math.sin(this._phi);
    exports_vec3.cross(this._leftAxis, this._upAxis, this._forwardAxis);
    if (fpsControls) {
      this._move_forwardAxis[axisX] = cosTheta;
      this._move_forwardAxis[axisY] = sinTheta;
      this._move_forwardAxis[axisZ] = 0;
      this._move_leftAxis[axisX] = -sinTheta;
      this._move_leftAxis[axisY] = cosTheta;
      this._move_leftAxis[axisZ] = 0;
      this._move_upAxis[axisX] = 0;
      this._move_upAxis[axisY] = 0;
      this._move_upAxis[axisZ] = 1;
    } else {
      exports_vec3.copy(this._move_forwardAxis, this._forwardAxis);
      exports_vec3.copy(this._move_leftAxis, this._leftAxis);
      exports_vec3.copy(this._move_upAxis, this._upAxis);
    }
    const scaledForward = exports_vec3.fromValues(0, 0, 0);
    exports_vec3.scale(scaledForward, this._move_forwardAxis, currentLinearSpeed);
    const scaledLeft = exports_vec3.fromValues(0, 0, 0);
    exports_vec3.scale(scaledLeft, this._move_leftAxis, currentLinearSpeed);
    const scaledUp = exports_vec3.fromValues(0, 0, 0);
    exports_vec3.scale(scaledUp, this._move_upAxis, currentLinearSpeed);
    if (moveForward) {
      exports_vec3.add(this._position, this._position, scaledForward);
    } else if (moveBackward) {
      exports_vec3.sub(this._position, this._position, scaledForward);
    }
    if (strafeLeft) {
      exports_vec3.add(this._position, this._position, scaledLeft);
    } else if (strafeRight) {
      exports_vec3.sub(this._position, this._position, scaledLeft);
    }
    if (isRising) {
      exports_vec3.add(this._position, this._position, scaledUp);
    } else if (isDiving) {
      exports_vec3.sub(this._position, this._position, scaledUp);
    }
    exports_vec3.add(this._target, this._position, this._forwardAxis);
  }
  getPosition() {
    return this._position;
  }
  setPosition(inPos) {
    exports_vec3.copy(this._position, inPos);
    exports_vec3.add(this._target, this._position, this._forwardAxis);
  }
  getTarget() {
    return this._target;
  }
  getUpAxis() {
    return this._upAxis;
  }
  getTheta() {
    return this._theta;
  }
  getPhi() {
    return this._phi;
  }
  getTouchMoveForward() {
    return this._touchMoveForward;
  }
}
// src/local-framework/system/math/index.ts
var exports_math = {};
__export(exports_math, {
  rayCaster: () => {
    {
      return exports_rayCaster;
    }
  },
  rad2Deg: () => {
    {
      return rad2Deg;
    }
  },
  polarCoords: () => {
    {
      return exports_polarCoords;
    }
  },
  lerp: () => {
    {
      return lerp4;
    }
  },
  getEuler: () => {
    {
      return getEuler;
    }
  },
  easing: () => {
    {
      return exports_easing;
    }
  },
  deg2Rad: () => {
    {
      return deg2Rad;
    }
  },
  collisions: () => {
    {
      return exports_collisions;
    }
  },
  clamp: () => {
    {
      return clamp;
    }
  }
});

// src/local-framework/system/math/clamp.ts
var clamp = (currVal, minVal, maxVal) => Math.min(Math.max(currVal, minVal), maxVal);
// src/local-framework/system/math/collisions.ts
var exports_collisions = {};
__export(exports_collisions, {
  intersectSegment: () => {
    {
      return intersectSegment;
    }
  },
  collisionLinesStrip: () => {
    {
      return collisionLinesStrip;
    }
  }
});
var intersectSegment = (A, B, I, P) => {
  const D = exports_vec2.fromValues(0, 0);
  const E = exports_vec2.fromValues(0, 0);
  D[0] = B[0] - A[0];
  D[1] = B[1] - A[1];
  E[0] = P[0] - I[0];
  E[1] = P[1] - I[1];
  const denom = D[0] * E[1] - D[1] * E[0];
  if (denom == 0) {
    return -1;
  }
  const t = -(A[0] * E[1] - I[0] * E[1] - E[0] * A[1] + E[0] * I[1]) / denom;
  if (t < 0 || t >= 1) {
    return 0;
  }
  const u = -(-D[0] * A[1] + D[0] * I[1] + D[1] * A[0] - D[1] * I[0]) / denom;
  if (u < 0 || u >= 1) {
    return 0;
  }
  return 1;
};
var collisionLinesStrip = (tab, P) => {
  const I = exports_vec2.fromValues(0, 0);
  I[0] = 1e4 + Math.random() * 100;
  I[1] = 1e4 + Math.random() * 100;
  let nbIntersections = 0;
  for (let ii = 0;ii < tab.length; ++ii) {
    let jj = (ii + 1) % tab.length;
    const result = intersectSegment(tab[ii], tab[jj], I, P);
    if (result == -1) {
      return collisionLinesStrip(tab, P);
    }
    nbIntersections += result;
  }
  if (nbIntersections % 2 == 1) {
    return true;
  }
  return false;
};
// src/local-framework/system/math/easing.ts
var exports_easing = {};
__export(exports_easing, {
  easePinPong: () => {
    {
      return easePinPong;
    }
  },
  easeOutSine: () => {
    {
      return easeOutSine;
    }
  },
  easeOutQuint: () => {
    {
      return easeOutQuint;
    }
  },
  easeOutQuart: () => {
    {
      return easeOutQuart;
    }
  },
  easeOutQuad: () => {
    {
      return easeOutQuad;
    }
  },
  easeOutExpo: () => {
    {
      return easeOutExpo;
    }
  },
  easeOutElastic: () => {
    {
      return easeOutElastic;
    }
  },
  easeOutCubic: () => {
    {
      return easeOutCubic;
    }
  },
  easeOutCirc: () => {
    {
      return easeOutCirc;
    }
  },
  easeOutBounce: () => {
    {
      return easeOutBounce;
    }
  },
  easeOutBack: () => {
    {
      return easeOutBack;
    }
  },
  easeInSine: () => {
    {
      return easeInSine;
    }
  },
  easeInQuint: () => {
    {
      return easeInQuint;
    }
  },
  easeInQuart: () => {
    {
      return easeInQuart;
    }
  },
  easeInQuad: () => {
    {
      return easeInQuad;
    }
  },
  easeInOutSine: () => {
    {
      return easeInOutSine;
    }
  },
  easeInOutQuint: () => {
    {
      return easeInOutQuint;
    }
  },
  easeInOutQuart: () => {
    {
      return easeInOutQuart;
    }
  },
  easeInOutQuad: () => {
    {
      return easeInOutQuad;
    }
  },
  easeInOutExpo: () => {
    {
      return easeInOutExpo;
    }
  },
  easeInOutElastic: () => {
    {
      return easeInOutElastic;
    }
  },
  easeInOutCubic: () => {
    {
      return easeInOutCubic;
    }
  },
  easeInOutCirc: () => {
    {
      return easeInOutCirc;
    }
  },
  easeInOutBounce: () => {
    {
      return easeInOutBounce;
    }
  },
  easeInOutBack: () => {
    {
      return easeInOutBack;
    }
  },
  easeInExpo: () => {
    {
      return easeInExpo;
    }
  },
  easeInElastic: () => {
    {
      return easeInElastic;
    }
  },
  easeInCubic: () => {
    {
      return easeInCubic;
    }
  },
  easeInCirc: () => {
    {
      return easeInCirc;
    }
  },
  easeInBounce: () => {
    {
      return easeInBounce;
    }
  },
  easeInBack: () => {
    {
      return easeInBack;
    }
  },
  easeClamp: () => {
    {
      return easeClamp;
    }
  }
});
var easeClamp = (t) => {
  if (t > 1) {
    return t - Math.floor(t);
  }
  return t;
};
var easePinPong = (t) => {
  t *= 2;
  if (t < 1)
    return t;
  t -= 1;
  return 1 - t;
};
var easeInSine = (t) => {
  return Math.sin(1.5707963 * t);
};
var easeOutSine = (t) => {
  return 1 + Math.sin(1.5707963 * (t - 1));
};
var easeInOutSine = (t) => {
  return 0.5 * (1 + Math.sin(3.1415926 * (t - 0.5)));
};
var easeInQuad = (t) => {
  return t * t;
};
var easeOutQuad = (t) => {
  return t * (2 - t);
};
var easeInOutQuad = (t) => {
  return t < 0.5 ? 2 * t * t : t * (4 - 2 * t) - 1;
};
var easeInCubic = (t) => {
  return t * t * t;
};
var easeOutCubic = (t) => {
  const t2 = t - 1;
  return 1 + t2 * t2 * t2;
};
var easeInOutCubic = (t) => {
  const t2 = t - 1;
  const t3 = t2 - 1;
  return t < 0.5 ? 4 * t * t * t : 1 + t2 * (2 * t3) * (2 * t3);
};
var easeInQuart = (t) => {
  t *= t;
  return t * t;
};
var easeOutQuart = (t) => {
  const t2 = t - 1;
  t = t2 * t2;
  return 1 - t * t;
};
var easeInOutQuart = (t) => {
  if (t < 0.5) {
    t *= t;
    return 8 * t * t;
  }
  const t2 = t - 1;
  t = t2 * t2;
  return 1 - 8 * t * t;
};
var easeInQuint = (t) => {
  const t2 = t * t;
  return t * t2 * t2;
};
var easeOutQuint = (t) => {
  const tx = t - 1;
  const t2 = tx * tx;
  return 1 + tx * t2 * t2;
};
var easeInOutQuint = (t) => {
  let t2;
  if (t < 0.5) {
    t2 = t * t;
    return 16 * t * t2 * t2;
  }
  const tx = t - 1;
  t2 = tx * tx;
  return 1 + 16 * tx * t2 * t2;
};
var easeInExpo = (t) => {
  return (Math.pow(2, 8 * t) - 1) / 255;
};
var easeOutExpo = (t) => {
  return 1 - Math.pow(2, -8 * t);
};
var easeInOutExpo = (t) => {
  if (t < 0.5)
    return (Math.pow(2, 16 * t) - 1) / 510;
  return 1 - 0.5 * Math.pow(2, -16 * (t - 0.5));
};
var easeInCirc = (t) => {
  return 1 - Math.sqrt(1 - t);
};
var easeOutCirc = (t) => {
  return Math.sqrt(t);
};
var easeInOutCirc = (t) => {
  if (t < 0.5)
    return (1 - Math.sqrt(1 - 2 * t)) * 0.5;
  return (1 + Math.sqrt(2 * t - 1)) * 0.5;
};
var easeInBack = (t) => {
  return t * t * (2.70158 * t - 1.70158);
};
var easeOutBack = (t) => {
  const tx = t - 1;
  return 1 + tx * tx * (2.70158 * tx + 1.70158);
};
var easeInOutBack = (t) => {
  if (t < 0.5)
    return t * t * (7 * t - 2.5) * 2;
  const tx = t - 1;
  return 1 + tx * tx * 2 * (7 * tx + 2.5);
};
var easeInElastic = (t) => {
  const t2 = t * t;
  return t2 * t2 * Math.sin(t * Math.PI * 4.5);
};
var easeOutElastic = (t) => {
  const t2 = (t - 1) * (t - 1);
  return 1 - t2 * t2 * Math.cos(t * Math.PI * 4.5);
};
var easeInOutElastic = (t) => {
  let t2;
  if (t < 0.45) {
    t2 = t * t;
    return 8 * t2 * t2 * Math.sin(t * Math.PI * 9);
  }
  if (t < 0.55)
    return 0.5 + 0.75 * Math.sin(t * Math.PI * 4);
  t2 = (t - 1) * (t - 1);
  return 1 - 8 * t2 * t2 * Math.sin(t * Math.PI * 9);
};
var easeInBounce = (t) => {
  return Math.pow(2, 6 * (t - 1)) * Math.abs(Math.sin(t * Math.PI * 3.5));
};
var easeOutBounce = (t) => {
  return 1 - Math.pow(2, -6 * t) * Math.abs(Math.cos(t * Math.PI * 3.5));
};
var easeInOutBounce = (t) => {
  if (t < 0.5)
    return 8 * Math.pow(2, 8 * (t - 1)) * Math.abs(Math.sin(t * Math.PI * 7));
  return 1 - 8 * Math.pow(2, -8 * t) * Math.abs(Math.sin(t * Math.PI * 7));
};
// src/local-framework/system/math/lerp.ts
var lerp4 = (ratio, minVal, maxVal) => minVal + (maxVal - minVal) * ratio;
// src/local-framework/system/math/polarCoords.ts
var exports_polarCoords = {};
__export(exports_polarCoords, {
  polar2Cartesian: () => {
    {
      return polar2Cartesian;
    }
  },
  cartesian2Polar: () => {
    {
      return cartesian2Polar;
    }
  }
});
var polar2Cartesian = (lat, lng, relAltitude = 0, globRadius = 100) => {
  const phi = (90 - lat) * Math.PI / 180;
  const theta = (90 - lng) * Math.PI / 180;
  const r = globRadius * (1 + relAltitude);
  return [r * Math.sin(phi) * Math.cos(theta), r * Math.cos(phi), r * Math.sin(phi) * Math.sin(theta)];
};
var cartesian2Polar = (x, y, z, globRadius = 100) => {
  const r = Math.sqrt(x * x + y * y + z * z);
  const phi = Math.acos(y / r);
  const theta = Math.atan2(z, x);
  return {
    lat: 90 - phi * 180 / Math.PI,
    lng: 90 - theta * 180 / Math.PI - (theta < -Math.PI / 2 ? 360 : 0),
    altitude: r / globRadius - 1
  };
};
// src/local-framework/system/math/rayCaster.ts
var exports_rayCaster = {};
__export(exports_rayCaster, {
  intersectRaySphere: () => {
    {
      return intersectRaySphere;
    }
  }
});
var intersectRaySphere = (pos, dir, center, radius) => {
  const m = exports_vec3.sub(exports_vec3.create(), pos, center);
  const b = exports_vec3.dot(m, dir);
  const c = exports_vec3.dot(m, m) - radius * radius;
  if (c > 0 && b > 0) {
    return null;
  }
  const discr = b * b - c;
  if (discr < 0) {
    return null;
  }
  let t = -b - Math.sqrt(discr);
  if (t < 0) {
    t = 0;
  }
  return exports_vec3.fromValues(pos[0] + t * dir[0], pos[1] + t * dir[1], pos[2] + t * dir[2]);
};
// src/local-framework/system/metrics/index.ts
var exports_metrics = {};
__export(exports_metrics, {
  FrameProfiler: () => {
    {
      return FrameProfiler;
    }
  }
});

// src/local-framework/system/metrics/FrameProfiler.ts
class FrameProfiler {
  _framesDelta = [];
  _averageDelta = 0;
  _minDelta = 0;
  _maxDelta = 0;
  pushDelta(inDelta) {
    if (this._framesDelta.length >= 100) {
      this._framesDelta.shift();
    }
    this._framesDelta.push(inDelta);
    this._minDelta = 999999999;
    this._maxDelta = -999999999;
    this._averageDelta = 0;
    for (const currDelta of this._framesDelta) {
      this._minDelta = Math.min(this._minDelta, currDelta);
      this._maxDelta = Math.max(this._maxDelta, currDelta);
      this._averageDelta += currDelta;
    }
    this._averageDelta /= this._framesDelta.length;
  }
  get framesDelta() {
    return this._framesDelta;
  }
  get averageDelta() {
    return this._averageDelta;
  }
  get minDelta() {
    return this._minDelta;
  }
  get maxDelta() {
    return this._maxDelta;
  }
}
// src/local-framework/system/utilities/index.ts
var exports_utilities = {};
__export(exports_utilities, {
  FetchHelpers: () => {
    {
      return exports_FetchHelpers;
    }
  },
  AsyncHelpers: () => {
    {
      return exports_AsyncHelpers;
    }
  }
});

// src/local-framework/system/utilities/FetchHelpers.ts
var exports_FetchHelpers = {};
__export(exports_FetchHelpers, {
  progressFetch: () => {
    {
      return progressFetch;
    }
  }
});
var progressFetch = async (url, onProgress) => {
  const response = await fetch(url);
  const reader = response.body.getReader();
  let totalProgress = 0;
  const stream = new ReadableStream({
    start(controller) {
      return pump();
      function pump() {
        return reader.read().then(({ done, value }) => {
          if (done) {
            controller.close();
            return;
          }
          if (onProgress) {
            totalProgress += value.length;
            onProgress(totalProgress);
          }
          controller.enqueue(value);
          return pump();
        });
      }
    }
  });
  await stream;
  return new Response(stream);
};
// src/local-framework/system/utilities/AsyncHelpers.ts
var exports_AsyncHelpers = {};
__export(exports_AsyncHelpers, {
  sleep: () => {
    {
      return sleep;
    }
  },
  cancellableSleep: () => {
    {
      return cancellableSleep;
    }
  }
});
var sleep = async (delay) => {
  await new Promise((resolve) => setTimeout(resolve, delay));
};
var cancellableSleep = (delay) => {
  let timeoutHandle = -1;
  let resolveCallback = undefined;
  const promise = new Promise((resolve) => {
    resolveCallback = resolve;
    timeoutHandle = window.setTimeout(resolve, delay);
  });
  return {
    promise,
    cancel: () => {
      if (timeoutHandle >= 0) {
        window.clearTimeout(timeoutHandle);
      }
      if (resolveCallback) {
        resolveCallback();
      }
    }
  };
};
// src/local-framework/system/rng/index.ts
var exports_rng = {};
__export(exports_rng, {
  DeterministicRng: () => {
    {
      return DeterministicRng;
    }
  }
});

// src/local-framework/system/rng/DeterministicRng.ts
var RAND_MAX = 2147483648 | 0;

class DeterministicRng {
  _seed = 1 | 0;
  random() {
    if (this._seed == 0) {
      this._seed = 123459876 | 0;
    }
    const hi = this._seed / 127773 | 0;
    const lo = this._seed % 127773 | 0;
    let x = 16807 * lo - 2836 * hi | 0;
    if (x < 0) {
      x += 2147483647 | 0;
    }
    this._seed = x;
    return x % (RAND_MAX + 1) / -RAND_MAX;
  }
  setSeed(inSeed) {
    this._seed = inSeed | 0;
  }
}
// src/local-framework/graphics/index.ts
var exports_graphics = {};
__export(exports_graphics, {
  webgl2: () => {
    {
      return exports_webgl2;
    }
  },
  renderers: () => {
    {
      return exports_renderers;
    }
  },
  images: () => {
    {
      return exports_images;
    }
  },
  geometries: () => {
    {
      return exports_geometries;
    }
  },
  camera: () => {
    {
      return exports_camera;
    }
  }
});

// src/local-framework/graphics/camera/index.ts
var exports_camera = {};
__export(exports_camera, {
  screenToSceneCoordinatesFromInvComposed: () => {
    {
      return screenToSceneCoordinatesFromInvComposed;
    }
  },
  screenToSceneCoordinatesFromComposed: () => {
    {
      return screenToSceneCoordinatesFromComposed;
    }
  },
  screenToSceneCoordinates: () => {
    {
      return screenToSceneCoordinates;
    }
  },
  sceneToScreenCoordsFromComposed: () => {
    {
      return sceneToScreenCoordsFromComposed;
    }
  },
  sceneToScreenCoordinates: () => {
    {
      return sceneToScreenCoordinates;
    }
  },
  FrustumCulling: () => {
    {
      return FrustumCulling;
    }
  },
  Camera: () => {
    {
      return Camera;
    }
  }
});

// src/local-framework/graphics/camera/Camera.ts
var ProjectionType;
(function(ProjectionType2) {
  ProjectionType2[ProjectionType2["perspective"] = 0] = "perspective";
  ProjectionType2[ProjectionType2["orthogonal"] = 1] = "orthogonal";
})(ProjectionType || (ProjectionType = {}));

class Camera {
  _projectionType = ProjectionType.perspective;
  _perspectiveData;
  _orthogonalData;
  _viewportPos = exports_vec2.fromValues(0, 0);
  _viewportSize = exports_vec2.fromValues(0, 0);
  _projectionMatrix = exports_mat4.create();
  _viewMatrix = exports_mat4.create();
  _composedMatrix = exports_mat4.create();
  _eye = exports_vec3.fromValues(0, 0, 0);
  _target = exports_vec3.fromValues(0, 0, 0);
  _upAxis = exports_vec3.fromValues(0, 0, 0);
  setAsPerspective(inData) {
    this._projectionType = ProjectionType.perspective;
    let aspectRatio = inData.aspectRatio;
    if (aspectRatio === undefined) {
      aspectRatio = this._viewportSize[0] / this._viewportSize[1];
    }
    this._perspectiveData = {
      fovy: inData.fovy,
      aspectRatio,
      near: inData.near,
      far: inData.far
    };
  }
  setAsOrthogonal(inData) {
    this._projectionType = ProjectionType.orthogonal;
    this._orthogonalData = { ...inData };
  }
  setViewportPos(width, height) {
    this._viewportPos[0] = width;
    this._viewportPos[1] = height;
  }
  getViewportPos() {
    return this._viewportPos;
  }
  setViewportSize(width, height) {
    this._viewportSize[0] = width;
    this._viewportSize[1] = height;
    if (this._projectionType !== ProjectionType.perspective && this._perspectiveData) {
      this._perspectiveData.aspectRatio = this._viewportSize[0] / this._viewportSize[1];
    }
  }
  getViewportSize() {
    return this._viewportSize;
  }
  lookAt(inEye, inTarget, inUpAxis) {
    this.setEye(inEye);
    this.setTarget(inTarget);
    this.setUpAxis(inUpAxis);
  }
  setEye(inEye) {
    exports_vec3.copy(this._eye, inEye);
  }
  setTarget(inTarget) {
    exports_vec3.copy(this._target, inTarget);
  }
  setUpAxis(inUpAxis) {
    exports_vec3.copy(this._upAxis, inUpAxis);
  }
  getEye() {
    return this._eye;
  }
  getTarget() {
    return this._target;
  }
  getUpAxis() {
    return this._upAxis;
  }
  computeMatrices() {
    if (this._projectionType === ProjectionType.perspective) {
      const { fovy, aspectRatio, near, far } = this._perspectiveData;
      exports_mat4.perspective(this._projectionMatrix, deg2Rad(fovy), aspectRatio, near, far);
    } else if (this._projectionType === ProjectionType.orthogonal) {
      const { left, right, top, bottom, near, far } = this._orthogonalData;
      exports_mat4.ortho(this._projectionMatrix, left, right, top, bottom, near, far);
    }
    exports_mat4.lookAt(this._viewMatrix, this._eye, this._target, this._upAxis);
    this.computeComposedMatrix();
  }
  computeComposedMatrix() {
    exports_mat4.multiply(this._composedMatrix, this._projectionMatrix, this._viewMatrix);
  }
  setProjectionMatrix(inMat4) {
    exports_mat4.copy(this._projectionMatrix, inMat4);
  }
  setViewMatrix(inMat4) {
    exports_mat4.copy(this._viewMatrix, inMat4);
  }
  setComposedMatrix(inMat4) {
    exports_mat4.copy(this._composedMatrix, inMat4);
  }
  getProjectionMatrix() {
    return this._projectionMatrix;
  }
  getViewMatrix() {
    return this._viewMatrix;
  }
  getComposedMatrix() {
    return this._composedMatrix;
  }
  getPerspectiveData() {
    if (this._projectionType !== ProjectionType.perspective) {
      throw new Error("not a perspective projection");
    }
    return this._perspectiveData;
  }
  getOrthogonalData() {
    if (this._projectionType !== ProjectionType.orthogonal) {
      throw new Error("not an orthogonal projection");
    }
    return this._orthogonalData;
  }
}
// src/local-framework/graphics/camera/FrustumCulling.ts
var FrustumSide;
(function(FrustumSide2) {
  FrustumSide2[FrustumSide2["Right"] = 0] = "Right";
  FrustumSide2[FrustumSide2["Left"] = 1] = "Left";
  FrustumSide2[FrustumSide2["Bottom"] = 2] = "Bottom";
  FrustumSide2[FrustumSide2["Top"] = 3] = "Top";
  FrustumSide2[FrustumSide2["Back"] = 4] = "Back";
  FrustumSide2[FrustumSide2["Front"] = 5] = "Front";
})(FrustumSide || (FrustumSide = {}));

class FrustumCulling {
  _frustum = new Float32Array(24);
  _setPlane(side, left, right, coef) {
    const index = side * 4;
    this._frustum[index + 0] = left[0] + right[0] * coef;
    this._frustum[index + 1] = left[1] + right[1] * coef;
    this._frustum[index + 2] = left[2] + right[2] * coef;
    this._frustum[index + 3] = left[3] + right[3] * coef;
    const magnitude = Math.sqrt(this._frustum[index + 0] * this._frustum[index + 0] + this._frustum[index + 1] * this._frustum[index + 1] + this._frustum[index + 2] * this._frustum[index + 2]);
    if (magnitude === 0)
      return;
    this._frustum[index + 0] /= magnitude;
    this._frustum[index + 1] /= magnitude;
    this._frustum[index + 2] /= magnitude;
    this._frustum[index + 3] /= magnitude;
  }
  calculateFrustum(proj, view) {
    const clip = exports_mat4.multiply(exports_mat4.create(), proj, view);
    const row0 = exports_vec4.fromValues(clip[0], clip[4], clip[8], clip[12]);
    const row1 = exports_vec4.fromValues(clip[1], clip[5], clip[9], clip[13]);
    const row2 = exports_vec4.fromValues(clip[2], clip[6], clip[10], clip[14]);
    const row3 = exports_vec4.fromValues(clip[3], clip[7], clip[11], clip[15]);
    this._setPlane(FrustumSide.Right, row3, row0, -1);
    this._setPlane(FrustumSide.Left, row3, row0, 1);
    this._setPlane(FrustumSide.Bottom, row3, row1, 1);
    this._setPlane(FrustumSide.Top, row3, row1, -1);
    this._setPlane(FrustumSide.Back, row3, row2, -1);
    this._setPlane(FrustumSide.Front, row3, row2, 1);
  }
  sphereInFrustum(x, y, z, radius) {
    for (let ii = 0;ii < 6; ++ii) {
      const index = ii * 4;
      if (this._frustum[index + 0] * x + this._frustum[index + 1] * y + this._frustum[index + 2] * z + this._frustum[index + 3] <= -radius) {
        return false;
      }
    }
    return true;
  }
  pointInFrustum(x, y, z) {
    return this.sphereInFrustum(x, y, z, 0);
  }
  cubeInFrustumVec3(center, inSize) {
    return this.cubeInFrustum(center[0], center[1], center[2], inSize);
  }
  cubeInFrustum(inX, inY, inZ, inSize) {
    const hSize = inSize * 0.5;
    const minX = inX - hSize;
    const minY = inY - hSize;
    const minZ = inZ - hSize;
    const maxX = inX + hSize;
    const maxY = inY + hSize;
    const maxZ = inZ + hSize;
    for (let ii = 0;ii < 6; ++ii) {
      const index = ii * 4;
      const planA = this._frustum[index + 0];
      const planB = this._frustum[index + 1];
      const planC = this._frustum[index + 2];
      const planD = this._frustum[index + 3];
      if (planA * minX + planB * minY + planC * minZ + planD > 0 || planA * maxX + planB * minY + planC * minZ + planD > 0 || planA * minX + planB * maxY + planC * minZ + planD > 0 || planA * maxX + planB * maxY + planC * minZ + planD > 0 || planA * minX + planB * minY + planC * maxZ + planD > 0 || planA * maxX + planB * minY + planC * maxZ + planD > 0 || planA * minX + planB * maxY + planC * maxZ + planD > 0 || planA * maxX + planB * maxY + planC * maxZ + planD > 0) {
        continue;
      }
      return false;
    }
    return true;
  }
}
// src/local-framework/graphics/camera/sceneToScreenCoordinates.ts
var sceneToScreenCoordinates = (scenePos, modelView, projection, viewport) => {
  const composedMatrix = exports_mat4.create();
  exports_mat4.multiply(composedMatrix, projection, modelView);
  return sceneToScreenCoordsFromComposed(scenePos, composedMatrix, viewport);
};
var sceneToScreenCoordsFromComposed = (allScenePos, composedMatrix, viewport) => {
  const inputVec4 = exports_vec4.create();
  const multipliedVec4 = exports_vec4.create();
  const results = [];
  allScenePos.forEach((scenePos) => {
    inputVec4[0] = scenePos[0];
    inputVec4[1] = scenePos[1];
    inputVec4[2] = scenePos[2];
    inputVec4[3] = 1;
    exports_vec4.transformMat4(multipliedVec4, inputVec4, composedMatrix);
    if (multipliedVec4[3] === 0) {
      return null;
    }
    multipliedVec4[3] = 1 / multipliedVec4[3];
    multipliedVec4[0] *= multipliedVec4[3];
    multipliedVec4[1] *= multipliedVec4[3];
    multipliedVec4[2] *= multipliedVec4[3];
    multipliedVec4[0] = (multipliedVec4[0] * 0.5 + 0.5) * viewport[2] + viewport[0], multipliedVec4[1] = (multipliedVec4[1] * 0.5 + 0.5) * viewport[3] + viewport[1];
    results.push(exports_vec3.copy(exports_vec3.create(), multipliedVec4));
  });
  return results;
};
// src/local-framework/graphics/camera/screenToSceneCoordinates.ts
var screenToSceneCoordinates = (allScreenPos, modelView, projection, viewport) => {
  const composedMatrix = exports_mat4.multiply(exports_mat4.create(), projection, modelView);
  return screenToSceneCoordinatesFromComposed(allScreenPos, composedMatrix, viewport);
};
var screenToSceneCoordinatesFromComposed = (allScreenPos, composedMatrix, viewport) => {
  const invertedComposedMatrix = exports_mat4.invert(exports_mat4.create(), composedMatrix);
  return screenToSceneCoordinatesFromInvComposed(allScreenPos, invertedComposedMatrix, viewport);
};
var screenToSceneCoordinatesFromInvComposed = (allScreenPos, invertedComposedMatrix, viewport) => {
  const results = [];
  const multipliedVec4 = exports_vec4.create();
  allScreenPos.forEach((screenPos) => {
    multipliedVec4[0] = (screenPos[0] - viewport[0]) / viewport[2] * 2 - 1;
    multipliedVec4[1] = (screenPos[1] - viewport[1]) / viewport[3] * 2 - 1;
    multipliedVec4[2] = 2 * screenPos[2] - 1;
    multipliedVec4[3] = 1;
    exports_vec4.transformMat4(multipliedVec4, multipliedVec4, invertedComposedMatrix);
    if (multipliedVec4[3] === 0) {
      return;
    }
    multipliedVec4[3] = 1 / multipliedVec4[3];
    multipliedVec4[0] *= multipliedVec4[3];
    multipliedVec4[1] *= multipliedVec4[3];
    multipliedVec4[2] *= multipliedVec4[3];
    results.push(exports_vec3.copy(exports_vec3.create(), multipliedVec4));
  });
  return results;
};
// src/local-framework/graphics/renderers/index.ts
var exports_renderers = {};
__export(exports_renderers, {
  widgets: () => {
    {
      return exports_widgets;
    }
  },
  TextRenderer: () => {
    {
      return TextRenderer;
    }
  },
  StackRenderers: () => {
    {
      return StackRenderers;
    }
  },
  MultiBuffersRendering: () => {
    {
      return MultiBuffersRendering;
    }
  },
  GeometryRendererFlat: () => {
    {
      return GeometryRendererFlat;
    }
  },
  GeometryRenderer: () => {
    {
      return GeometryRenderer;
    }
  }
});

// src/local-framework/graphics/webgl2/index.ts
var exports_webgl2 = {};
__export(exports_webgl2, {
  getCubeMapType: () => {
    {
      return getCubeMapType;
    }
  },
  checkError: () => {
    {
      return checkError;
    }
  },
  WebGLContext: () => {
    {
      return WebGLContext;
    }
  },
  TextureRepeat: () => {
    {
      return TextureRepeat;
    }
  },
  TextureFilter: () => {
    {
      return TextureFilter;
    }
  },
  TextureArray: () => {
    {
      return TextureArray;
    }
  },
  Texture: () => {
    {
      return Texture;
    }
  },
  ShaderProgram: () => {
    {
      return ShaderProgram;
    }
  },
  RenderBuffer: () => {
    {
      return RenderBuffer;
    }
  },
  GeometryWrapper: () => {
    {
      return exports_GeometryWrapper;
    }
  },
  FrameBuffer: () => {
    {
      return FrameBuffer;
    }
  },
  FenceSync: () => {
    {
      return FenceSync;
    }
  },
  DataTextureVec4: () => {
    {
      return DataTextureVec4;
    }
  },
  DataTexture: () => {
    {
      return DataTexture;
    }
  },
  CubeMapType: () => {
    {
      return CubeMapType;
    }
  },
  CubeMap: () => {
    {
      return CubeMap;
    }
  }
});

// src/local-framework/graphics/webgl2/WebGLContext.ts
class WebGLContext {
  static _gl = null;
  static _extensionLoseContext = null;
  static initialize(canvas) {
    const renderingContextAttribs = {
      alpha: false,
      antialias: false,
      depth: true,
      failIfMajorPerformanceCaveat: false,
      powerPreference: "high-performance",
      premultipliedAlpha: true,
      preserveDrawingBuffer: true,
      stencil: false
    };
    WebGLContext._gl = canvas.getContext("webgl2", renderingContextAttribs);
    if (!WebGLContext._gl)
      throw new Error("could not create webgl context");
    WebGLContext._extensionLoseContext = WebGLContext._gl.getExtension("WEBGL_lose_context");
    WebGLContext._gl.getExtension("EXT_color_buffer_float");
    WebGLContext._gl.getExtension("EXT_float_blend");
  }
  static getContext() {
    if (!WebGLContext._gl) {
      throw new Error("webgl context not initialized");
    }
    return WebGLContext._gl;
  }
  static getExtensionLoseContext() {
    return WebGLContext._extensionLoseContext;
  }
  static getExtensionLoseContextStrict() {
    if (!WebGLContext._extensionLoseContext) {
      throw new Error("lose context extension not available");
    }
    return WebGLContext._extensionLoseContext;
  }
}

// src/local-framework/graphics/webgl2/CubeMap.ts
var CubeMapType;
(function(CubeMapType2) {
  CubeMapType2[CubeMapType2["positiveX"] = 0] = "positiveX";
  CubeMapType2[CubeMapType2["negativeX"] = 1] = "negativeX";
  CubeMapType2[CubeMapType2["positiveY"] = 2] = "positiveY";
  CubeMapType2[CubeMapType2["negativeY"] = 3] = "negativeY";
  CubeMapType2[CubeMapType2["positiveZ"] = 4] = "positiveZ";
  CubeMapType2[CubeMapType2["negativeZ"] = 5] = "negativeZ";
})(CubeMapType || (CubeMapType = {}));
var getCubeMapType = (inType) => {
  const gl = WebGLContext.getContext();
  switch (inType) {
    case CubeMapType.positiveX:
      return gl.TEXTURE_CUBE_MAP_POSITIVE_X;
    case CubeMapType.negativeX:
      return gl.TEXTURE_CUBE_MAP_NEGATIVE_X;
    case CubeMapType.positiveY:
      return gl.TEXTURE_CUBE_MAP_POSITIVE_Y;
    case CubeMapType.negativeY:
      return gl.TEXTURE_CUBE_MAP_NEGATIVE_Y;
    case CubeMapType.positiveZ:
      return gl.TEXTURE_CUBE_MAP_POSITIVE_Z;
    case CubeMapType.negativeZ:
      return gl.TEXTURE_CUBE_MAP_NEGATIVE_Z;
  }
};

class CubeMap {
  _width = 0;
  _height = 0;
  _minBufferSize = 0;
  _texture = null;
  initialize(width, height) {
    if (width < 1)
      throw new Error(`cube map: width is < 1, input: ${width}`);
    if (height < 1)
      throw new Error(`cube map: height is < 1, input: ${height}`);
    const gl = WebGLContext.getContext();
    this._texture = gl.createTexture();
    this._width = width;
    this._height = height;
    this._minBufferSize = this._width * this._height * 4;
  }
  dispose() {
    const gl = WebGLContext.getContext();
    gl.deleteTexture(this._texture);
  }
  rawBind() {
    if (!this._texture)
      throw new Error("cube map: not initialized");
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_CUBE_MAP, this._texture);
  }
  bind(inCallback) {
    this.rawBind();
    inCallback(this);
    CubeMap.unbind();
  }
  static unbind() {
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_CUBE_MAP, null);
  }
  loadFromMemory(inType, inPixels) {
    if (!this._texture)
      throw new Error("cube map: not initialized");
    if (inPixels.length < this._minBufferSize)
      throw new Error(`cube map: miss-matching pixels buffer size, input: ${inPixels.length}`);
    const gl = WebGLContext.getContext();
    const level = 0;
    const internalFormat = gl.RGBA;
    const border = 0;
    const srcFormat = gl.RGBA;
    const srcType = gl.UNSIGNED_BYTE;
    gl.texImage2D(getCubeMapType(inType), level, internalFormat, this._width, this._height, border, srcFormat, srcType, inPixels);
  }
  allocate() {
    const gl = WebGLContext.getContext();
    const level = 0;
    const internalFormat = gl.RGBA;
    const border = 0;
    const srcFormat = gl.RGBA;
    const srcType = gl.UNSIGNED_BYTE;
    const pixels = new Uint8Array(this._width * this._height * 4);
    [
      CubeMapType.negativeX,
      CubeMapType.negativeY,
      CubeMapType.negativeZ,
      CubeMapType.positiveX,
      CubeMapType.positiveY,
      CubeMapType.positiveZ
    ].forEach((type) => {
      gl.texImage2D(getCubeMapType(type), level, internalFormat, this._width, this._height, border, srcFormat, srcType, pixels);
    });
  }
  complete() {
    const gl = WebGLContext.getContext();
    gl.generateMipmap(gl.TEXTURE_CUBE_MAP);
    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
  }
  getWidth() {
    if (!this._texture)
      throw new Error("cube map: not initialized");
    return this._width;
  }
  getHeight() {
    if (!this._texture)
      throw new Error("cube map: not initialized");
    return this._height;
  }
  getRawObject() {
    if (!this._texture)
      throw new Error("texture not initialized");
    return this._texture;
  }
}
// src/local-framework/graphics/webgl2/DataTexture.ts
class DataTexture {
  _texture = null;
  _buffer;
  initialize(data) {
    if (this._texture) {
      throw new Error("data texture already initialized");
    }
    const gl = WebGLContext.getContext();
    this._texture = gl.createTexture();
    if (!this._texture) {
      throw new Error("data texture failed to be created");
    }
    gl.bindTexture(gl.TEXTURE_2D, this._texture);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
    this.allocate(data);
  }
  dispose() {
    const gl = WebGLContext.getContext();
    gl.deleteTexture(this._texture);
  }
  allocate(data) {
    if (!this._texture) {
      throw new Error("data texture not initialized");
    }
    const dataSize = Array.isArray(data) ? data.length : data;
    if (dataSize <= 0) {
      throw new Error("texture: width must be positive");
    }
    if (dataSize > 2048) {
      throw new Error(`data texture max size is 2048 (input was ${dataSize})`);
    }
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_2D, this._texture);
    if (Array.isArray(data)) {
      this._buffer = new Float32Array(data);
    } else {
      this._buffer = new Float32Array(data);
    }
    const level = 0;
    const internalFormat = gl.R32F;
    const width = dataSize;
    const height = 1;
    const border = 0;
    const format = gl.RED;
    const type = gl.FLOAT;
    gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, width, height, border, format, type, this._buffer);
  }
  update(start, data) {
    if (!this._texture) {
      throw new Error("data texture not initialized");
    }
    if (!this._buffer) {
      throw new Error("data texture update but not previously allocated");
    }
    if (start + data.length > this._buffer.length) {
      throw new Error(`data texture update but size is larger (start: ${start}, length: ${data.length}, max: ${this._buffer.length})`);
    }
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_2D, this._texture);
    for (let ii = 0;ii < data.length; ++ii) {
      this._buffer[ii] = data[ii];
    }
    const level = 0;
    const width = data.length;
    const height = 1;
    const format = gl.RED;
    const type = gl.FLOAT;
    const xoffset = start;
    const yoffset = 0;
    const srcOffset = 0;
    gl.texSubImage2D(gl.TEXTURE_2D, level, xoffset, yoffset, width, height, format, type, this._buffer, srcOffset);
  }
  rawBind() {
    if (!this._texture) {
      throw new Error("data texture not initialized");
    }
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_2D, this._texture);
  }
  preBind(inCallback) {
    this.rawBind();
    inCallback(this);
  }
  bind(inCallback) {
    this.preBind(inCallback);
    DataTexture.unbind();
  }
  static unbind() {
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_2D, null);
  }
}
// src/local-framework/graphics/webgl2/DataTextureVec4.ts
class DataTextureVec4 {
  _texture = null;
  _buffer;
  initialize(data = []) {
    if (this._texture) {
      throw new Error("data texture already initialized");
    }
    const gl = WebGLContext.getContext();
    this._texture = gl.createTexture();
    if (!this._texture) {
      throw new Error("data texture failed to be created");
    }
    gl.bindTexture(gl.TEXTURE_2D, this._texture);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
    this.allocate(data);
  }
  dispose() {
    const gl = WebGLContext.getContext();
    gl.deleteTexture(this._texture);
  }
  allocate(data) {
    if (!this._texture) {
      throw new Error("data texture not initialized");
    }
    if (data.length <= 0) {
      throw new Error("texture: width must be positive");
    }
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_2D, this._texture);
    this._buffer = new Uint8Array(data.flat());
    const level = 0;
    const internalFormat = gl.RGBA;
    const width = data.length;
    const height = 1;
    const border = 0;
    const format = gl.RGBA;
    const type = gl.UNSIGNED_BYTE;
    gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, width, height, border, format, type, this._buffer);
  }
  update(start, data) {
    if (!this._texture) {
      throw new Error("data texture not initialized");
    }
    if (!this._buffer) {
      throw new Error("data texture update but not previously allocated");
    }
    if (start + data.length > this._buffer.length) {
      throw new Error(`data texture update but size is larger (start: ${start}, length: ${data.length}, max: ${this._buffer.length})`);
    }
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_2D, this._texture);
    for (let ii = 0;ii < data.length; ++ii) {
      this._buffer[ii * 4 + 0] = data[ii][0];
      this._buffer[ii * 4 + 1] = data[ii][1];
      this._buffer[ii * 4 + 2] = data[ii][2];
      this._buffer[ii * 4 + 3] = data[ii][3];
    }
    const level = 0;
    const width = data.length;
    const height = 1;
    const format = gl.RGBA;
    const type = gl.UNSIGNED_BYTE;
    const xoffset = start;
    const yoffset = 0;
    const srcOffset = 0;
    gl.texSubImage2D(gl.TEXTURE_2D, level, xoffset, yoffset, width, height, format, type, this._buffer, srcOffset);
  }
  rawBind() {
    if (!this._texture) {
      throw new Error("data texture not initialized");
    }
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_2D, this._texture);
  }
  preBind(inCallback) {
    this.rawBind();
    inCallback(this);
  }
  bind(inCallback) {
    this.preBind(inCallback);
    DataTextureVec4.unbind();
  }
  static unbind() {
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_2D, null);
  }
}
// src/local-framework/graphics/webgl2/Error.ts
var checkError = () => {
  const gl = WebGLContext.getContext();
  const errorId = gl.getError();
  switch (errorId) {
    case gl.INVALID_ENUM:
      throw new Error("gl.INVALID_ENUM\nAn unacceptable value is specified for an enumerated argument. The offending command is ignored and has no other side effect than to set the error flag.");
    case gl.INVALID_VALUE:
      throw new Error("gl.INVALID_VALUE\nA numeric argument is out of range. The offending command is ignored and has no other side effect than to set the error flag.");
    case gl.INVALID_OPERATION:
      throw new Error("gl.INVALID_OPERATION\nThe specified operation is not allowed in the current state. The offending command is ignored and has no other side effect than to set the error flag.");
    case gl.INVALID_FRAMEBUFFER_OPERATION:
      throw new Error("gl.INVALID_FRAMEBUFFER_OPERATION\nThe framebuffer object is not complete. The offending command is ignored and has no other side effect than to set the error flag.");
    case gl.OUT_OF_MEMORY:
      throw new Error("gl.OUT_OF_MEMORY\nThere is not enough memory left to execute the command. The state of the GL is undefined, except for the state of the error flags, after this error is recorded.");
    case gl.CONTEXT_LOST_WEBGL:
      throw new Error("gl.CONTEXT_LOST_WEBGL\n If the WebGL context is lost, this error is returned on the first call to getError. Afterwards and until the context has been restored, it returns gl.NO_ERROR.");
  }
};
// src/local-framework/graphics/webgl2/Fence.ts
class FenceSync {
  _sync;
  constructor() {
  }
  dispose() {
    if (!this._sync) {
      return;
    }
    const gl = WebGLContext.getContext();
    gl.deleteSync(this._sync);
    this._sync = undefined;
  }
  isStarted() {
    return this._sync !== undefined;
  }
  start() {
    if (this._sync) {
      this.dispose();
    }
    const gl = WebGLContext.getContext();
    const tmpSync = gl.fenceSync(gl.SYNC_GPU_COMMANDS_COMPLETE, 0);
    if (tmpSync === null) {
      throw new Error("could not create a webgl fence");
    }
    this._sync = tmpSync;
    gl.flush();
    gl.finish();
  }
  isSignaled() {
    if (!this._sync) {
      throw new Error("fence not started");
    }
    const gl = WebGLContext.getContext();
    const signaled = gl.getSyncParameter(this._sync, gl.SYNC_STATUS);
    return signaled === gl.SIGNALED;
  }
  wait(timeoutNanoSec) {
    if (!this._sync) {
      throw new Error("fence not started");
    }
    const gl = WebGLContext.getContext();
    const bitflags = 0;
    const status = gl.clientWaitSync(this._sync, bitflags, timeoutNanoSec);
    switch (status) {
      case gl.TIMEOUT_EXPIRED:
        return "timed-out";
      case gl.WAIT_FAILED:
        console.warn("fence.wait -> should never get here");
        this.dispose();
        return "done";
      case gl.ALREADY_SIGNALED:
      case gl.CONDITION_SATISFIED:
      default:
        this.dispose();
        return "done";
    }
  }
}
// src/local-framework/graphics/webgl2/FrameBuffer.ts
class FrameBuffer {
  _frameBuffer;
  constructor() {
    const gl = WebGLContext.getContext();
    const tmpFbo = gl.createFramebuffer();
    if (tmpFbo === null)
      throw new Error("null frame buffer object");
    this._frameBuffer = tmpFbo;
  }
  dispose() {
    const gl = WebGLContext.getContext();
    gl.deleteFramebuffer(this._frameBuffer);
  }
  rawBind() {
    const gl = WebGLContext.getContext();
    gl.bindFramebuffer(gl.FRAMEBUFFER, this._frameBuffer);
  }
  bind(inCallback) {
    this.rawBind();
    inCallback(this);
    FrameBuffer.unbind();
  }
  static unbind() {
    const gl = WebGLContext.getContext();
    gl.bindFramebuffer(gl.FRAMEBUFFER, null);
  }
  attachTexture(texture) {
    const gl = WebGLContext.getContext();
    const mipmapLevel = 0;
    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture.getRawObject(), mipmapLevel);
  }
  attachDepthTexture(texture) {
    const gl = WebGLContext.getContext();
    const mipmapLevel = 0;
    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, texture.getRawObject(), mipmapLevel);
  }
  attachRenderBuffer(texture) {
    const gl = WebGLContext.getContext();
    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, texture.getRawObject());
  }
  attachCubeMap(texture, type) {
    const gl = WebGLContext.getContext();
    const mipmapLevel = 0;
    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, getCubeMapType(type), texture.getRawObject(), mipmapLevel);
  }
  getPixels(x, y, width, height, outDst) {
    const gl = WebGLContext.getContext();
    gl.readPixels(x, y, width, height, gl.RGBA, gl.UNSIGNED_BYTE, outDst);
  }
}
// src/local-framework/graphics/webgl2/GeometryWrapper.ts
var exports_GeometryWrapper = {};
__export(exports_GeometryWrapper, {
  PrimitiveType: () => {
    {
      return PrimitiveType;
    }
  },
  GeometryBuilder: () => {
    {
      return GeometryBuilder;
    }
  },
  Geometry: () => {
    {
      return Geometry;
    }
  },
  BytesPerPixel: () => {
    {
      return BytesPerPixel;
    }
  },
  AttributeType: () => {
    {
      return AttributeType;
    }
  }
});
var BytesPerPixel = 4;
var AttributeType;
(function(AttributeType2) {
  AttributeType2[AttributeType2["float"] = 0] = "float";
  AttributeType2[AttributeType2["vec2f"] = 1] = "vec2f";
  AttributeType2[AttributeType2["vec3f"] = 2] = "vec3f";
  AttributeType2[AttributeType2["vec4f"] = 3] = "vec4f";
  AttributeType2[AttributeType2["mat3f"] = 4] = "mat3f";
  AttributeType2[AttributeType2["mat4f"] = 5] = "mat4f";
})(AttributeType || (AttributeType = {}));
var getAttrTypeSize = (inType) => {
  switch (inType) {
    case AttributeType.float:
      return 1;
    case AttributeType.vec2f:
      return 2;
    case AttributeType.vec3f:
      return 3;
    case AttributeType.vec4f:
      return 4;
    case AttributeType.mat3f:
      return 9;
    case AttributeType.mat4f:
      return 16;
  }
};
var PrimitiveType;
(function(PrimitiveType2) {
  PrimitiveType2[PrimitiveType2["lines"] = 0] = "lines";
  PrimitiveType2[PrimitiveType2["lineStrip"] = 1] = "lineStrip";
  PrimitiveType2[PrimitiveType2["lineLoop"] = 2] = "lineLoop";
  PrimitiveType2[PrimitiveType2["triangles"] = 3] = "triangles";
  PrimitiveType2[PrimitiveType2["triangleStrip"] = 4] = "triangleStrip";
  PrimitiveType2[PrimitiveType2["triangleFan"] = 5] = "triangleFan";
})(PrimitiveType || (PrimitiveType = {}));
var _ensureFloatBuffer = (vertices) => {
  if (vertices instanceof Float32Array) {
    return vertices;
  }
  return new Float32Array(vertices);
};
var _getBufferUsage = (inMode) => {
  const gl = WebGLContext.getContext();
  if (inMode === "dynamic") {
    return gl.DYNAMIC_DRAW;
  }
  if (inMode === "streaming") {
    return gl.STREAM_DRAW;
  }
  return gl.STATIC_DRAW;
};

class Geometry {
  _def;
  _vao;
  _vbos;
  _primitiveType;
  _primitiveStart = 0;
  _primitiveCount = 0;
  _instanceCount = 0;
  _isInstanced = false;
  constructor(shader, def) {
    const gl = WebGLContext.getContext();
    if (def.vbos.length === 0) {
      throw new Error("empty vbo definition");
    }
    for (const vbo of def.vbos) {
      if (vbo.attrs.length === 0) {
        throw new Error("empty vbo attribute definition");
      }
      for (const attr of vbo.attrs) {
        if (!shader.hasAttribute(attr.name)) {
          throw new Error(`attribute not found, name="${attr.name}"`);
        }
      }
    }
    this._def = def;
    switch (def.primitiveType) {
      case PrimitiveType.lines:
        this._primitiveType = gl.LINES;
        break;
      case PrimitiveType.lineStrip:
        this._primitiveType = gl.LINE_STRIP;
        break;
      case PrimitiveType.lineLoop:
        this._primitiveType = gl.LINE_LOOP;
        break;
      case PrimitiveType.triangles:
        this._primitiveType = gl.TRIANGLES;
        break;
      case PrimitiveType.triangleStrip:
        this._primitiveType = gl.TRIANGLE_STRIP;
        break;
      case PrimitiveType.triangleFan:
        this._primitiveType = gl.TRIANGLE_FAN;
        break;
      default:
        throw new Error("primitive type not found");
    }
    const newVao = gl.createVertexArray();
    if (!newVao) {
      throw new Error("fail o create a vao unit");
    }
    this._vao = newVao;
    gl.bindVertexArray(this._vao);
    this._vbos = [];
    for (const vboDef of this._def.vbos) {
      const newVbo = gl.createBuffer();
      if (!newVbo) {
        throw new Error("fail o create a vbo unit");
      }
      this._vbos.push({
        object: newVbo,
        maxSize: 0,
        mode: vboDef.mode || "static"
      });
      gl.bindBuffer(gl.ARRAY_BUFFER, newVbo);
      let stride = vboDef.stride || 0;
      if (!stride) {
        for (const attr of vboDef.attrs) {
          switch (attr.type) {
            case AttributeType.float:
              stride += 1;
              break;
            case AttributeType.vec2f:
              stride += 2;
              break;
            case AttributeType.vec3f:
              stride += 3;
              break;
            case AttributeType.vec4f:
              stride += 4;
              break;
            case AttributeType.mat3f:
              stride += 9;
              break;
            case AttributeType.mat4f:
              stride += 16;
              break;
          }
        }
        stride *= BytesPerPixel;
      }
      for (const attr of vboDef.attrs) {
        let rowSize = 1;
        let totalRows = 1;
        switch (attr.type) {
          case AttributeType.float:
            rowSize = 1;
            totalRows = 1;
            break;
          case AttributeType.vec2f:
            rowSize = 2;
            totalRows = 1;
            break;
          case AttributeType.vec3f:
            rowSize = 3;
            totalRows = 1;
            break;
          case AttributeType.vec4f:
            rowSize = 4;
            totalRows = 1;
            break;
          case AttributeType.mat3f:
            rowSize = 3;
            totalRows = 3;
            break;
          case AttributeType.mat4f:
            rowSize = 4;
            totalRows = 4;
            break;
        }
        const attrLocation = shader.getAttribute(attr.name);
        for (let ii = 0;ii < totalRows; ++ii) {
          const attrId = attrLocation + ii;
          const rowIndex = (attr.index + ii * rowSize) * BytesPerPixel;
          gl.enableVertexAttribArray(attrId);
          gl.vertexAttribPointer(attrId, rowSize, gl.FLOAT, false, stride, rowIndex);
          if (vboDef.instanced === true) {
            gl.vertexAttribDivisor(attrId, 1);
            this._isInstanced = true;
          }
        }
      }
    }
    gl.bindVertexArray(null);
  }
  dispose() {
    const gl = WebGLContext.getContext();
    for (const vbo of this._vbos) {
      gl.deleteBuffer(vbo.object);
    }
    this._vbos.length = 0;
    gl.deleteVertexArray(this._vao);
  }
  setBufferSize(inIndex, inSize) {
    if (inIndex < 0 || inIndex >= this._vbos.length) {
      throw new Error(`no vbo available to that index (input: ${inIndex})`);
    }
    if (inSize <= 0) {
      throw new Error(`vbo must be > 0 (input: ${inSize})`);
    }
    const currVbo = this._vbos[inIndex];
    if (inSize < currVbo.maxSize) {
      return;
    }
    currVbo.maxSize = inSize;
    const gl = WebGLContext.getContext();
    gl.bindBuffer(gl.ARRAY_BUFFER, currVbo.object);
    gl.bufferData(gl.ARRAY_BUFFER, inSize, _getBufferUsage(currVbo.mode));
    gl.bindBuffer(gl.ARRAY_BUFFER, null);
  }
  setFloatBufferSize(index, inSize) {
    this.setBufferSize(index, inSize * 4);
  }
  allocateBuffer(inIndex, inVertices, inSize) {
    if (inIndex < 0 || inIndex >= this._vbos.length) {
      throw new Error(`no vbo available to that index (input: ${inIndex}, total vbos: ${this._vbos.length})`);
    }
    if (inSize <= 0) {
      throw new Error(`size must be > 0 (input: ${inSize})`);
    }
    const currVbo = this._vbos[inIndex];
    if (inSize <= 0) {
      throw new Error(`vbo must be > 0 (input: ${inSize})`);
    }
    currVbo.maxSize = inSize;
    const buffer = _ensureFloatBuffer(inVertices);
    const gl = WebGLContext.getContext();
    gl.bindBuffer(gl.ARRAY_BUFFER, currVbo.object);
    gl.bufferData(gl.ARRAY_BUFFER, buffer, _getBufferUsage(currVbo.mode), 0, inSize);
    gl.bindBuffer(gl.ARRAY_BUFFER, null);
  }
  updateBuffer(inIndex, inVertices, inSize, inStartOffset) {
    if (inIndex < 0 || inIndex >= this._vbos.length) {
      throw new Error(`no vbo available to that index (input: ${inIndex}, total vbos: ${this._vbos.length})`);
    }
    if (inSize <= 0) {
      throw new Error(`size must be > 0 (input: ${inSize})`);
    }
    const currVbo = this._vbos[inIndex];
    if (inStartOffset !== undefined) {
      if (inStartOffset < 0) {
        throw new Error(`offset must be >= 0 (input: ${inStartOffset})`);
      }
      const endIndex = inStartOffset + inSize;
      if (endIndex > currVbo.maxSize) {
        throw new Error(`offset + size > to vbo max size (input: ${endIndex}, max size: ${currVbo.maxSize})`);
      }
    } else if (inSize > currVbo.maxSize) {
      throw new Error(`size must be < to vbo max size (input: ${inSize}, max size: ${currVbo.maxSize})`);
    }
    const buffer = _ensureFloatBuffer(inVertices);
    const gl = WebGLContext.getContext();
    gl.bindBuffer(gl.ARRAY_BUFFER, currVbo.object);
    gl.bufferSubData(gl.ARRAY_BUFFER, inStartOffset ?? 0, buffer, 0, inSize);
    gl.bindBuffer(gl.ARRAY_BUFFER, null);
  }
  render() {
    if (this._primitiveCount == 0) {
      return;
    }
    if (this._isInstanced && this._instanceCount == 0) {
      return;
    }
    const gl = WebGLContext.getContext();
    gl.bindVertexArray(this._vao);
    if (this._isInstanced === true) {
      gl.drawArraysInstanced(this._primitiveType, this._primitiveStart, this._primitiveCount, this._instanceCount);
    } else {
      gl.drawArrays(this._primitiveType, this._primitiveStart, this._primitiveCount);
    }
    gl.bindVertexArray(null);
  }
  setPrimitiveStart(start) {
    this._primitiveStart = start;
  }
  setPrimitiveCount(count) {
    this._primitiveCount = count;
  }
  setInstancedCount(count) {
    this._instanceCount = count;
  }
}

class GeometryBuilder {
  _def = {
    vbos: [],
    primitiveType: PrimitiveType.lines
  };
  reset() {
    this._def = {
      vbos: [],
      primitiveType: PrimitiveType.lines
    };
    return this;
  }
  getDef() {
    return this._def;
  }
  setPrimitiveType(inPrimitive) {
    this._def.primitiveType = PrimitiveType[inPrimitive];
    return this;
  }
  addVbo() {
    this._def.vbos.push({
      attrs: [],
      instanced: false
    });
    return this;
  }
  setVboAsInstanced() {
    this._getLastVbo().instanced = true;
    return this;
  }
  setVboAsDynamic() {
    this._getLastVbo().mode = "dynamic";
    return this;
  }
  setVboAsStreaming() {
    this._getLastVbo().mode = "streaming";
    return this;
  }
  setStride(inStride) {
    this._getLastVbo().stride = inStride;
    return this;
  }
  addVboAttribute(inName, inType) {
    const currVbo = this._getLastVbo();
    const lastAttr = currVbo.attrs.length > 0 ? currVbo.attrs[currVbo.attrs.length - 1] : null;
    currVbo.attrs.push({
      name: inName,
      type: AttributeType[inType],
      index: lastAttr ? lastAttr.index + getAttrTypeSize(lastAttr.type) : 0
    });
    return this;
  }
  _getLastVbo() {
    if (this._def.vbos.length === 0) {
      throw new Error("no VBO setup");
    }
    return this._def.vbos[this._def.vbos.length - 1];
  }
}
// src/local-framework/graphics/webgl2/RenderBuffer.ts
class RenderBuffer {
  _buffer;
  constructor() {
    const gl = WebGLContext.getContext();
    const tmpBuf = gl.createRenderbuffer();
    if (tmpBuf === null) {
      throw new Error("null render buffer object");
    }
    this._buffer = tmpBuf;
  }
  dispose() {
    const gl = WebGLContext.getContext();
    gl.deleteRenderbuffer(this._buffer);
  }
  rawBind() {
    const gl = WebGLContext.getContext();
    gl.bindRenderbuffer(gl.RENDERBUFFER, this._buffer);
  }
  preBind(inCallback) {
    this.rawBind();
    inCallback(this);
  }
  bind(inCallback) {
    this.preBind(inCallback);
    RenderBuffer.unbind();
  }
  static unbind() {
    const gl = WebGLContext.getContext();
    gl.bindRenderbuffer(gl.RENDERBUFFER, null);
  }
  setSize(type, width, height) {
    const gl = WebGLContext.getContext();
    let internalFormat = gl.DEPTH_COMPONENT32F;
    switch (type) {
      case "depth16": {
        internalFormat = gl.DEPTH_COMPONENT16;
        break;
      }
      case "depth24": {
        internalFormat = gl.DEPTH_COMPONENT16;
        break;
      }
    }
    gl.renderbufferStorage(gl.RENDERBUFFER, internalFormat, width, height);
  }
  getRawObject() {
    return this._buffer;
  }
}
// src/local-framework/graphics/webgl2/ShaderProgram.ts
class ShaderProgram {
  static _isBound = null;
  _name;
  _program;
  _attributes = new Map;
  _uniforms = new Map;
  constructor(inName, opt) {
    this._name = inName;
    const gl = WebGLContext.getContext();
    const vertexShader = this._getShader(opt.vertexSrc, gl.VERTEX_SHADER);
    const fragmentShader = this._getShader(opt.fragmentSrc, gl.FRAGMENT_SHADER);
    const program = gl.createProgram();
    if (!program) {
      throw new Error("could not create a shader program");
    }
    gl.attachShader(program, vertexShader);
    gl.attachShader(program, fragmentShader);
    gl.linkProgram(program);
    gl.deleteShader(vertexShader);
    gl.deleteShader(fragmentShader);
    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
      const lastError = gl.getProgramInfoLog(program);
      throw new Error("Failed to initialized shaders, Error linking:" + lastError);
    }
    this._program = program;
    this.bind(() => {
      this._getAttributes(opt.attributes);
      this._getUniforms(opt.uniforms);
    });
  }
  dispose() {
    const gl = WebGLContext.getContext();
    gl.deleteProgram(this._program);
  }
  bind(inCallback) {
    if (ShaderProgram._isBound !== null) {
      throw new Error(`Double shader binding (bound: ${ShaderProgram._isBound._name}, binding: ${this._name})`);
    }
    ShaderProgram._isBound = this;
    const gl = WebGLContext.getContext();
    gl.useProgram(this._program);
    inCallback(this);
    ShaderProgram.unbind();
  }
  static unbind() {
    const gl = WebGLContext.getContext();
    gl.useProgram(null);
    ShaderProgram._isBound = null;
  }
  isBound() {
    return ShaderProgram._isBound === this;
  }
  hasAttribute(name) {
    return this._attributes.has(name);
  }
  getAttribute(name) {
    const attribute = this._attributes.get(name);
    if (attribute === undefined) {
      throw new Error(`attribute not found: ${name}`);
    }
    return attribute;
  }
  getUniform(name) {
    const uniform = this._uniforms.get(name);
    if (uniform === undefined) {
      throw new Error(`uniform not found: ${name}`);
    }
    return uniform;
  }
  setTextureUniform(inName, inTexture, inIndex) {
    const gl = WebGLContext.getContext();
    gl.activeTexture(gl.TEXTURE0 + inIndex);
    gl.uniform1i(this.getUniform(inName), inIndex);
    inTexture.rawBind();
  }
  setInteger1Uniform(inName, inValue) {
    const gl = WebGLContext.getContext();
    gl.uniform1i(this.getUniform(inName), inValue);
  }
  setInteger2Uniform(inName, inValueX, inValueY) {
    const gl = WebGLContext.getContext();
    gl.uniform2i(this.getUniform(inName), inValueX, inValueY);
  }
  setInteger3Uniform(inName, inValueX, inValueY, inValueZ) {
    const gl = WebGLContext.getContext();
    gl.uniform3i(this.getUniform(inName), inValueX, inValueY, inValueZ);
  }
  setFloat1Uniform(inName, inValue) {
    const gl = WebGLContext.getContext();
    gl.uniform1f(this.getUniform(inName), inValue);
  }
  setFloat2Uniform(inName, inValueX, inValueY) {
    const gl = WebGLContext.getContext();
    gl.uniform2f(this.getUniform(inName), inValueX, inValueY);
  }
  setFloat3Uniform(inName, inValueX, inValueY, inValueZ) {
    const gl = WebGLContext.getContext();
    gl.uniform3f(this.getUniform(inName), inValueX, inValueY, inValueZ);
  }
  setMatrix3Uniform(inName, inMatrix) {
    const gl = WebGLContext.getContext();
    gl.uniformMatrix3fv(this.getUniform(inName), false, inMatrix);
  }
  setMatrix4Uniform(inName, inMatrix) {
    const gl = WebGLContext.getContext();
    gl.uniformMatrix4fv(this.getUniform(inName), false, inMatrix);
  }
  _getAttributes(attributes) {
    const gl = WebGLContext.getContext();
    for (let ii = 0;ii < attributes.length; ++ii) {
      const value = gl.getAttribLocation(this._program, attributes[ii]);
      if (value < 0) {
        throw new Error(`attribute not found => ${attributes[ii]}`);
      }
      this._attributes.set(attributes[ii], value);
    }
  }
  _getUniforms(uniforms) {
    const gl = WebGLContext.getContext();
    for (let ii = 0;ii < uniforms.length; ++ii) {
      const value = gl.getUniformLocation(this._program, uniforms[ii]);
      if (value === null) {
        throw new Error(`uniform not found => ${uniforms[ii]}`);
      }
      this._uniforms.set(uniforms[ii], value);
    }
  }
  _getShader(src, type) {
    const gl = WebGLContext.getContext();
    const shader = gl.createShader(type);
    if (!shader) {
      throw new Error("could not create a shader");
    }
    gl.shaderSource(shader, src);
    gl.compileShader(shader);
    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
      let error_str = gl.getShaderInfoLog(shader);
      if (!error_str)
        error_str = "failed to compile a shader";
      throw new Error(error_str);
    }
    return shader;
  }
}
// src/local-framework/graphics/webgl2/Texture.ts
var TextureFilter;
(function(TextureFilter2) {
  TextureFilter2[TextureFilter2["pixelated"] = 0] = "pixelated";
  TextureFilter2[TextureFilter2["linear"] = 1] = "linear";
  TextureFilter2[TextureFilter2["mipmap"] = 2] = "mipmap";
})(TextureFilter || (TextureFilter = {}));
var TextureRepeat;
(function(TextureRepeat2) {
  TextureRepeat2[TextureRepeat2["noRepeat"] = 0] = "noRepeat";
  TextureRepeat2[TextureRepeat2["repeat"] = 1] = "repeat";
})(TextureRepeat || (TextureRepeat = {}));

class Texture {
  _width = 0;
  _height = 0;
  _texture = null;
  initialize() {
    if (this._texture)
      throw new Error("texture: already initialized");
    const gl = WebGLContext.getContext();
    this._texture = gl.createTexture();
  }
  rawBind() {
    if (!this._texture)
      throw new Error("texture: not initialized");
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_2D, this._texture);
  }
  preBind(inCallback) {
    this.rawBind();
    inCallback(this);
  }
  bind(inCallback) {
    this.preBind(inCallback);
    Texture.unbind();
  }
  static unbind() {
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_2D, null);
  }
  loadFromImage(inImage, mode = TextureFilter.pixelated, repeat = TextureRepeat.noRepeat) {
    this._allocate(inImage.width, inImage.height, inImage, mode, repeat);
  }
  loadFromMemory(inWidth, inHeight, inPixels, mode = TextureFilter.pixelated, repeat = TextureRepeat.noRepeat) {
    this._allocate(inWidth, inHeight, inPixels, mode, repeat);
  }
  allocate(inWidth, inHeight, mode = TextureFilter.pixelated, repeat = TextureRepeat.noRepeat) {
    this._allocate(inWidth, inHeight, null, mode, repeat);
  }
  allocateDepth(inWidth, inHeight, mode = TextureFilter.pixelated, repeat = TextureRepeat.noRepeat) {
    this._allocate(inWidth, inHeight, null, mode, repeat, true);
  }
  resize(inWidth, inHeight, mode = TextureFilter.pixelated, repeat = TextureRepeat.noRepeat) {
    this._allocate(inWidth, inHeight, null, mode, repeat);
  }
  _allocate(inWidth, inHeight, inPixels = null, mode = TextureFilter.pixelated, repeat = TextureRepeat.noRepeat, isDepthTexture = false) {
    if (!this._texture) {
      throw new Error("texture: not initialized");
    }
    if (inWidth <= 0) {
      throw new Error("texture: width must be positive");
    }
    if (inHeight <= 0) {
      throw new Error("texture: height must be positive");
    }
    const gl = WebGLContext.getContext();
    this._width = inWidth;
    this._height = inHeight;
    const level = 0;
    const internalFormat = isDepthTexture ? gl.DEPTH_COMPONENT32F : gl.RGBA;
    const border = 0;
    const srcFormat = isDepthTexture ? gl.DEPTH_COMPONENT : gl.RGBA;
    const srcType = isDepthTexture ? gl.FLOAT : gl.UNSIGNED_BYTE;
    if (inPixels instanceof HTMLImageElement) {
      gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, srcFormat, srcType, inPixels);
    } else {
      gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, inWidth, inHeight, border, srcFormat, srcType, inPixels);
    }
    if (repeat === TextureRepeat.noRepeat) {
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
    } else if (repeat === TextureRepeat.repeat) {
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);
    }
    if (mode === TextureFilter.pixelated) {
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
    } else if (mode === TextureFilter.linear) {
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
    } else if (mode === TextureFilter.mipmap) {
      gl.generateMipmap(gl.TEXTURE_2D);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
    }
  }
  getWidth() {
    if (!this._texture)
      throw new Error("texture not initialized");
    return this._width;
  }
  getHeight() {
    if (!this._texture)
      throw new Error("texture not initialized");
    return this._height;
  }
  getRawObject() {
    if (!this._texture)
      throw new Error("texture not initialized");
    return this._texture;
  }
}
// src/local-framework/graphics/webgl2/TextureArray.ts
class TextureArray {
  _width = 0;
  _height = 0;
  _texture = null;
  initialize() {
    if (this._texture)
      throw new Error("texture: already initialized");
    const gl = WebGLContext.getContext();
    this._texture = gl.createTexture();
  }
  dispose() {
    const gl = WebGLContext.getContext();
    gl.deleteTexture(this._texture);
  }
  rawBind() {
    if (!this._texture)
      throw new Error("texture: not initialized");
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_2D_ARRAY, this._texture);
  }
  preBind(inCallback) {
    this.rawBind();
    inCallback(this);
  }
  bind(inCallback) {
    this.preBind(inCallback);
    TextureArray.unbind();
  }
  static unbind() {
    const gl = WebGLContext.getContext();
    gl.bindTexture(gl.TEXTURE_2D_ARRAY, null);
  }
  loadFromImage(inWidth, inHeight, inTotalLayers, inImage, mode = TextureFilter.pixelated, repeat = TextureRepeat.noRepeat) {
    this._allocate(inWidth, inHeight, inTotalLayers, inImage, mode, repeat);
  }
  loadFromMemory(inWidth, inHeight, inTotalLayers, inPixels, mode = TextureFilter.pixelated, repeat = TextureRepeat.noRepeat) {
    this._allocate(inWidth, inHeight, inTotalLayers, inPixels, mode, repeat);
  }
  _allocate(inWidth, inHeight, inTotalLayers, inPixels = null, mode = TextureFilter.pixelated, repeat = TextureRepeat.noRepeat) {
    if (!this._texture) {
      throw new Error("texture: not initialized");
    }
    if (inWidth <= 0) {
      throw new Error("texture: width must be positive");
    }
    if (inHeight <= 0) {
      throw new Error("texture: height must be positive");
    }
    const gl = WebGLContext.getContext();
    this._width = inWidth;
    this._height = inHeight;
    const level = 0;
    const internalFormat = gl.RGBA;
    const border = 0;
    const srcFormat = gl.RGBA;
    const srcType = gl.UNSIGNED_BYTE;
    if (inPixels instanceof HTMLImageElement) {
      gl.texImage3D(gl.TEXTURE_2D_ARRAY, level, internalFormat, inWidth, inHeight, inTotalLayers, border, srcFormat, srcType, inPixels);
    } else {
      gl.texImage3D(gl.TEXTURE_2D_ARRAY, level, internalFormat, inWidth, inHeight, inTotalLayers, border, srcFormat, srcType, inPixels);
    }
    if (repeat === TextureRepeat.noRepeat) {
      gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
      gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
    } else if (repeat === TextureRepeat.repeat) {
      gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_WRAP_S, gl.REPEAT);
      gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_WRAP_T, gl.REPEAT);
    }
    if (mode === TextureFilter.pixelated) {
      gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
      gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
    } else if (mode === TextureFilter.linear) {
      gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
      gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
    } else if (mode === TextureFilter.mipmap) {
      gl.generateMipmap(gl.TEXTURE_2D_ARRAY);
      gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
      gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
    }
  }
  getWidth() {
    if (!this._texture)
      throw new Error("texture not initialized");
    return this._width;
  }
  getHeight() {
    if (!this._texture)
      throw new Error("texture not initialized");
    return this._height;
  }
  getRawObject() {
    if (!this._texture)
      throw new Error("texture not initialized");
    return this._texture;
  }
}
// src/local-framework/graphics/renderers/geometry-renderer/shaders/geometry-renderer.glsl.vert
var geometry_renderer_glsl_default = `
#version 300 es

precision highp float;

uniform mat4 u_composedMatrix;

in vec3 a_vertex_position;
in vec3 a_vertex_normal;

in vec3 a_offset_center;
in vec4 a_offset_orientation;
in vec3 a_offset_color;
in vec3 a_offset_scale;

flat out vec4 v_color;
out vec3 v_worldSpacePosition;
out vec3 v_worldSpaceNormal;


vec3 apply_quat_to_vec3(vec3 position, vec4 q)
{
  vec3 v = position.xyz;
  return v + 2.0 * cross(q.xyz, cross(q.xyz, v) + q.w * v);
}

void main(void)
{
	vec3 worldSpacePosition = a_offset_center + apply_quat_to_vec3(a_vertex_position * a_offset_scale, a_offset_orientation);
	vec3 worldSpaceNormal = apply_quat_to_vec3(a_vertex_normal, a_offset_orientation);

  gl_Position = u_composedMatrix * vec4(worldSpacePosition, 1.0);

  v_color = vec4(a_offset_color, 1.0);
  v_worldSpacePosition = worldSpacePosition;
  v_worldSpaceNormal = worldSpaceNormal;
}
`.trim();

// src/local-framework/graphics/renderers/geometry-renderer/shaders/geometry-renderer.glsl.frag
var geometry_renderer_glsl_default2 = `
#version 300 es

precision lowp float;

uniform vec3 u_lightPos;

flat in vec4 v_color;
in vec3 v_worldSpacePosition;
in vec3 v_worldSpaceNormal;

out vec4 o_color;

//
//
//

const float k_ambiantCoef = 0.1;

const vec3 k_specColor = vec3(1.0, 1.0, 1.0);

vec3 _getLightColor(vec4 currentColor)
{
  vec3 normal = normalize(v_worldSpaceNormal);
  vec3 lightDir = normalize(u_lightPos - v_worldSpacePosition);

  float diffuseCoef = max(dot(lightDir, v_worldSpaceNormal.xyz), 0.0);
  float specularCoef = 0.0;

  // if (diffuseCoef > 0.0 && v_skipSpecular < 0.5)
  // {
  //   // specular

  //   vec3 reflectDir = reflect(-lightDir, normal);
  //   vec3 viewDir = normalize(u_lightPos - v_worldSpacePosition);

  //   float specAngle = max(dot(reflectDir, viewDir), 0.0);
  //   specularCoef = pow(specAngle, 32.0);
  // }

  vec3 diffuseColor = currentColor.rgb * (k_ambiantCoef + diffuseCoef);
  vec3 specularColor = k_specColor * specularCoef * currentColor.a;

  return diffuseColor + specularColor;
}

//
//
//

void main(void)
{
  o_color = vec4(_getLightColor(v_color), 1.0);
}
`.trim();

// src/local-framework/graphics/renderers/geometry-renderer/GeometryRenderer.ts
var k_bufferSize = 14336;

class GeometryRenderer {
  _shader;
  _geometry;
  _buffer = new Float32Array(k_bufferSize);
  _currentSize = 0;
  constructor() {
    this._shader = new ShaderProgram("GeometryRenderer", {
      vertexSrc: geometry_renderer_glsl_default,
      fragmentSrc: geometry_renderer_glsl_default2,
      attributes: [
        "a_vertex_position",
        "a_vertex_normal",
        "a_offset_center",
        "a_offset_orientation",
        "a_offset_color",
        "a_offset_scale"
      ],
      uniforms: ["u_composedMatrix", "u_lightPos"]
    });
    const geoBuilder = new exports_GeometryWrapper.GeometryBuilder;
    geoBuilder.reset().setPrimitiveType("triangles").addVbo().addVboAttribute("a_vertex_position", "vec3f").addVboAttribute("a_vertex_normal", "vec3f").addVbo().setVboAsStreaming().setVboAsInstanced().addVboAttribute("a_offset_center", "vec3f").addVboAttribute("a_offset_orientation", "vec4f").addVboAttribute("a_offset_color", "vec3f").addVboAttribute("a_offset_scale", "vec3f");
    this._geometry = new exports_GeometryWrapper.Geometry(this._shader, geoBuilder.getDef());
    this._geometry.setFloatBufferSize(1, k_bufferSize);
  }
  setGeometryVertices(vertices) {
    const buf = new Float32Array([...vertices.map((val) => [...val.pos, ...val.normal]).flat()]);
    this._geometry.allocateBuffer(0, buf, buf.length);
    this._geometry.setPrimitiveCount(buf.length / 6);
  }
  push(inPointA, inQuat, inColor, inScale) {
    if (this._currentSize + 13 >= this._buffer.length) {
      if (this._shader.isBound()) {
        this._flush();
      } else {
        return;
      }
    }
    this._buffer[this._currentSize++] = inPointA[0];
    this._buffer[this._currentSize++] = inPointA[1];
    this._buffer[this._currentSize++] = inPointA[2];
    this._buffer[this._currentSize++] = inQuat[0];
    this._buffer[this._currentSize++] = inQuat[1];
    this._buffer[this._currentSize++] = inQuat[2];
    this._buffer[this._currentSize++] = inQuat[3];
    this._buffer[this._currentSize++] = inColor[0];
    this._buffer[this._currentSize++] = inColor[1];
    this._buffer[this._currentSize++] = inColor[2];
    this._buffer[this._currentSize++] = inScale[0];
    this._buffer[this._currentSize++] = inScale[1];
    this._buffer[this._currentSize++] = inScale[2];
  }
  flush(inCamera) {
    if (!this.canRender()) {
      return;
    }
    this._shader.bind((bound) => {
      bound.setMatrix4Uniform("u_composedMatrix", inCamera.getComposedMatrix());
      const eyePos = inCamera.getEye();
      bound.setFloat3Uniform("u_lightPos", eyePos[0], eyePos[1], eyePos[2]);
      this._flush();
    });
  }
  safeRender(inCamera, inCallback) {
    this._shader.bind((bound) => {
      bound.setMatrix4Uniform("u_composedMatrix", inCamera.getComposedMatrix());
      const eyePos = inCamera.getEye();
      bound.setFloat3Uniform("u_lightPos", eyePos[0], eyePos[1], eyePos[2]);
      inCallback();
      this._flush();
    });
  }
  _flush() {
    this._geometry.updateBuffer(1, this._buffer, this._currentSize, 0);
    this._geometry.setInstancedCount(this._currentSize / 13);
    this._geometry.render();
    this.clear();
  }
  canRender() {
    return this._currentSize > 0;
  }
  clear() {
    this._currentSize = 0;
  }
}
// src/local-framework/graphics/renderers/geometry-renderer-flat/shaders/geometry-renderer-flat.glsl.vert
var geometry_renderer_flat_glsl_default = `
#version 300 es

precision highp float;

uniform mat4 u_composedMatrix;

in vec3 a_vertex_position;

in vec3 a_offset_center;
in vec4 a_offset_orientation;
in vec3 a_offset_color;
in vec3 a_offset_scale;

flat out vec4 v_color;

vec3 apply_quat_to_vec3(vec3 position, vec4 q)
{
  vec3 v = position.xyz;
  return v + 2.0 * cross(q.xyz, cross(q.xyz, v) + q.w * v);
}

void main(void)
{
	vec3 worldSpacePosition = a_offset_center + apply_quat_to_vec3(a_vertex_position * a_offset_scale, a_offset_orientation);

  gl_Position = u_composedMatrix * vec4(worldSpacePosition, 1.0);

  v_color = vec4(a_offset_color, 1.0);
}
`.trim();

// src/local-framework/graphics/renderers/geometry-renderer-flat/shaders/geometry-renderer-flat.glsl.frag
var geometry_renderer_flat_glsl_default2 = `
#version 300 es

precision lowp float;

flat in vec4 v_color;

out vec4 o_color;

void main(void)
{
  o_color = vec4(v_color.rbg, 1.0);
}
`.trim();

// src/local-framework/graphics/renderers/geometry-renderer-flat/GeometryRendererFlat.ts
var k_bufferSize2 = 14336;

class GeometryRendererFlat {
  _shader;
  _geometry;
  _buffer = new Float32Array(k_bufferSize2);
  _currentSize = 0;
  constructor() {
    this._shader = new ShaderProgram("GeometryRendererFlat", {
      vertexSrc: geometry_renderer_flat_glsl_default,
      fragmentSrc: geometry_renderer_flat_glsl_default2,
      attributes: [
        "a_vertex_position",
        "a_offset_center",
        "a_offset_orientation",
        "a_offset_color",
        "a_offset_scale"
      ],
      uniforms: [
        "u_composedMatrix"
      ]
    });
    const geoBuilder = new exports_GeometryWrapper.GeometryBuilder;
    geoBuilder.reset().setPrimitiveType("triangles").addVbo().addVboAttribute("a_vertex_position", "vec3f").addVbo().setVboAsStreaming().setVboAsInstanced().addVboAttribute("a_offset_center", "vec3f").addVboAttribute("a_offset_orientation", "vec4f").addVboAttribute("a_offset_color", "vec3f").addVboAttribute("a_offset_scale", "vec3f");
    this._geometry = new exports_GeometryWrapper.Geometry(this._shader, geoBuilder.getDef());
    this._geometry.setFloatBufferSize(1, k_bufferSize2);
  }
  setGeometryVertices(vertices) {
    const buf = new Float32Array([
      ...vertices.map((val) => [...val.pos]).flat()
    ]);
    this._geometry.allocateBuffer(0, buf, buf.length);
    this._geometry.setPrimitiveCount(buf.length / 3);
  }
  push(inPointA, inQuat, inColor, inScale) {
    if (this._currentSize + 13 >= this._buffer.length) {
      if (this._shader.isBound()) {
        this._flush();
      } else {
        return;
      }
    }
    this._buffer[this._currentSize++] = inPointA[0];
    this._buffer[this._currentSize++] = inPointA[1];
    this._buffer[this._currentSize++] = inPointA[2];
    this._buffer[this._currentSize++] = inQuat[0];
    this._buffer[this._currentSize++] = inQuat[1];
    this._buffer[this._currentSize++] = inQuat[2];
    this._buffer[this._currentSize++] = inQuat[3];
    this._buffer[this._currentSize++] = inColor[0];
    this._buffer[this._currentSize++] = inColor[1];
    this._buffer[this._currentSize++] = inColor[2];
    this._buffer[this._currentSize++] = inScale[0];
    this._buffer[this._currentSize++] = inScale[1];
    this._buffer[this._currentSize++] = inScale[2];
  }
  flush(inCamera) {
    if (!this.canRender()) {
      return;
    }
    this._shader.bind((bound) => {
      bound.setMatrix4Uniform("u_composedMatrix", inCamera.getComposedMatrix());
      this._flush();
    });
  }
  safeRender(inCamera, inCallback) {
    this._shader.bind((bound) => {
      bound.setMatrix4Uniform("u_composedMatrix", inCamera.getComposedMatrix());
      inCallback();
      this._flush();
    });
  }
  _flush() {
    this._geometry.updateBuffer(1, this._buffer, this._currentSize, 0);
    this._geometry.setInstancedCount(this._currentSize / 13);
    this._geometry.render();
    this.clear();
  }
  canRender() {
    return this._currentSize > 0;
  }
  clear() {
    this._currentSize = 0;
  }
}
// src/local-framework/graphics/renderers/multi-buffers-rendering/internals/SceneCapturer.ts
class SceneCapturer {
  _width = 0;
  _height = 0;
  _frameBuffer = new FrameBuffer;
  _renderBuffer = new RenderBuffer;
  _colorTextures = [];
  _currentIndex = 0;
  constructor(width, height) {
    this._colorTextures.push(new Texture);
    this._colorTextures.push(new Texture);
    this._colorTextures.forEach((texture) => texture.initialize());
    this.resize(width, height);
  }
  resize(width, height) {
    this._width = width;
    this._height = height;
    this._renderBuffer.bind((boundBuffer) => {
      boundBuffer.setSize("depth32f", this._width, this._height);
    });
    this._colorTextures.forEach((texture) => {
      texture.bind((boundTexture) => {
        boundTexture.allocate(this._width, this._height);
      });
    });
    this._frameBuffer.bind((boundFrameBuffer) => {
      this._renderBuffer.bind((boundBuffer) => {
        boundFrameBuffer.attachRenderBuffer(boundBuffer);
      });
    });
  }
  captureScene(renderCallback) {
    this._frameBuffer.bind((boundFrameBuffer) => {
      this._colorTextures[this._currentIndex].bind((boundTexture) => {
        boundFrameBuffer.attachTexture(boundTexture);
      });
      const gl = WebGLContext.getContext();
      gl.viewport(0, 0, this._width, this._height);
      gl.clearColor(0, 0, 0, 0);
      renderCallback();
    });
    this._currentIndex = (this._currentIndex + 1) % this._colorTextures.length;
  }
  get colorTexture() {
    return this._colorTextures[this._currentIndex];
  }
}

// src/local-framework/graphics/renderers/multi-buffers-rendering/internals/shaders/hud-texture-renderer.glsl.vert
var hud_texture_renderer_glsl_default = `
#version 300 es

precision highp float;

uniform mat4 u_composedMatrix;

in vec3  a_vertex_position;
in vec2  a_vertex_texCoord;

out vec2 v_texCoord;

void main(void)
{
  v_texCoord = a_vertex_texCoord;
  gl_Position = u_composedMatrix * vec4(a_vertex_position, 1.0);
}

`.trim();

// src/local-framework/graphics/renderers/multi-buffers-rendering/internals/shaders/hud-texture-renderer.glsl.frag
var hud_texture_renderer_glsl_default2 = `
#version 300 es

precision highp float;

uniform sampler2D u_texture;

in vec2 v_texCoord;

out vec4 o_color;

void main(void)
{
  o_color = texture(u_texture, v_texCoord);
}
`.trim();

// src/local-framework/graphics/renderers/multi-buffers-rendering/internals/RenderHudTexture.ts
class RenderHudTexture {
  _width = 0;
  _height = 0;
  _shader;
  _geometry;
  constructor(width, height) {
    this._shader = new ShaderProgram("RenderHudTexture", {
      vertexSrc: hud_texture_renderer_glsl_default,
      fragmentSrc: hud_texture_renderer_glsl_default2,
      attributes: ["a_vertex_position", "a_vertex_texCoord"],
      uniforms: ["u_composedMatrix", "u_texture"]
    });
    const geoBuilder = new exports_GeometryWrapper.GeometryBuilder;
    geoBuilder.reset().setPrimitiveType("triangleStrip").addVbo().addVboAttribute("a_vertex_position", "vec3f").addVboAttribute("a_vertex_texCoord", "vec2f");
    this._geometry = new exports_GeometryWrapper.Geometry(this._shader, geoBuilder.getDef());
    this.resize(width, height);
  }
  resize(width, height) {
    this._width = width;
    this._height = height;
    const tmpVertices = [
      { pos: [this._width * 0, this._height * 0, -1], tex: [0, 0] },
      { pos: [this._width * 1, this._height * 0, -1], tex: [1, 0] },
      { pos: [this._width * 0, this._height * 1, -1], tex: [0, 1] },
      { pos: [this._width * 1, this._height * 1, -1], tex: [1, 1] }
    ];
    const vertArr = tmpVertices.map((vertex) => {
      return [vertex.pos[0], vertex.pos[1], vertex.pos[2], vertex.tex[0], vertex.tex[1]];
    }).flat();
    this._geometry.allocateBuffer(0, vertArr, vertArr.length);
    this._geometry.setPrimitiveCount(vertArr.length / 5);
  }
  flush(composedMatrix, cubeMap) {
    this._shader.bind((boundShader) => {
      boundShader.setMatrix4Uniform("u_composedMatrix", composedMatrix);
      boundShader.setTextureUniform("u_texture", cubeMap, 0);
      this._geometry.render();
    });
  }
}

// src/local-framework/graphics/renderers/multi-buffers-rendering/MultiBuffersRendering.ts
class MultiBuffersRendering {
  _sceneCapturer;
  _renderHudTexture;
  constructor(width, height) {
    this._sceneCapturer = new SceneCapturer(width, height);
    this._renderHudTexture = new RenderHudTexture(width, height);
  }
  resize(width, height) {
    this._sceneCapturer.resize(width, height);
    this._renderHudTexture.resize(width, height);
  }
  captureScene(renderCallback) {
    this._sceneCapturer.captureScene(renderCallback);
  }
  renderHud(composedMat4) {
    this._renderHudTexture.flush(composedMat4, this._sceneCapturer.colorTexture);
  }
}
// src/local-framework/graphics/renderers/stack-renderers/shaders/stack-renderer.glsl.vert
var stack_renderer_glsl_default = `
#version 300 es

precision highp float;

uniform mat4 u_composedMatrix;

in vec3 a_vertex_position;
in vec4 a_vertex_color;

flat out vec4 v_color;

void main(void)
{
  gl_Position = u_composedMatrix * vec4(a_vertex_position, 1.0);

  v_color = a_vertex_color;
}
`.trim();

// src/local-framework/graphics/renderers/stack-renderers/shaders/stack-renderer.glsl.frag
var stack_renderer_glsl_default2 = `
#version 300 es

precision lowp float;

flat in vec4 v_color;

out vec4 o_color;

void main(void)
{
  o_color = v_color;
}
`.trim();

// src/local-framework/graphics/renderers/stack-renderers/internals/WireFramesStackRenderer.ts
var k_bufferSize3 = 14336;

class WireFramesStackRenderer {
  _shader;
  _geometry;
  _buffer = new Float32Array(k_bufferSize3);
  _currentSize = 0;
  constructor(inShader, inGeometryDef) {
    this._shader = inShader;
    const geometryDef = {
      ...inGeometryDef,
      primitiveType: exports_GeometryWrapper.PrimitiveType.lines
    };
    this._geometry = new exports_GeometryWrapper.Geometry(inShader, geometryDef);
  }
  pushLine(inPointA, inPointB, inColor) {
    if (this._currentSize + 14 >= this._buffer.length) {
      if (this._shader.isBound()) {
        this.flush();
      } else {
        return;
      }
    }
    const alphaValue = inColor[3] ?? 1;
    this._buffer[this._currentSize + 0] = inPointA[0];
    this._buffer[this._currentSize + 1] = inPointA[1];
    this._buffer[this._currentSize + 2] = inPointA[2];
    this._buffer[this._currentSize + 3] = inColor[0];
    this._buffer[this._currentSize + 4] = inColor[1];
    this._buffer[this._currentSize + 5] = inColor[2];
    this._buffer[this._currentSize + 6] = alphaValue;
    this._currentSize += 7;
    this._buffer[this._currentSize + 0] = inPointB[0];
    this._buffer[this._currentSize + 1] = inPointB[1];
    this._buffer[this._currentSize + 2] = inPointB[2];
    this._buffer[this._currentSize + 3] = inColor[0];
    this._buffer[this._currentSize + 4] = inColor[1];
    this._buffer[this._currentSize + 5] = inColor[2];
    this._buffer[this._currentSize + 6] = alphaValue;
    this._currentSize += 7;
  }
  canRender() {
    return this._currentSize > 0;
  }
  flush() {
    if (!this.canRender())
      return;
    this._geometry.allocateBuffer(0, this._buffer, this._currentSize);
    this._geometry.setPrimitiveCount(this._currentSize / 7);
    this._geometry.render();
    this.clear();
  }
  clear() {
    this._currentSize = 0;
  }
}

// src/local-framework/graphics/renderers/stack-renderers/internals/TrianglesStackRenderer.ts
var k_bufferSize4 = 7168;

class TrianglesStackRenderer {
  _shader;
  _geometry;
  _buffer = new Float32Array(k_bufferSize4);
  _currentSize = 0;
  constructor(inShader, inGeometryDef) {
    this._shader = inShader;
    const geometryDef = {
      ...inGeometryDef,
      primitiveType: exports_GeometryWrapper.PrimitiveType.triangles
    };
    this._geometry = new exports_GeometryWrapper.Geometry(inShader, geometryDef);
  }
  pushTriangle(inPointA, inPointB, inPointC, inColor) {
    if (this._currentSize + 42 >= this._buffer.length) {
      if (this._shader.isBound()) {
        this.flush();
      } else {
        return;
      }
    }
    const alphaValue = inColor[3] ?? 1;
    this._buffer[this._currentSize + 0] = inPointA[0];
    this._buffer[this._currentSize + 1] = inPointA[1];
    this._buffer[this._currentSize + 2] = inPointA[2];
    this._buffer[this._currentSize + 3] = inColor[0];
    this._buffer[this._currentSize + 4] = inColor[1];
    this._buffer[this._currentSize + 5] = inColor[2];
    this._buffer[this._currentSize + 6] = alphaValue;
    this._currentSize += 7;
    this._buffer[this._currentSize + 0] = inPointB[0];
    this._buffer[this._currentSize + 1] = inPointB[1];
    this._buffer[this._currentSize + 2] = inPointB[2];
    this._buffer[this._currentSize + 3] = inColor[0];
    this._buffer[this._currentSize + 4] = inColor[1];
    this._buffer[this._currentSize + 5] = inColor[2];
    this._buffer[this._currentSize + 6] = alphaValue;
    this._currentSize += 7;
    this._buffer[this._currentSize + 0] = inPointC[0];
    this._buffer[this._currentSize + 1] = inPointC[1];
    this._buffer[this._currentSize + 2] = inPointC[2];
    this._buffer[this._currentSize + 3] = inColor[0];
    this._buffer[this._currentSize + 4] = inColor[1];
    this._buffer[this._currentSize + 5] = inColor[2];
    this._buffer[this._currentSize + 6] = alphaValue;
    this._currentSize += 7;
  }
  pushLine(inPointA, inPointB, thickness, inColor) {
    if (this._currentSize + 42 >= this._buffer.length) {
      return;
    }
    const diffX = inPointB[0] - inPointA[0];
    const diffY = inPointB[1] - inPointA[1];
    const angle3 = Math.atan2(diffY, diffX) + Math.PI * 0.5;
    const stepX = Math.cos(angle3) * thickness * 0.5;
    const stepY = Math.sin(angle3) * thickness * 0.5;
    this.pushTriangle([inPointA[0] - stepX, inPointA[1] - stepY, inPointA[2]], [inPointB[0] - stepX, inPointB[1] - stepY, inPointB[2]], [inPointB[0] + stepX, inPointB[1] + stepY, inPointB[2]], inColor);
    this.pushTriangle([inPointA[0] - stepX, inPointA[1] - stepY, inPointA[2]], [inPointB[0] + stepX, inPointB[1] + stepY, inPointB[2]], [inPointA[0] + stepX, inPointA[1] + stepY, inPointA[2]], inColor);
  }
  pushRotatedLine(center, angle3, length4, thickness, color) {
    this.pushLine([center[0] - length4 * Math.cos(angle3), center[1] - length4 * Math.sin(angle3), center[2]], [center[0] + length4 * Math.cos(angle3), center[1] + length4 * Math.sin(angle3), center[2]], thickness, color);
  }
  pushOriginBoundRectangle(inOrigin, inSize, inColor) {
    if (this._currentSize + 42 >= this._buffer.length) {
      return;
    }
    const maxCoord = [inOrigin[0] + inSize[0], inOrigin[1] + inSize[1]];
    this.pushTriangle([inOrigin[0], inOrigin[1], inOrigin[2]], [maxCoord[0], maxCoord[1], inOrigin[2]], [inOrigin[0], maxCoord[1], inOrigin[2]], inColor);
    this.pushTriangle([inOrigin[0], inOrigin[1], inOrigin[2]], [maxCoord[0], inOrigin[1], inOrigin[2]], [maxCoord[0], maxCoord[1], inOrigin[2]], inColor);
  }
  pushCenteredRectangle(inCenter, inSize, inColor) {
    const origin = [inCenter[0] - inSize[0] * 0.5, inCenter[1] - inSize[1] * 0.5, inCenter[2]];
    this.pushOriginBoundRectangle(origin, inSize, inColor);
  }
  canRender() {
    return this._currentSize > 0;
  }
  flush() {
    if (!this.canRender()) {
      return;
    }
    this._geometry.allocateBuffer(0, this._buffer, this._currentSize);
    this._geometry.setPrimitiveCount(this._currentSize / 7);
    this._geometry.render();
    this.clear();
  }
  clear() {
    this._currentSize = 0;
  }
}

// src/local-framework/graphics/renderers/stack-renderers/StackRenderers.ts
class StackRenderers {
  _shader;
  _wireFramesStackRenderer;
  _trianglesStackRenderer;
  constructor() {
    this._shader = new ShaderProgram("StackRenderers", {
      vertexSrc: stack_renderer_glsl_default,
      fragmentSrc: stack_renderer_glsl_default2,
      attributes: ["a_vertex_position", "a_vertex_color"],
      uniforms: ["u_composedMatrix"]
    });
    const geoBuilder = new exports_GeometryWrapper.GeometryBuilder;
    geoBuilder.reset().setPrimitiveType("lines").addVbo().setVboAsDynamic().addVboAttribute("a_vertex_position", "vec3f").addVboAttribute("a_vertex_color", "vec4f");
    this._wireFramesStackRenderer = new WireFramesStackRenderer(this._shader, geoBuilder.getDef());
    this._trianglesStackRenderer = new TrianglesStackRenderer(this._shader, geoBuilder.getDef());
  }
  pushLine(inPointA, inPointB, inColor) {
    this._wireFramesStackRenderer.pushLine(inPointA, inPointB, inColor);
  }
  pushCross(inCenter, inSize, inColor) {
    const crossVertices = [
      [inCenter[0] - inSize, inCenter[1], inCenter[2]],
      [inCenter[0] + inSize, inCenter[1], inCenter[2]],
      [inCenter[0], inCenter[1] - inSize, inCenter[2]],
      [inCenter[0], inCenter[1] + inSize, inCenter[2]],
      [inCenter[0], inCenter[1], inCenter[2] - inSize],
      [inCenter[0], inCenter[1], inCenter[2] + inSize]
    ];
    const crossIndices = [0, 1, 2, 3, 4, 5];
    for (let ii = 0;ii < crossIndices.length; ii += 2) {
      const vertexA = crossVertices[ii + 0];
      const vertexB = crossVertices[ii + 1];
      this._wireFramesStackRenderer.pushLine(vertexA, vertexB, inColor);
    }
  }
  pushThickLine(inPointA, inPointB, thickness, inColor) {
    this._trianglesStackRenderer.pushLine(inPointA, inPointB, thickness, inColor);
  }
  pushRotatedLine(center, angle3, length4, thickness, color) {
    this._trianglesStackRenderer.pushRotatedLine(center, angle3, length4, thickness, color);
  }
  pushOriginBoundRectangle(inOrigin, inSize, inColor) {
    this._trianglesStackRenderer.pushOriginBoundRectangle(inOrigin, inSize, inColor);
  }
  pushCenteredRectangle(inCenter, inSize, inColor) {
    this._trianglesStackRenderer.pushCenteredRectangle(inCenter, inSize, inColor);
  }
  pushTriangle(inPosA, inPosB, inPosC, inColor) {
    this._trianglesStackRenderer.pushTriangle(inPosA, inPosB, inPosC, inColor);
  }
  pushQuad(inPos, inSize, inColor) {
    this.pushTriangle([inPos[0] + inSize[0] * 0, inPos[1] + inSize[1] * 0, inPos[2]], [inPos[0] + inSize[0] * 1, inPos[1] + inSize[1] * 1, inPos[2]], [inPos[0] + inSize[0] * 1, inPos[1] + inSize[1] * 0, inPos[2]], inColor);
    this.pushTriangle([inPos[0] + inSize[0] * 0, inPos[1] + inSize[1] * 0, inPos[2]], [inPos[0] + inSize[0] * 1, inPos[1] + inSize[1] * 1, inPos[2]], [inPos[0] + inSize[0] * 0, inPos[1] + inSize[1] * 1, inPos[2]], inColor);
  }
  flush(inComposedMatrix) {
    if (!this._wireFramesStackRenderer.canRender() && !this._trianglesStackRenderer.canRender()) {
      return;
    }
    this._shader.bind((bound) => {
      bound.setMatrix4Uniform("u_composedMatrix", inComposedMatrix);
      this._wireFramesStackRenderer.flush();
      this._trianglesStackRenderer.flush();
    });
  }
  safeRender(inComposedMatrix, inCallback) {
    this._shader.bind((bound) => {
      bound.setMatrix4Uniform("u_composedMatrix", inComposedMatrix);
      inCallback();
      this._wireFramesStackRenderer.flush();
      this._trianglesStackRenderer.flush();
    });
  }
  clear() {
    this._wireFramesStackRenderer.clear();
    this._trianglesStackRenderer.clear();
  }
}
// src/local-framework/graphics/renderers/text-renderer/shaders/text-renderer.glsl.vert
var text_renderer_glsl_default = `
#version 300 es

precision highp float;

uniform mat4 u_composedMatrix;

in vec2 a_vertex_position;
in vec2 a_vertex_texCoord;
in vec3 a_offset_position;
in vec2 a_offset_texCoord;
in vec3 a_offset_color;
in float a_offset_scale;

out vec2 v_texCoord;
flat out vec3 v_color;

void main(void)
{
  vec3 position = vec3(a_vertex_position, 0.0) * a_offset_scale + a_offset_position;

  gl_Position = u_composedMatrix * vec4(position, 1.0);

  v_texCoord = a_vertex_texCoord + a_offset_texCoord;
  v_color = a_offset_color;
}
`.trim();

// src/local-framework/graphics/renderers/text-renderer/shaders/text-renderer.glsl.frag
var text_renderer_glsl_default2 = `
#version 300 es

precision mediump float;

uniform sampler2D u_texture;

in vec2 v_texCoord;
flat in vec3 v_color;

out vec4 o_color;

void main(void)
{
  vec4 textureColor = texture(u_texture, v_texCoord);
  if (textureColor.a < 0.5)
  {
    discard;
  }
  else
  {
    o_color = vec4(v_color, textureColor.a);
  }
}
`.trim();

// src/local-framework/graphics/renderers/text-renderer/internals/asciiTextureHex.ts
var asciiTextureHex = "7e7e28fd03fd07fe04fe0aff02ff7e4dfd0cfd03fd07fe04fe0aff02ff1afc0dfd10fc08fc0ffe55ff15fb0bfd03fd07fe04fe08f707fd04ff07fe02fe0cfd0ffd0cfd0aff03fe03ff0afe44fe15fb0bfd03fd04f204f607fd03fe07fe02fe0cfd0efd0efd0aff02fe02ff0bfe43fd15fb0cfe03fe05f204fe01ff02ff0afd02fd07fe02fe0bfd0efd10fd0afa0cfe42fd16fb1bfe04fe07fe01ff02ff0efd09fc1cfd12fd09fa0cfe41fd17fb1bfe04fe07f70bfd0afc04ff17fd12fd06f405f616f61cfd19fd1cfe04fe08f709fd0bfb02fe17fd12fd06f405f616f61bfd1afd1cfe04fe0aff02ff01fe08fd0bfe02fa17fd12fd09fa0cfe3efd37f207ff02ff01fe07fd02fd07fe03fc19fd10fd0afa0cfe3dfd38f204f607fe03fd07fe03fd1bfd0efd0aff02fe02ff0bfe0cfd1dfd0dfd1dfd1cfe04fe07f708ff04fd07fe02fb1bfd0cfd0aff03fe03ff0afe0cfd1dfd0cfd1efd1cfe04fe0aff02ff1afb02fe1bfc08fc0ffe1cfd1dfd0bfd1ffd1cfe04fe0aff02ff7afd7e7e7e7e7e7e0efd17fd10fc0af80bfe0bf909f90dfd08f609fb08f506f808f82cfd19fd0df807fd04fd0afe0afd03fd07fd03fd0bfc08fd0ffd0bfd05fd05fd04fd06fd04fd2afd1bfd0bfc02fc06fd03fc09fd0afd04fd06fd04fd09fb08fd0efd0cfd05fd05fd04fd06fd04fd09fd0cfd0efd1dfd0afe05fd06fd02fb06fa11fd0dfd08fe01fd08fd0dfd0dfd05fd05fd04fd06fd04fd09fd0cfd0dfd0af409fd10fd06fd02fb06fa10fd0dfd08fe02fd08fd0dfd15fd05fb02fd06fd04fd09fd0cfd0cfd0bf40afd0efd07fd01fe01fd09fd0ffd0bfb08fe03fd08f808f70efd08fa08f626fd23fd0cfd08fd01fe01fd09fd0efd0cfb08f606f707f60cfd09fa09f726fd23fd0bfd09fb02fd09fd0dfd10fd07f60cfc06fd04fd0bfd08fd02fb0dfd09fd0cfd0cfd0bf40afd0cfd09fb02fd09fd0cfd12fd0bfd0ffd06fd04fd0afd09fd04fd0dfd09fd0cfd0dfd0af409fd19fc03fd09fd0bfd03fd06fd04fd0bfd08fd04fd06fd04fd09fd0afd04fd0cfd0afd0cfd0efd1dfd1afd04fd09fd0afd04fd06fd03fd0cfd08fd03fd07fd04fd09fd0afd04fd0bfd19fd10fd1bfd0ffd0af807f707f607f90bf907f909f80afd0bf809fb2efd19fd10fd7e51fd17fd11fd7e7e7e7e13f87e78fd05fd08fc09f709f907f808f606f608f907fd03fd07f90df905fc03fd06fb0bfd05fd05fd05fd08fb08fd05fd07fa09fd03fd07fd03fd07fd02fd08fd04fe07fd04fe07fd03fd06fd03fd09fd11fd08fd03fd07fd0cfc03fc05fd05fd07fd01fd07fd05fd06fd02fd08fd03fd06fd04fd07fd03fd07fd05ff07fd05ff06fd04fd06fd03fd09fd11fd08fd02fd08fd0cfb01fb05fc04fd06fd03fd06fd05fd05fd04fd07fd03fd06fd0efd03fd07fd0dfd0cfd04fd06fd03fd09fd11fd08fd01fd09fd0cf505fb03fd05fd05fd05fd02fa05fd04fd07fd03fd06fd0efd03fd07fd03fe08fd03fe07fd0dfd03fd09fd11fd08fa0afd0cf505fa02fd05fd05fd05fd02fa05fd04fd07f807fd0efd03fd07f808f807fd0df709fd11fd08fb0bfd0cfd01fd01fd05fd01fd01fd05fd05fd05fd02fa05fd04fd07f807fd0efd03fd07f808f807fd0df709fd11fd08fb0bfd0cfd02ff02fd05fd02fa05fd05fd05fd02fa05f607fd03fd06fd0efd03fd07fd03fe08fd03fe07fd02fb06fd03fd09fd0bfd03fd08fa0afd0cfd05fd05fd03fb05fd05fd05fd0dfd04fd07fd03fd06fd0efd03fd07fd0dfd0cfd04fd06fd03fd09fd0bfd03fd08fd01fd09fd05ff06fd05fd05fd04fc05fd05fd05fd0dfd04fd07fd03fd06fd04fd07fd03fd07fd05ff07fd0cfd04fd06fd03fd09fd0bfd03fd08fd02fd08fd04fe06fd05fd05fd05fd06fd03fd06fd0dfd04fd07fd03fd07fd03fd07fd02fd08fd04fe07fd0dfd03fd06fd03fd09fd0bfd03fd08fd03fd07fd03fd06fd05fd05fd05fd07fd01fd07fd0dfd04fd06f709f907f808f606fb0df806fd03fd07f90af908fc03fd06f606fd05fd05fd05fd08fb0af87e7e7e7e7e7e7e68fe1af70afb08f708f807f505fd03fd07fd03fd07fd05fd05fd03fd07fd03fd07f608f907ff11f90afc1afd03fd07fc01fc07fd03fd06fd04fd06fe02fd02fe05fd03fd07fd03fd07fd05fd05fd03fd07fd03fd07fd04fd08fd0bfe14fd09fa19fd03fd07fd03fd07fd03fd06fd04fd06ff03fd03ff05fd03fd07fd03fd07fd05fd05fd03fd07fd03fd07fe05fd08fd0bfd13fd08fd02fd18fd03fd06fd05fd06fd03fd06fd04fd0afd09fd03fd07fd03fd07fd05fd06fd01fd08fd03fd07ff05fd09fd0cfd12fd07fd04fd17fd03fd06fd05fd06fd03fd06fd11fd09fd03fd07fd03fd07fd05fd07fb09fd03fd0cfd0afd0dfd11fd28f807fd05fd06f808f90cfd09fd03fd07fd03fd07fd02ff02fd08fd0bfd01fd0cfd0bfd0efd10fd28f807fd05fd06f809f90bfd09fd03fd07fd03fd07fd02ff02fd08fd0cfb0cfd0cfd0ffd0ffd28fd0cfd03fb06fd02fd0efd0afd09fd03fd07fd03fd07fd02ff02fd07fb0cfd0cfd0dfd10fd0efd28fd0cfd02fa06fd03fd06fd04fd0afd09fd03fd07fd03fd08f707fd01fd0bfd0bfd05ff08fd11fd0dfd28fd0df707fd03fd06fd04fd0afd09fd03fd08fd01fd09fc01fc06fd03fd0afd0afd05fe08fd12fd0cfd28fd0df707fd03fd06fd04fd0afd09fd03fd09fb0bfd01fd07fd03fd0afd0afd04fd08fd13fd0bfd27fb12fd06fc03fd07f809f908f90bfd0cfd01fd07fd03fd08f908f608f910fd06f93cfa7e54f07e72f07e7e7e7e0bfd1dfc21fb19fb18fc10fd0ffd07fc0dfa39fd1efd22fd19fd01fd18fd10fd0ffd08fd10fd3bfd1cfd22fd19fd01fd18fd10fd0ffd08fd10fd3bfd1cfd22fd19fd1cfd2dfd10fd4af909f808f909f808f90afd0cfb02fe07fd01fc08fa0cfa08fd03fd0afd09f606f809f91efd08fd03fd06fd03fd07fd03fd07fd03fd07f808fd03fd08fc02fd0afd0ffd08fd02fd0bfd09fd02ff02fd05fd03fd07fd03fd1dfd08fd03fd06fd03fd07fd03fd07fd03fd07f808fd03fd08fc02fd0afd0ffd08fd01fd0cfd09fd02ff02fd05fd03fd07fd03fd18f808fd03fd06fd0dfd03fd07f709fd0bfd03fd08fd03fd0afd0ffd08fa0dfd09fd02ff02fd05fd03fd07fd03fd17fd03fd08fd03fd06fd0dfd03fd07fd0ffd0bfd03fd08fd03fd0afd0ffd08fd01fd0cfd09fd02ff02fd05fd03fd07fd03fd17fd03fd08fd03fd06fd03fd07fd03fd07fd03fd09fd0cf808fd03fd0afd0ffd08fd02fd0bfd09fd02ff02fd05fd03fd07fd03fd17fd03fd08fd03fd06fd03fd07fd03fd07fd03fd09fd0df908fd03fd0afd0ffd08fd03fd0afd09fd02ff02fd05fd03fd07fd03fd18fb02fe06fe02fb08f909fb02fe07f908f90ffd07fc03fd07f706fd03fd07fc03fd07f706fd05fd05fd03fd08f978fd03fd27fd03fd7e4af92afa7e7e7e7e7e7e18fa09fc09fa1efe4eff6efd0dfc0dfd1cfc4cfe6efd0dfc0dfd1bfa4afd6efd0dfc0dfd1afd02fd07fe02fb07fb02fe07fc02fd08f908f707fd03fd07fd03fd07fd05fd05fd02fd09fd03fd06f80afd0efc0efd08fb03fd05fd04fd07fd03fd05fd03fd09f706fd04fe09fd0bfd03fd07fd03fd07fd05fd05fd02fd09fd03fd06fe03fd08fd24fd05fd01fd02fd05fe06fe07fd03fd05fd03fd09fc02fd06fd04fe09fd0bfd03fd07fd03fd07fd05fd06fa0afd03fd06ff03fd09fd24fd05fd02fd01fd05fe06fe07fd03fd05fd03fd09fd0dfb0cfd0bfd03fd07fd03fd07fd02ff02fd07fc0bfd03fd09fd0cfd0efc0efd07fd03fb06fe06fe07fd03fd05fd03fd09fd0ffb0afd0bfd03fd07fd03fd07fd02ff02fd07fc0bfd03fd08fd0efd0dfc0dfd19fe06fe07fd03fd05fd03fd09fd0cfe04fd09fd01fd07fd03fd08fd01fd09fc01fc07fa0bf908fd03ff0bfd0dfc0dfd19fe06fe07f807f809fd0cfe04fd09fd01fd07fd03fd09fb0bfd01fd07fd02fd0bfb08fd03fe0bfd0dfc0dfd19f607fd11fd08fb0cf90bfb09fb02fe09fd0cfd01fd07fd02fd0dfd08f80cfa09fc09fa1af607fd11fd7cfd69fb0ffb77fa";

// src/local-framework/graphics/renderers/text-renderer/TextRenderer.ts
var k_gridSize = [16, 6];
var k_texCoord = [1 / k_gridSize[0], 1 / k_gridSize[1]];
var k_bufferSize5 = 36864;

class TextRenderer {
  _shader;
  _geometry;
  _texture = new Texture;
  _texCoordMap;
  _buffer = new Float32Array(k_bufferSize5);
  _currentSize = 0;
  _textScale = 14;
  _textColor = [1, 1, 1];
  _horizontalTextAlign = "left";
  _verticalTextAlign = "top";
  constructor() {
    this._shader = new ShaderProgram("TextRenderer", {
      vertexSrc: text_renderer_glsl_default,
      fragmentSrc: text_renderer_glsl_default2,
      attributes: [
        "a_vertex_position",
        "a_vertex_texCoord",
        "a_offset_position",
        "a_offset_texCoord",
        "a_offset_color",
        "a_offset_scale"
      ],
      uniforms: ["u_composedMatrix", "u_texture"]
    });
    const geoBuilder = new exports_GeometryWrapper.GeometryBuilder;
    geoBuilder.reset().setPrimitiveType("triangles").addVbo().addVboAttribute("a_vertex_position", "vec2f").addVboAttribute("a_vertex_texCoord", "vec2f").setStride(16).addVbo().setVboAsDynamic().setVboAsInstanced().addVboAttribute("a_offset_position", "vec3f").addVboAttribute("a_offset_texCoord", "vec2f").addVboAttribute("a_offset_color", "vec3f").addVboAttribute("a_offset_scale", "float").setStride(36);
    this._geometry = new exports_GeometryWrapper.Geometry(this._shader, geoBuilder.getDef());
    const vertices = [
      {
        position: [0.5, -0.5],
        texCoord: [k_texCoord[0] * 1, k_texCoord[1] * 1]
      },
      {
        position: [-0.5, -0.5],
        texCoord: [k_texCoord[0] * 0, k_texCoord[1] * 1]
      },
      {
        position: [0.5, 0.5],
        texCoord: [k_texCoord[0] * 1, k_texCoord[1] * 0]
      },
      {
        position: [-0.5, 0.5],
        texCoord: [k_texCoord[0] * 0, k_texCoord[1] * 0]
      }
    ];
    const indices = [1, 0, 2, 1, 2, 3];
    const letterVertices = [];
    for (const index of indices) {
      const vertex = vertices[index];
      letterVertices.push(vertex.position[0], vertex.position[1], vertex.texCoord[0], vertex.texCoord[1]);
    }
    this._geometry.allocateBuffer(0, letterVertices, letterVertices.length);
    this._geometry.setPrimitiveCount(letterVertices.length / 4);
    this._texCoordMap = new Map([
      [" ", [0 * k_texCoord[0], 0 * k_texCoord[1]]],
      ["!", [1 * k_texCoord[0], 0 * k_texCoord[1]]],
      ['"', [2 * k_texCoord[0], 0 * k_texCoord[1]]],
      ["#", [3 * k_texCoord[0], 0 * k_texCoord[1]]],
      ["$", [4 * k_texCoord[0], 0 * k_texCoord[1]]],
      ["%", [5 * k_texCoord[0], 0 * k_texCoord[1]]],
      ["&", [6 * k_texCoord[0], 0 * k_texCoord[1]]],
      ["'", [7 * k_texCoord[0], 0 * k_texCoord[1]]],
      ["(", [8 * k_texCoord[0], 0 * k_texCoord[1]]],
      [")", [9 * k_texCoord[0], 0 * k_texCoord[1]]],
      ["*", [10 * k_texCoord[0], 0 * k_texCoord[1]]],
      ["+", [11 * k_texCoord[0], 0 * k_texCoord[1]]],
      [",", [12 * k_texCoord[0], 0 * k_texCoord[1]]],
      ["-", [13 * k_texCoord[0], 0 * k_texCoord[1]]],
      [".", [14 * k_texCoord[0], 0 * k_texCoord[1]]],
      ["/", [15 * k_texCoord[0], 0 * k_texCoord[1]]],
      ["0", [0 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["1", [1 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["2", [2 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["3", [3 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["4", [4 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["5", [5 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["6", [6 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["7", [7 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["8", [8 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["9", [9 * k_texCoord[0], 1 * k_texCoord[1]]],
      [":", [10 * k_texCoord[0], 1 * k_texCoord[1]]],
      [";", [11 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["<", [12 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["=", [13 * k_texCoord[0], 1 * k_texCoord[1]]],
      [">", [14 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["?", [15 * k_texCoord[0], 1 * k_texCoord[1]]],
      ["@", [0 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["A", [1 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["B", [2 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["C", [3 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["D", [4 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["E", [5 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["F", [6 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["G", [7 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["H", [8 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["I", [9 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["J", [10 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["K", [11 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["L", [12 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["M", [13 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["N", [14 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["O", [15 * k_texCoord[0], 2 * k_texCoord[1]]],
      ["P", [0 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["Q", [1 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["R", [2 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["S", [3 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["T", [4 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["U", [5 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["V", [6 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["W", [7 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["X", [8 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["Y", [9 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["Z", [10 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["[", [11 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["\\", [12 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["]", [13 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["^", [14 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["_", [15 * k_texCoord[0], 3 * k_texCoord[1]]],
      ["`", [0 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["a", [1 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["b", [2 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["c", [3 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["d", [4 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["e", [5 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["f", [6 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["g", [7 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["h", [8 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["i", [9 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["j", [10 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["k", [11 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["l", [12 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["m", [13 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["n", [14 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["o", [15 * k_texCoord[0], 4 * k_texCoord[1]]],
      ["p", [0 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["q", [1 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["r", [2 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["s", [3 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["t", [4 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["u", [5 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["v", [6 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["w", [7 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["x", [8 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["y", [9 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["z", [10 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["{", [11 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["|", [12 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["}", [13 * k_texCoord[0], 5 * k_texCoord[1]]],
      ["~", [14 * k_texCoord[0], 5 * k_texCoord[1]]]
    ]);
    const width = 256;
    const height = 96;
    const imagePixels = new Uint8Array(width * height * 4);
    {
      let index = 0;
      for (let ii = 0;ii < asciiTextureHex.length; ii += 2) {
        let currSize = parseInt(`${asciiTextureHex.substring(ii, ii + 2)}000000`, 16) >> 24;
        let currVal = 0;
        if (currSize < 0) {
          currSize = -currSize;
          currVal = 255;
        }
        for (let ii2 = 0;ii2 < currSize; ++ii2) {
          imagePixels[index * 4 + 0] = currVal;
          imagePixels[index * 4 + 1] = currVal;
          imagePixels[index * 4 + 2] = currVal;
          imagePixels[index * 4 + 3] = currVal;
          ++index;
        }
      }
    }
    this._texture.initialize();
    this._texture.bind((boundTexture) => {
      boundTexture.loadFromMemory(width, height, imagePixels);
    });
  }
  setTextAlign(inHorizontalTextAlign, inVerticalTextAlign) {
    this._horizontalTextAlign = inHorizontalTextAlign;
    this._verticalTextAlign = inVerticalTextAlign;
    return this;
  }
  setTextScale(inScale) {
    this._textScale = inScale;
    return this;
  }
  setTextColor(inRed, inGreen, inBlue) {
    this._textColor[0] = inRed;
    this._textColor[1] = inGreen;
    this._textColor[2] = inBlue;
    return this;
  }
  pushText(inMessage, inPosition) {
    if (inMessage.length === 0) {
      return this;
    }
    if (this._textScale <= 0) {
      return this;
    }
    const allLineWidth = [0];
    for (let ii = 0;ii < inMessage.length; ++ii) {
      if (inMessage[ii] == "\n") {
        allLineWidth.push(0);
      } else {
        allLineWidth[allLineWidth.length - 1] += 1;
      }
    }
    if (allLineWidth.length === 0) {
      return this;
    }
    let lineIndex = 0;
    const currPos = [0, 0];
    const hScale = this._textScale * 0.5;
    switch (this._horizontalTextAlign) {
      case "left":
        currPos[0] = inPosition[0];
        break;
      case "centered":
        currPos[0] = inPosition[0] - allLineWidth[lineIndex] * hScale + hScale;
        break;
      case "right":
        currPos[0] = inPosition[0] - allLineWidth[lineIndex] * this._textScale + this._textScale;
        break;
    }
    switch (this._verticalTextAlign) {
      case "top":
        currPos[1] = inPosition[1];
        break;
      case "centered":
        currPos[1] = inPosition[1] + allLineWidth.length * hScale - hScale;
        break;
      case "bottom":
        currPos[1] = inPosition[1] - (allLineWidth.length - 1) * this._textScale;
        break;
    }
    for (let ii = 0;ii < inMessage.length; ++ii) {
      const letter = inMessage[ii];
      if (letter == "\n") {
        lineIndex += 1;
        switch (this._horizontalTextAlign) {
          case "left":
            currPos[0] = inPosition[0];
            break;
          case "centered":
            currPos[0] = inPosition[0] - allLineWidth[lineIndex] * hScale + hScale;
            break;
          case "right":
            currPos[0] = inPosition[0] - allLineWidth[lineIndex] * this._textScale + this._textScale;
            break;
        }
        currPos[1] -= this._textScale;
      } else {
        this._pushLetter(letter, currPos);
        currPos[0] += this._textScale;
      }
    }
    return this;
  }
  _pushLetter(inCharacter, inPosition) {
    if (this._currentSize + 90 >= this._buffer.length) {
      return;
    }
    const texCoord = this._texCoordMap.get(inCharacter);
    if (!texCoord)
      throw new Error(`fail to find a letter, letter=${inCharacter}`);
    for (let yy = -1;yy <= 1; ++yy) {
      for (let xx = -1;xx <= 1; ++xx) {
        this._buffer[this._currentSize++] = inPosition[0] + 2 * xx;
        this._buffer[this._currentSize++] = inPosition[1] + 2 * yy;
        this._buffer[this._currentSize++] = -0.1;
        this._buffer[this._currentSize++] = texCoord[0];
        this._buffer[this._currentSize++] = texCoord[1];
        this._buffer[this._currentSize++] = 0;
        this._buffer[this._currentSize++] = 0;
        this._buffer[this._currentSize++] = 0;
        this._buffer[this._currentSize++] = this._textScale;
      }
    }
    this._buffer[this._currentSize++] = inPosition[0];
    this._buffer[this._currentSize++] = inPosition[1];
    this._buffer[this._currentSize++] = 0;
    this._buffer[this._currentSize++] = texCoord[0];
    this._buffer[this._currentSize++] = texCoord[1];
    this._buffer[this._currentSize++] = this._textColor[0];
    this._buffer[this._currentSize++] = this._textColor[1];
    this._buffer[this._currentSize++] = this._textColor[2];
    this._buffer[this._currentSize++] = this._textScale;
  }
  flush(composedMatrix) {
    if (this._currentSize === 0) {
      return this;
    }
    this._shader.bind((boundShader) => {
      boundShader.setMatrix4Uniform("u_composedMatrix", composedMatrix);
      boundShader.setTextureUniform("u_texture", this._texture, 0);
      this._geometry.allocateBuffer(1, this._buffer, this._currentSize);
      this._geometry.setInstancedCount(this._currentSize / 9);
      this._geometry.render();
    });
    Texture.unbind();
    this.clear();
    return this;
  }
  clear() {
    this._currentSize = 0;
    return this;
  }
}
// src/local-framework/graphics/renderers/widgets/index.ts
var exports_widgets = {};
__export(exports_widgets, {
  renderFpsMeter: () => {
    {
      return renderFpsMeter;
    }
  },
  addKeysTouchesWidgets: () => {
    {
      return addKeysTouchesWidgets;
    }
  },
  addKeyStrokesWidgets: () => {
    {
      return addKeyStrokesWidgets;
    }
  },
  addArrowStrokesWidgets: () => {
    {
      return addArrowStrokesWidgets;
    }
  }
});

// src/local-framework/graphics/renderers/widgets/renderControls.ts
var defaultColor = [0.2, 0.2, 0.2];
var activatedColor = [0.2, 0.6, 0.2];
var _renderIndicator = (currIndicator, stackRenderers, textRenderer) => {
  const { center } = currIndicator;
  stackRenderers.pushCenteredRectangle(exports_vec3.fromValues(center[0], center[1], -0.3), currIndicator.size, [0, 0, 0]);
  stackRenderers.pushCenteredRectangle(exports_vec3.fromValues(center[0], center[1], -0.2), [currIndicator.size[0] - 2, currIndicator.size[1] - 2], currIndicator.color);
  if (currIndicator.text) {
    textRenderer.setTextScale(16).setTextAlign("centered", "centered").pushText(currIndicator.text, center).setTextAlign("left", "top");
  }
  if (currIndicator.lines) {
    currIndicator.lines.forEach((currLine) => {
      stackRenderers.pushThickLine([center[0] + currLine.a[0], center[1] + currLine.a[1], 0], [center[0] + currLine.b[0], center[1] + currLine.b[1], 0], currLine.thickness, currLine.color);
    });
  }
};
var addKeyStrokesWidgets = (inPos, stackRenderers, textRenderer) => {
  _renderIndicator({
    center: [inPos[0], inPos[1]],
    size: [40, 40],
    text: "A\nQ",
    color: GlobalKeyboardManager.isPressed("A", "Q") ? activatedColor : defaultColor
  }, stackRenderers, textRenderer);
  _renderIndicator({
    center: [inPos[0] + 45, inPos[1]],
    size: [40, 40],
    text: "S",
    color: GlobalKeyboardManager.isPressed("S") ? activatedColor : defaultColor
  }, stackRenderers, textRenderer);
  _renderIndicator({
    center: [inPos[0] + 45, inPos[1] + 45],
    size: [40, 40],
    text: "W\nZ",
    color: GlobalKeyboardManager.isPressed("W", "Z") ? activatedColor : defaultColor
  }, stackRenderers, textRenderer);
  _renderIndicator({
    center: [inPos[0] + 90, inPos[1]],
    size: [40, 40],
    text: "D",
    color: GlobalKeyboardManager.isPressed("D") ? activatedColor : defaultColor
  }, stackRenderers, textRenderer);
};
var addArrowStrokesWidgets = (inPos, stackRenderers, textRenderer) => {
  _renderIndicator({
    center: [inPos[0], inPos[1]],
    size: [40, 40],
    lines: [
      { a: [15, 0], b: [-8, 0], thickness: 6, color: [1, 1, 1] },
      { a: [0, 10], b: [-12, -2], thickness: 6, color: [1, 1, 1] },
      { a: [0, -10], b: [-12, 2], thickness: 6, color: [1, 1, 1] }
    ],
    color: GlobalKeyboardManager.isPressed("ArrowLeft") ? activatedColor : defaultColor
  }, stackRenderers, textRenderer);
  _renderIndicator({
    center: [inPos[0] + 45, inPos[1]],
    size: [40, 40],
    lines: [
      { a: [0, 15], b: [0, -8], thickness: 6, color: [1, 1, 1] },
      { a: [10, 0], b: [-2, -12], thickness: 6, color: [1, 1, 1] },
      { a: [-10, 0], b: [2, -12], thickness: 6, color: [1, 1, 1] }
    ],
    color: GlobalKeyboardManager.isPressed("ArrowDown") ? activatedColor : defaultColor
  }, stackRenderers, textRenderer);
  _renderIndicator({
    center: [inPos[0] + 45, inPos[1] + 45],
    size: [40, 40],
    lines: [
      { a: [0, -15], b: [0, 8], thickness: 6, color: [1, 1, 1] },
      { a: [10, 0], b: [-2, 12], thickness: 6, color: [1, 1, 1] },
      { a: [-10, 0], b: [2, 12], thickness: 6, color: [1, 1, 1] }
    ],
    color: GlobalKeyboardManager.isPressed("ArrowUp") ? activatedColor : defaultColor
  }, stackRenderers, textRenderer);
  _renderIndicator({
    center: [inPos[0] + 90, inPos[1]],
    size: [40, 40],
    lines: [
      { a: [-15, 0], b: [8, 0], thickness: 6, color: [1, 1, 1] },
      { a: [0, 10], b: [12, -2], thickness: 6, color: [1, 1, 1] },
      { a: [0, -10], b: [12, 2], thickness: 6, color: [1, 1, 1] }
    ],
    color: GlobalKeyboardManager.isPressed("ArrowRight") ? activatedColor : defaultColor
  }, stackRenderers, textRenderer);
};
var addKeysTouchesWidgets = (inCanvasElement, inPos, stackRenderers, textRenderer) => {
  if (GlobalTouchManager.isSupported(inCanvasElement)) {
    _renderIndicator({
      center: [inPos[0] + 115, inPos[1]],
      size: [230, 60],
      text: "Touch Events\nSupported\n(double tap)",
      color: [0, 0.5, 0]
    }, stackRenderers, textRenderer);
  } else {
    _renderIndicator({
      center: [inPos[0] + 115, inPos[1]],
      size: [230, 60],
      text: "Touch Events\nNot Supported",
      color: [0.5, 0, 0]
    }, stackRenderers, textRenderer);
  }
  if (GlobalPointerLockManager.canBePointerLocked(inCanvasElement)) {
    _renderIndicator({
      center: [inPos[0] + 105, inPos[1] + 70],
      size: [210, 60],
      text: "Mouse\nSupported",
      color: [0, 0.5, 0]
    }, stackRenderers, textRenderer);
  } else {
    _renderIndicator({
      center: [inPos[0] + 105, inPos[1] + 70],
      size: [210, 60],
      text: "Mouse Events\nNot Supported",
      color: [0.5, 0, 0]
    }, stackRenderers, textRenderer);
  }
};
// src/local-framework/graphics/renderers/widgets/renderFpsMeter.ts
var renderFpsMeter = (inPos, inSize, inFrameProfiler, inStackRenderers, inTextRenderer, inShowFps = false) => {
  const k_divider = 5;
  const k_verticalSize = Math.ceil(inFrameProfiler.maxDelta / k_divider) * k_divider;
  {
    inStackRenderers.pushOriginBoundRectangle(inPos, inSize, [0, 0, 0, 0.5]);
    const allVertices = [
      [inPos[0] + inSize[0] * 0, inPos[1] + inSize[1] * 0, 0],
      [inPos[0] + inSize[0] * 1, inPos[1] + inSize[1] * 0, 0],
      [inPos[0] + inSize[0] * 1, inPos[1] + inSize[1] * 1, 0],
      [inPos[0] + inSize[0] * 0, inPos[1] + inSize[1] * 1, 0]
    ];
    inStackRenderers.pushLine(allVertices[0], allVertices[1], [1, 1, 1]);
    inStackRenderers.pushLine(allVertices[1], allVertices[2], [1, 1, 1]);
    inStackRenderers.pushLine(allVertices[2], allVertices[3], [1, 1, 1]);
    inStackRenderers.pushLine(allVertices[3], allVertices[0], [1, 1, 1]);
  }
  {
    for (let currDivider = k_divider;currDivider < k_verticalSize; currDivider += k_divider) {
      const ratio = currDivider / k_verticalSize;
      const pointA = [inPos[0] + 0, inPos[1] + inSize[1] * ratio, 0];
      const pointB = [inPos[0] + inSize[0], inPos[1] + inSize[1] * ratio, 0];
      inStackRenderers.pushLine(pointA, pointB, [0.5, 0.5, 0.5]);
    }
  }
  {
    if (inFrameProfiler.framesDelta.length >= 2) {
      const widthStep = inSize[0] / inFrameProfiler.framesDelta.length;
      let prevDelta = inFrameProfiler.framesDelta[0];
      let prevCoordX = 0;
      let prevCoordY = inSize[1] * prevDelta / k_verticalSize;
      for (let ii = 1;ii < inFrameProfiler.framesDelta.length; ++ii) {
        const currDelta = inFrameProfiler.framesDelta[ii];
        const currCoordX = ii * widthStep;
        const currCoordY = inSize[1] * currDelta / k_verticalSize;
        const pointA = [inPos[0] + prevCoordX, inPos[1] + prevCoordY, 0];
        const pointB = [inPos[0] + currCoordX, inPos[1] + currCoordY, 0];
        inStackRenderers.pushLine(pointA, pointB, [1, 1, 1]);
        prevDelta = currDelta;
        prevCoordX = currCoordX;
        prevCoordY = currCoordY;
      }
    }
  }
  {
    const k_textScale = 14;
    const k_textHScale = k_textScale * 0.5;
    const averageValue = inFrameProfiler.averageDelta;
    const maxValue = inFrameProfiler.maxDelta;
    const minValue = inFrameProfiler.minDelta;
    let averageStr = `~${averageValue.toFixed(0)}ms`;
    let maxStr = `<${maxValue}ms`;
    let minStr = `>${minValue}ms`;
    if (inShowFps === true) {
      const _getFpsStr = (inVal) => inVal < 999 ? inVal.toFixed(0) : "???";
      averageStr += `\n~${_getFpsStr(1000 / averageValue)}fps`;
      maxStr += `\n<${_getFpsStr(1000 / maxValue)}fps`;
      minStr += `\n>${_getFpsStr(1000 / minValue)}fps`;
    }
    inTextRenderer.setTextScale(k_textScale).setTextAlign("left", "top").setTextColor(1, 1, 0.75).pushText(averageStr, [inPos[0] + 7, inPos[1] - 8]).setTextAlign("left", "centered").setTextColor(1, 0.75, 0.75).pushText(maxStr, [inPos[0] + inSize[0] + k_textHScale, inPos[1] + inSize[1] - k_textHScale * 1]).setTextColor(0.75, 1, 0.75).pushText(minStr, [inPos[0] + inSize[0] + k_textHScale, inPos[1] + k_textHScale * 1]).setTextColor(1, 1, 1);
  }
};
// src/local-framework/graphics/images/index.ts
var exports_images = {};
__export(exports_images, {
  getImageFromUrl: () => {
    {
      return getImageFromUrl;
    }
  },
  getImageFromBuffer: () => {
    {
      return getImageFromBuffer;
    }
  },
  fetchImageBuffer: () => {
    {
      return fetchImageBuffer;
    }
  }
});

// src/local-framework/graphics/images/getImageFromUrl.ts
var getImageFromUrl = (url) => {
  return new Promise((resolve, reject) => {
    const image = new Image;
    image.onerror = reject;
    image.onload = () => {
      resolve(image);
    };
    image.src = url;
  });
};
var fetchImageBuffer = async (url, onProgress) => {
  const response = await fetch(url);
  const reader = response.body.getReader();
  const contentLength = +response.headers.get("Content-Length");
  const contentType = response.headers.get("Content-Type");
  let lastPercent = 0;
  let receivedLength = 0;
  let chunks = [];
  while (true) {
    const { done, value } = await reader.read();
    if (done) {
      break;
    }
    chunks.push(value);
    receivedLength += value.length;
    if (onProgress) {
      onProgress(receivedLength, contentLength);
    }
  }
  const chunksAll = new Uint8Array(receivedLength);
  let position = 0;
  for (let chunk of chunks) {
    chunksAll.set(chunk, position);
    position += chunk.length;
  }
  return {
    buffer: chunksAll,
    type: contentType
  };
};
var getImageFromBuffer = async (buffer, type) => {
  return new Promise((resolve, reject) => {
    const image = new Image;
    image.onerror = reject;
    image.onload = () => {
      resolve(image);
    };
    image.src = URL.createObjectURL(new Blob([buffer], { type }));
  });
};
// src/local-framework/graphics/geometries/index.ts
var exports_geometries = {};
__export(exports_geometries, {
  makeSphere: () => {
    {
      return makeSphere;
    }
  },
  makeBox: () => {
    {
      return makeBox;
    }
  }
});

// src/local-framework/graphics/geometries/makeBox.ts
var makeBox = (inSize) => {
  const hSizeX = inSize[0] * 0.5;
  const hSizeY = inSize[1] * 0.5;
  const hSizeZ = inSize[2] * 0.5;
  const allNormals = [];
  allNormals.push([-1, 0, 0]);
  allNormals.push([1, 0, 0]);
  allNormals.push([0, -1, 0]);
  allNormals.push([0, 1, 0]);
  allNormals.push([0, 0, -1]);
  allNormals.push([0, 0, 1]);
  const allVertices = [];
  allVertices.push([-hSizeX, -hSizeY, -hSizeZ]);
  allVertices.push([+hSizeX, -hSizeY, -hSizeZ]);
  allVertices.push([-hSizeX, +hSizeY, -hSizeZ]);
  allVertices.push([+hSizeX, +hSizeY, -hSizeZ]);
  allVertices.push([-hSizeX, -hSizeY, +hSizeZ]);
  allVertices.push([+hSizeX, -hSizeY, +hSizeZ]);
  allVertices.push([-hSizeX, +hSizeY, +hSizeZ]);
  allVertices.push([+hSizeX, +hSizeY, +hSizeZ]);
  const allIndices = [];
  allIndices.push([0, 2, 1, 4]);
  allIndices.push([2, 3, 1, 4]);
  allIndices.push([4, 5, 6, 5]);
  allIndices.push([6, 5, 7, 5]);
  allIndices.push([1, 3, 5, 1]);
  allIndices.push([5, 3, 7, 1]);
  allIndices.push([0, 4, 2, 0]);
  allIndices.push([4, 6, 2, 0]);
  allIndices.push([2, 6, 3, 3]);
  allIndices.push([6, 7, 3, 3]);
  allIndices.push([0, 1, 4, 2]);
  allIndices.push([4, 1, 5, 2]);
  const vertices = [];
  for (const index of allIndices) {
    vertices.push({
      pos: exports_vec3.copy([0, 0, 0], allVertices[index[0]]),
      normal: exports_vec3.copy([0, 0, 0], allNormals[index[3]])
    });
    vertices.push({
      pos: exports_vec3.copy([0, 0, 0], allVertices[index[1]]),
      normal: exports_vec3.copy([0, 0, 0], allNormals[index[3]])
    });
    vertices.push({
      pos: exports_vec3.copy([0, 0, 0], allVertices[index[2]]),
      normal: exports_vec3.copy([0, 0, 0], allNormals[index[3]])
    });
  }
  return vertices;
};
// src/local-framework/graphics/geometries/makeSphere.ts
var _drawSpherePatch = (vertices, quality, radius, v01, v02, v03) => {
  if (quality <= 0) {
    vertices.push({
      pos: exports_vec3.scale(exports_vec3.create(), v01, radius),
      normal: exports_vec3.copy(exports_vec3.create(), v01)
    });
    vertices.push({
      pos: exports_vec3.scale(exports_vec3.create(), v03, radius),
      normal: exports_vec3.copy(exports_vec3.create(), v03)
    });
    vertices.push({
      pos: exports_vec3.scale(exports_vec3.create(), v02, radius),
      normal: exports_vec3.copy(exports_vec3.create(), v02)
    });
  } else {
    const v12 = exports_vec3.normalize(exports_vec3.create(), exports_vec3.lerp(exports_vec3.create(), v01, v02, 0.5));
    const v23 = exports_vec3.normalize(exports_vec3.create(), exports_vec3.lerp(exports_vec3.create(), v02, v03, 0.5));
    const v31 = exports_vec3.normalize(exports_vec3.create(), exports_vec3.lerp(exports_vec3.create(), v03, v01, 0.5));
    quality -= 1;
    _drawSpherePatch(vertices, quality, radius, v01, v12, v31);
    _drawSpherePatch(vertices, quality, radius, v12, v02, v23);
    _drawSpherePatch(vertices, quality, radius, v31, v23, v03);
    _drawSpherePatch(vertices, quality, radius, v12, v23, v31);
  }
};
var makeSphere = (quality, radius) => {
  const k_icx = 0.5257311121191336;
  const k_icz = 0.8506508083520399;
  const tmpVertices = [
    [-k_icx, 0, +k_icz],
    [+k_icx, 0, +k_icz],
    [-k_icx, 0, -k_icz],
    [+k_icx, 0, -k_icz],
    [0, +k_icz, +k_icx],
    [0, +k_icz, -k_icx],
    [0, -k_icz, +k_icx],
    [0, -k_icz, -k_icx],
    [+k_icz, +k_icx, 0],
    [-k_icz, +k_icx, 0],
    [+k_icz, -k_icx, 0],
    [-k_icz, -k_icx, 0]
  ];
  const tmpIndices = [
    [0, 4, 1],
    [0, 9, 4],
    [9, 5, 4],
    [4, 5, 8],
    [4, 8, 1],
    [8, 10, 1],
    [8, 3, 10],
    [5, 3, 8],
    [5, 2, 3],
    [2, 7, 3],
    [7, 10, 3],
    [7, 6, 10],
    [7, 11, 6],
    [11, 0, 6],
    [0, 1, 6],
    [6, 1, 10],
    [9, 0, 11],
    [9, 11, 2],
    [9, 2, 5],
    [7, 2, 11]
  ];
  const vertices = [];
  for (const index of tmpIndices) {
    _drawSpherePatch(vertices, quality, radius, tmpVertices[index[0]], tmpVertices[index[1]], tmpVertices[index[2]]);
  }
  return vertices;
};
// src/main/configuration.ts
var chunkGraphicSize = 30;
var chunkLogicSize = 8;
var chunkRange = 2;
var controllerMovingSpeed = 32;
var controllerMouseSensibility = 15;
var controllerKeyboardSensibility = Math.PI * 0.55;
var controllerTouchSensibility = 15;
var workerFile = "./dist/worker.js";
var workerTotal = 2;

// src/main/experiment/generation/internals/Vec3HashSet.ts
class Vec3HashSet {
  _hashSet = new Set;
  clear() {
    this._hashSet.clear();
  }
  add(inVec3) {
    this._hashSet.add(Vec3HashSet._getName(inVec3));
  }
  delete(inVec3) {
    this._hashSet.delete(Vec3HashSet._getName(inVec3));
  }
  has(inVec3) {
    this._hashSet.has(Vec3HashSet._getName(inVec3));
  }
  static _getName(inVec3) {
    return `${inVec3[0]}/${inVec3[1]}/${inVec3[2]}`;
  }
}
// src/main/experiment/generation/internals/WorkerManager.ts
class WorkerManager {
  _unusedWorkers = [];
  _inUseWorkers = [];
  _onWorkerResult;
  constructor(inOnWorkerResult) {
    this._onWorkerResult = inOnWorkerResult;
  }
  areAllWorkerAvailable() {
    return this._inUseWorkers.length === 0;
  }
  isWorkerAvailable() {
    return this._unusedWorkers.length > 0;
  }
  getInUseWorkersData() {
    return this._inUseWorkers.map((worker) => worker.data);
  }
  pushTask(inCallback) {
    if (!this.isWorkerAvailable()) {
      return false;
    }
    const currentWorker = this._unusedWorkers.pop();
    this._inUseWorkers.push(currentWorker);
    inCallback(currentWorker.data, (inPayload, inTransfer) => {
      currentWorker.instance.postMessage(inPayload, inTransfer);
    });
    return true;
  }
  addOneWorker(inWorkerFile, inWorkerData) {
    const newWorker = {
      instance: new Worker(inWorkerFile),
      data: inWorkerData
    };
    this._unusedWorkers.push(newWorker);
    const onWorkerMessage = (event) => {
      const index = this._inUseWorkers.indexOf(newWorker);
      if (index >= 0) {
        this._unusedWorkers.push(newWorker);
        this._inUseWorkers.splice(index, 1);
      }
      this._onWorkerResult(newWorker.data, event.data);
    };
    newWorker.instance.addEventListener("message", onWorkerMessage, false);
  }
}
// src/main/experiment/generation/internals/ChunkManager.ts
class ChunkManager {
  _def;
  _cameraPosition = exports_vec3.fromValues(0, 0, 0);
  _chunkPositionQueue = [];
  _savedIndex = [999, 999, 999];
  _unusedChunks = [];
  _usedChunks = [];
  _usedSet = new Vec3HashSet;
  constructor(inDef) {
    this._def = inDef;
  }
  clear() {
    this._chunkPositionQueue.length = 0;
    this._unusedChunks.forEach((chunk) => this._def.releaseGeometry(chunk.geometry));
    this._unusedChunks.length = 0;
    this._usedChunks.forEach((chunk) => this._def.releaseGeometry(chunk.geometry));
    this._usedChunks.length = 0;
    this._usedSet.clear();
  }
  isEmpty() {
    return this._usedChunks.length === 0;
  }
  isNotDone() {
    return this._chunkPositionQueue.length > 0;
  }
  getChunks() {
    return this._usedChunks;
  }
  pushNew(inIndexPosition, inRealPosition, inGeometryDataBuffer, inGeometryDataLength, inGeometryUsedLength) {
    const geometry = this._def.acquireGeometry(inGeometryDataLength);
    const subBuffer = inGeometryDataBuffer.slice(0, inGeometryUsedLength);
    if (this._unusedChunks.length === 0) {
      this._usedChunks.push({
        realPosition: [...inRealPosition],
        indexPosition: [...inIndexPosition],
        geometry,
        isVisible: false,
        isDirty: true,
        geometryFloat32buffer: new Float32Array(subBuffer),
        geometryBufferSizeUsed: inGeometryUsedLength
      });
    } else {
      const reused = this._unusedChunks.pop();
      reused.realPosition = [...inRealPosition];
      reused.indexPosition = [...inIndexPosition];
      reused.isVisible = false;
      reused.isDirty = true;
      reused.geometryFloat32buffer = new Float32Array(subBuffer);
      reused.geometryBufferSizeUsed = inGeometryUsedLength;
      this._usedChunks.push(reused);
    }
    this._usedSet.add(inIndexPosition);
    this._def.onChunkCreated();
  }
  update(cameraPosition, inWorkerManager) {
    this._updateGeneration(cameraPosition, inWorkerManager);
    for (const currChunk of this._usedChunks) {
      const isVisible = this._def.chunkIsVisible(currChunk.realPosition);
      currChunk.isVisible = isVisible;
    }
    for (const currChunk of this._usedChunks) {
      if (!currChunk.isVisible || !currChunk.isDirty) {
        continue;
      }
      currChunk.geometry.update(currChunk.realPosition, currChunk.geometryBufferSizeUsed, currChunk.geometryFloat32buffer);
      currChunk.isDirty = false;
      break;
    }
  }
  _updateGeneration(inCameraPosition, inWorkerManager) {
    exports_vec3.copy(this._cameraPosition, inCameraPosition);
    const currIndex = [
      Math.floor(inCameraPosition[0] / this._def.chunkGraphicSize),
      Math.floor(inCameraPosition[1] / this._def.chunkGraphicSize),
      Math.floor(inCameraPosition[2] / this._def.chunkGraphicSize)
    ];
    let needRefresh = false;
    if (this._usedChunks.length === 0 && inWorkerManager.areAllWorkerAvailable()) {
      needRefresh = true;
    }
    if (!needRefresh && !exports_vec3.exactEquals(currIndex, this._savedIndex)) {
      needRefresh = true;
    }
    if (needRefresh === false) {
      return;
    }
    exports_vec3.copy(this._savedIndex, currIndex);
    this._chunkPositionQueue.length = 0;
    const { chunkGenerationRange } = this._def;
    const minChunkPos = [
      Math.floor(currIndex[0] - chunkGenerationRange),
      Math.floor(currIndex[1] - chunkGenerationRange),
      Math.floor(currIndex[2] - chunkGenerationRange)
    ];
    const maxChunkPos = [
      Math.floor(currIndex[0] + chunkGenerationRange),
      Math.floor(currIndex[1] + chunkGenerationRange),
      Math.floor(currIndex[2] + chunkGenerationRange)
    ];
    for (let ii = 0;ii < this._usedChunks.length; ) {
      const { indexPosition } = this._usedChunks[ii];
      const isOutOfRange = indexPosition[0] < minChunkPos[0] || indexPosition[0] > maxChunkPos[0] || indexPosition[1] < minChunkPos[1] || indexPosition[1] > maxChunkPos[1] || indexPosition[2] < minChunkPos[2] || indexPosition[2] > maxChunkPos[2];
      if (isOutOfRange) {
        this._def.releaseGeometry(this._usedChunks[ii].geometry);
        const removedChunks = this._usedChunks.splice(ii, 1);
        this._unusedChunks.push(removedChunks[0]);
        this._usedSet.delete(indexPosition);
        this._def.onChunkDiscarded();
      } else {
        ++ii;
      }
    }
    const currPos = [0, 0, 0];
    for (currPos[2] = minChunkPos[2];currPos[2] <= maxChunkPos[2]; ++currPos[2]) {
      for (currPos[1] = minChunkPos[1];currPos[1] <= maxChunkPos[1]; ++currPos[1]) {
        for (currPos[0] = minChunkPos[0];currPos[0] <= maxChunkPos[0]; ++currPos[0]) {
          {
            const tmpIndex = this._usedChunks.findIndex((currChunk) => {
              return this._usedSet.has(currChunk.indexPosition);
            });
            if (tmpIndex >= 0) {
              return;
            }
          }
          {
            const tmpIndex = inWorkerManager.getInUseWorkersData().findIndex((currWorker) => {
              return exports_vec3.exactEquals(currWorker.processing.indexPosition, currPos);
            });
            if (tmpIndex >= 0) {
              return;
            }
          }
          this._chunkPositionQueue.push({
            indexPosition: [...currPos],
            realPosition: [
              currPos[0] * this._def.chunkGraphicSize,
              currPos[1] * this._def.chunkGraphicSize,
              currPos[2] * this._def.chunkGraphicSize
            ]
          });
        }
      }
    }
  }
  getBestNextChunkPosition() {
    if (this._chunkPositionQueue.length === 0) {
      return;
    }
    const _getDistanceToCamera = (chunkPosition) => {
      const chunkHSize = this._def.chunkGraphicSize * 0.5;
      const chunkCenter = [
        this._cameraPosition[0] - (chunkPosition[0] + chunkHSize),
        this._cameraPosition[1] - (chunkPosition[1] + chunkHSize),
        this._cameraPosition[2] - (chunkPosition[2] + chunkHSize)
      ];
      return exports_vec3.length(chunkCenter);
    };
    let bestIndex = -1;
    let bestMagnitude = -1;
    for (let ii = 0;ii < this._chunkPositionQueue.length; ++ii) {
      const { realPosition } = this._chunkPositionQueue[ii];
      if (!this._def.chunkIsVisible(realPosition)) {
        continue;
      }
      const magnitude = _getDistanceToCamera(realPosition);
      if (bestMagnitude >= 0 && bestMagnitude < magnitude) {
        continue;
      }
      bestIndex = ii;
      bestMagnitude = magnitude;
    }
    if (bestIndex < 0) {
      return;
    }
    return this._chunkPositionQueue.splice(bestIndex, 1)[0];
  }
}
// src/main/experiment/generation/ChunkGenerator.ts
class ChunkGenerator {
  _def;
  _geometryBufferSize;
  _dataBufferSize;
  _running = false;
  _chunkManager;
  _workerManager;
  _frameProfiler = new exports_system.metrics.FrameProfiler;
  constructor(def) {
    this._def = def;
    this._chunkManager = new ChunkManager({
      chunkGraphicSize: def.chunkGraphicSize,
      chunkGenerationRange: def.chunkGenerationRange,
      chunkLogicSize: def.chunkLogicSize,
      chunkIsVisible: def.chunkIsVisible,
      acquireGeometry: def.acquireGeometry,
      releaseGeometry: def.releaseGeometry,
      onChunkCreated: def.onChunkCreated,
      onChunkDiscarded: def.onChunkDiscarded
    });
    const onWorkerResult = (inWorkerData, inMessageData) => {
      const {
        indexPosition,
        realPosition,
        geometryFloat32buffer,
        geometryBufferSize,
        sizeUsed
      } = inMessageData;
      const currTime = Date.now();
      const delta = currTime - inMessageData.time;
      this._frameProfiler.pushDelta(delta);
      inWorkerData.geometryFloat32buffer = geometryFloat32buffer;
      inWorkerData.processing = undefined;
      if (!this._running) {
        return;
      }
      this._chunkManager.pushNew(indexPosition, realPosition, inWorkerData.geometryFloat32buffer, geometryBufferSize, sizeUsed);
      this._launchWorker();
    };
    this._workerManager = new WorkerManager(onWorkerResult);
    this._dataBufferSize = Math.pow(this._def.chunkLogicSize + 1 + 1, 3);
    this._geometryBufferSize = this._dataBufferSize * 20 * 6 * 3;
    for (let ii = 0;ii < this._def.workerTotal; ++ii) {
      this._workerManager.addOneWorker(this._def.workerFile, {
        geometryFloat32buffer: new Float32Array(this._geometryBufferSize)
      });
    }
  }
  start() {
    this._running = true;
  }
  stop() {
    if (!this._running)
      return;
    this._running = false;
    this._chunkManager.clear();
  }
  update(cameraPosition) {
    if (!this._running) {
      return;
    }
    this._chunkManager.update(cameraPosition, this._workerManager);
    this._launchWorker();
  }
  _launchWorker() {
    while (this._chunkManager.isNotDone() && this._workerManager.isWorkerAvailable()) {
      const nextPositionData = this._chunkManager.getBestNextChunkPosition();
      if (!nextPositionData) {
        break;
      }
      this._workerManager.pushTask((inWorkerData, inPushTask) => {
        inWorkerData.processing = nextPositionData;
        const payload = {
          realPosition: nextPositionData.realPosition,
          indexPosition: nextPositionData.indexPosition,
          geometryFloat32buffer: inWorkerData.geometryFloat32buffer,
          geometryBufferSize: this._geometryBufferSize,
          sizeUsed: 0,
          time: Date.now()
        };
        const transferable = [
          inWorkerData.geometryFloat32buffer.buffer
        ];
        inPushTask(payload, transferable);
      });
    }
  }
  getChunks() {
    return this._chunkManager.getChunks();
  }
  getFrameProfiler() {
    return this._frameProfiler;
  }
  getProcessingRealPositions() {
    return this._workerManager.getInUseWorkersData().map((workerData) => workerData.processing.realPosition);
  }
}

// src/main/experiment/webGLRenderer/renderers/scene/chunks-renderer/shaders/chunks-renderer.glsl.vert
var chunks_renderer_glsl_default = `
#version 300 es

precision highp float;

uniform mat4 u_composedMatrix;
uniform float u_sceneScale;
uniform float u_tileRepeat;

in vec3 a_vertex_position;
in vec3 a_vertex_normal;
in vec3 a_offset_origin;

out vec3 v_chunkSpacePosition;
out vec3 v_worldSpacePosition;
out vec3 v_worldSpaceNormal;

void main(void)
{
  vec3 chunkSpacePosition = a_vertex_position * u_sceneScale;

  v_chunkSpacePosition = a_vertex_position * u_tileRepeat;
  v_worldSpacePosition = a_offset_origin + chunkSpacePosition;
  v_worldSpaceNormal = a_vertex_normal;

  gl_Position = u_composedMatrix * vec4(v_worldSpacePosition, 1.0);
}
`.trim();

// src/main/experiment/webGLRenderer/renderers/scene/chunks-renderer/shaders/chunks-renderer.glsl.frag
var chunks_renderer_glsl_default2 = `
#version 300 es

precision lowp float;
precision highp sampler2DArray;

const float k_ambiantCoef = 0.1;
const vec3 k_specColor = vec3(1.0, 1.0, 1.0);

uniform sampler2DArray u_textureArray;

uniform vec3 u_eyePosition;

in vec3 v_chunkSpacePosition;
in vec3 v_worldSpacePosition;
in vec3 v_worldSpaceNormal;

out vec4 o_color;

vec4 _getColorValue()
{

  // current 3d texture coordinate
  vec3 flooredPos = vec3(
    v_chunkSpacePosition.x - floor(v_chunkSpacePosition.x),
    v_chunkSpacePosition.y - floor(v_chunkSpacePosition.y),
    v_chunkSpacePosition.z - floor(v_chunkSpacePosition.z)
  );

  vec3 blendWeights = abs( normalize( v_worldSpaceNormal.xyz ) );
  blendWeights = max( ( blendWeights - 0.2 ) * 7.0, 0.0 );
  blendWeights /= ( blendWeights.x + blendWeights.y + blendWeights.z );

  // horizontal texture coordinates -> should be a wall
  vec2 texCoordX = vec2(flooredPos.y, flooredPos.z);
  vec2 texCoordY = vec2(flooredPos.x, flooredPos.z);

  // vertical texture coord -> should be green grass
  vec2 texCoordZ = vec2(flooredPos.x, flooredPos.y);

  // horizontal color
  vec3 texColorX = texture( u_textureArray, vec3(texCoordX, 2) ).rgb;
  vec3 texColorY = texture( u_textureArray, vec3(texCoordY, 2) ).rgb;

  float specularRatioX = texture( u_textureArray, vec3(texCoordX, 3) ).r * blendWeights.x;
  float specularRatioY = texture( u_textureArray, vec3(texCoordY, 3) ).r * blendWeights.y;
  float specularRatio = max( specularRatioX, specularRatioY );

  // vertical color
  vec3 texColorZ = vec3(0.0);
  if (v_worldSpaceNormal.z < 0.0)
  {
    texColorZ = texture( u_textureArray, vec3(texCoordZ, 0) ).rgb;
  }
  else
  {
    texColorZ = texture( u_textureArray, vec3(texCoordZ, 1) ).rgb;
  }

  return vec4(
    texColorX * blendWeights.xxx +
    texColorY * blendWeights.yyy +
    texColorZ * blendWeights.zzz,
    specularRatio
  );
}

vec3 _getLightColor(vec4 currentColor)
{
  vec3 normal = normalize(v_worldSpaceNormal);
  vec3 lightDir = normalize(u_eyePosition - v_worldSpacePosition);

  float diffuseCoef = max(dot(lightDir,v_worldSpaceNormal.xyz), 0.0);
  float specularCoef = 0.0;

  if (diffuseCoef > 0.0)
  {
    // specular

    vec3 reflectDir = reflect(-lightDir, normal);
    vec3 viewDir = normalize(u_eyePosition - v_worldSpacePosition);

    float specAngle = max(dot(reflectDir, viewDir), 0.0);
    specularCoef = pow(specAngle, 16.0);
  }

  vec3 diffuseColor = currentColor.rgb * (k_ambiantCoef + diffuseCoef);
  vec3 specularColor = k_specColor * specularCoef * currentColor.a;

  return diffuseColor + specularColor;
}

void main(void)
{
  o_color = vec4(_getLightColor(_getColorValue()), 1.0);
}
`.trim();

// src/main/experiment/webGLRenderer/renderers/scene/chunks-renderer/ChunksRenderer.ts
var { GeometryWrapper, ShaderProgram: ShaderProgram3, TextureArray: TextureArray3, FenceSync: FenceSync2 } = exports_graphics.webgl2;

class LiveGeometry {
  _origin = exports_vec3.fromValues(0, 0, 0);
  _size = 0;
  _geometry;
  _fence = new FenceSync2;
  constructor(inShader, inGeometryDefinition, preAllocatedSize) {
    this._geometry = new GeometryWrapper.Geometry(inShader, inGeometryDefinition);
    this._geometry.setFloatBufferSize(0, preAllocatedSize);
    this._geometry.setFloatBufferSize(1, 12);
  }
  update(inOrigin, inBufferLength, inBuffer) {
    exports_vec3.copy(this._origin, inOrigin);
    this._size = inBufferLength;
    this._geometry.updateBuffer(0, inBuffer, inBufferLength);
    this._geometry.setPrimitiveCount(inBufferLength / 6);
    const newBuffer = new Float32Array([inOrigin[0], inOrigin[1], inOrigin[2]]);
    this._geometry.updateBuffer(1, newBuffer, newBuffer.length);
    this._geometry.setInstancedCount(1);
    this._fence.start();
  }
  render() {
    if (this._fence.isStarted()) {
      if (this._fence.isSignaled()) {
        this._fence.dispose();
      } else {
        return;
      }
    }
    this._geometry.render();
  }
  reuse() {
    this._fence.dispose();
  }
  getOrigin() {
    return this._origin;
  }
  getSize() {
    return this._size;
  }
}

class ChunksRenderer {
  _shader;
  _textureArray = new TextureArray3;
  _geometryDefinition;
  _unusedGeometries = [];
  _inUseGeometries = [];
  constructor() {
    this._shader = new ShaderProgram3("ChunksRenderer", {
      vertexSrc: chunks_renderer_glsl_default,
      fragmentSrc: chunks_renderer_glsl_default2,
      attributes: ["a_vertex_position", "a_vertex_normal", "a_offset_origin"],
      uniforms: [
        "u_composedMatrix",
        "u_eyePosition",
        "u_sceneScale",
        "u_tileRepeat",
        "u_textureArray"
      ]
    });
    const geoBuilder = new GeometryWrapper.GeometryBuilder;
    geoBuilder.reset().setPrimitiveType("triangles").addVbo().addVboAttribute("a_vertex_position", "vec3f").addVboAttribute("a_vertex_normal", "vec3f").setStride(24).addVbo().setVboAsInstanced().addVboAttribute("a_offset_origin", "vec3f").setStride(12);
    this._geometryDefinition = geoBuilder.getDef();
  }
  async initialize() {
    const image = await exports_graphics.images.getImageFromUrl("assets/composed.png");
    this._textureArray.initialize();
    this._textureArray.bind((bound) => {
      bound.loadFromImage(512, 512, 4, image);
    });
    this._shader.bind((boundShader) => {
      boundShader.setTextureUniform("u_textureArray", this._textureArray, 1);
    });
  }
  acquireGeometry(inSize) {
    if (this._unusedGeometries.length > 0) {
      const reusedGeom = this._unusedGeometries.pop();
      this._inUseGeometries.push(reusedGeom);
      return reusedGeom;
    }
    const newGeom = new LiveGeometry(this._shader, this._geometryDefinition, inSize);
    this._inUseGeometries.push(newGeom);
    return newGeom;
  }
  releaseGeometry(geom) {
    const geomImpl = geom;
    const index = this._inUseGeometries.indexOf(geomImpl);
    if (index < 0) {
      return;
    }
    geomImpl.reuse();
    this._unusedGeometries.push(geomImpl);
    this._inUseGeometries.splice(index, 1);
  }
  render(inCamera, inFrustumCulling, inChunkSize) {
    const eyePos = inCamera.getEye();
    this._shader.bind((boundShader) => {
      boundShader.setMatrix4Uniform("u_composedMatrix", inCamera.getComposedMatrix());
      boundShader.setFloat3Uniform("u_eyePosition", eyePos[0], eyePos[1], eyePos[2]);
      boundShader.setFloat1Uniform("u_sceneScale", inChunkSize);
      boundShader.setFloat1Uniform("u_tileRepeat", 2);
      const toRender = this._inUseGeometries.map((geometry) => {
        const k_size = geometry.getSize();
        const k_hSize = k_size * 0.5;
        const centerX = geometry.getOrigin()[0] + k_hSize;
        const centerY = geometry.getOrigin()[1] + k_hSize;
        const centerZ = geometry.getOrigin()[2] + k_hSize;
        return {
          geometry,
          center: [centerX, centerY, centerZ],
          distance: 0
        };
      }).filter(({ center, geometry }) => inFrustumCulling.cubeInFrustumVec3(center, geometry.getSize())).map((sortableGeo) => {
        sortableGeo.distance = exports_vec3.distance(sortableGeo.center, inCamera.getEye());
        return sortableGeo;
      }).sort((a, b) => a.distance - b.distance);
      toRender.forEach((sortableGeo) => sortableGeo.geometry.render());
    });
  }
}
// src/main/experiment/webGLRenderer/renderers/scene/triangle-cubes-renderer/shaders/triangle-cubes-renderer.glsl.vert
var triangle_cubes_renderer_glsl_default = `
#version 300 es

precision highp float;

uniform mat4 u_composedMatrix;

in vec3  a_vertex_position;

in vec3  a_offset_center;
in float a_offset_scale;
in vec4  a_offset_color;

flat out vec4 v_color;

void main(void)
{
  vec3 position = a_offset_center + a_vertex_position * a_offset_scale;

  gl_Position = u_composedMatrix * vec4(position, 1.0);

  v_color = a_offset_color;
}
`.trim();

// src/main/experiment/webGLRenderer/renderers/scene/triangle-cubes-renderer/shaders/triangle-cubes-renderer.glsl.frag
var triangle_cubes_renderer_glsl_default2 = `
#version 300 es

precision lowp float;

flat in vec4 v_color;

out vec4 out_color;

void main(void)
{
  out_color = v_color;
}
`.trim();

// src/main/experiment/webGLRenderer/renderers/scene/triangle-cubes-renderer/TriangleCubesRenderer.ts
var { ShaderProgram: ShaderProgram4, GeometryWrapper: GeometryWrapper2 } = exports_graphics.webgl2;
var generateCubeVertices = (inOrigin, inSize) => {
  const vertices = [];
  const hSizeX = inSize[0] * 0.5;
  const hSizeY = inSize[1] * 0.5;
  const hSizeZ = inSize[2] * 0.5;
  const tmpVertices = [
    [inOrigin[0] - hSizeX, inOrigin[1] - hSizeY, inOrigin[2] - hSizeZ],
    [inOrigin[0] + hSizeX, inOrigin[1] - hSizeY, inOrigin[2] - hSizeZ],
    [inOrigin[0] - hSizeX, inOrigin[1] + hSizeY, inOrigin[2] - hSizeZ],
    [inOrigin[0] + hSizeX, inOrigin[1] + hSizeY, inOrigin[2] - hSizeZ],
    [inOrigin[0] - hSizeX, inOrigin[1] - hSizeY, inOrigin[2] + hSizeZ],
    [inOrigin[0] + hSizeX, inOrigin[1] - hSizeY, inOrigin[2] + hSizeZ],
    [inOrigin[0] - hSizeX, inOrigin[1] + hSizeY, inOrigin[2] + hSizeZ],
    [inOrigin[0] + hSizeX, inOrigin[1] + hSizeY, inOrigin[2] + hSizeZ]
  ];
  const indices = [];
  indices.push(0, 2, 1);
  indices.push(2, 3, 1);
  indices.push(4, 5, 6);
  indices.push(6, 5, 7);
  indices.push(1, 3, 5);
  indices.push(5, 3, 7);
  indices.push(0, 4, 2);
  indices.push(4, 6, 2);
  indices.push(2, 6, 3);
  indices.push(6, 7, 3);
  indices.push(0, 1, 4);
  indices.push(4, 1, 5);
  for (const index of indices) {
    vertices.push(tmpVertices[index]);
  }
  return vertices;
};
var generateWireFrameCubeVertices = (inSize) => {
  const rectSize = 0.001953125;
  const rectPos = 0.5 - rectSize * 0.5;
  const vertices = [
    ...generateCubeVertices([inSize * -rectPos, inSize * -rectPos, 0], [rectSize, rectSize, 1]),
    ...generateCubeVertices([inSize * +rectPos, inSize * -rectPos, 0], [rectSize, rectSize, 1]),
    ...generateCubeVertices([inSize * +rectPos, inSize * +rectPos, 0], [rectSize, rectSize, 1]),
    ...generateCubeVertices([inSize * -rectPos, inSize * +rectPos, 0], [rectSize, rectSize, 1]),
    ...generateCubeVertices([inSize * -rectPos, 0, inSize * -rectPos], [rectSize, 1, rectSize]),
    ...generateCubeVertices([inSize * +rectPos, 0, inSize * -rectPos], [rectSize, 1, rectSize]),
    ...generateCubeVertices([inSize * +rectPos, 0, inSize * +rectPos], [rectSize, 1, rectSize]),
    ...generateCubeVertices([inSize * -rectPos, 0, inSize * +rectPos], [rectSize, 1, rectSize]),
    ...generateCubeVertices([0, inSize * -rectPos, inSize * -rectPos], [1, rectSize, rectSize]),
    ...generateCubeVertices([0, inSize * +rectPos, inSize * -rectPos], [1, rectSize, rectSize]),
    ...generateCubeVertices([0, inSize * +rectPos, inSize * +rectPos], [1, rectSize, rectSize]),
    ...generateCubeVertices([0, inSize * -rectPos, inSize * +rectPos], [1, rectSize, rectSize])
  ];
  const finalVertices = [];
  vertices.forEach((vertex) => {
    finalVertices.push(vertex[0], vertex[1], vertex[2]);
  });
  return finalVertices;
};
var k_bufferSize6 = 32768;

class TriangleCubesRenderer {
  _shader;
  _geometry;
  _buffer = new Float32Array(k_bufferSize6);
  _currentSize = 0;
  constructor() {
    this._shader = new ShaderProgram4("TriangleCubesRenderer", {
      vertexSrc: triangle_cubes_renderer_glsl_default,
      fragmentSrc: triangle_cubes_renderer_glsl_default2,
      attributes: [
        "a_vertex_position",
        "a_offset_center",
        "a_offset_scale",
        "a_offset_color"
      ],
      uniforms: ["u_composedMatrix"]
    });
    const geoBuilder = new GeometryWrapper2.GeometryBuilder;
    geoBuilder.reset().setPrimitiveType("triangles").addVbo().addVboAttribute("a_vertex_position", "vec3f").setStride(12).addVbo().setVboAsDynamic().setVboAsInstanced().addVboAttribute("a_offset_center", "vec3f").addVboAttribute("a_offset_scale", "float").addVboAttribute("a_offset_color", "vec4f").setStride(32);
    const vertices = generateWireFrameCubeVertices(1);
    this._geometry = new GeometryWrapper2.Geometry(this._shader, geoBuilder.getDef());
    this._geometry.allocateBuffer(0, vertices, vertices.length);
    this._geometry.setPrimitiveCount(vertices.length / 3);
    this._geometry.setFloatBufferSize(1, k_bufferSize6);
  }
  pushCenteredCube(inCenter, inScale, inColor) {
    if (this._currentSize + 8 >= this._buffer.length) {
      return;
    }
    this._buffer[this._currentSize++] = inCenter[0];
    this._buffer[this._currentSize++] = inCenter[1];
    this._buffer[this._currentSize++] = inCenter[2];
    this._buffer[this._currentSize++] = inScale;
    this._buffer[this._currentSize++] = inColor[0];
    this._buffer[this._currentSize++] = inColor[1];
    this._buffer[this._currentSize++] = inColor[2];
    this._buffer[this._currentSize++] = inColor[3] || 1;
  }
  pushOriginBoundCube(inOrigin, inScale, inColor) {
    if (this._currentSize + 8 >= this._buffer.length) {
      return;
    }
    const hScale = inScale * 0.5;
    this._buffer[this._currentSize++] = inOrigin[0] + hScale;
    this._buffer[this._currentSize++] = inOrigin[1] + hScale;
    this._buffer[this._currentSize++] = inOrigin[2] + hScale;
    this._buffer[this._currentSize++] = inScale;
    this._buffer[this._currentSize++] = inColor[0];
    this._buffer[this._currentSize++] = inColor[1];
    this._buffer[this._currentSize++] = inColor[2];
    this._buffer[this._currentSize++] = inColor[3] || 1;
  }
  flush(inCamera) {
    if (this._currentSize <= 0) {
      return;
    }
    this._shader.bind((boundShader) => {
      boundShader.setMatrix4Uniform("u_composedMatrix", inCamera.getComposedMatrix());
      this._geometry.updateBuffer(1, this._buffer, this._currentSize);
      this._geometry.setInstancedCount(this._currentSize / 8);
      this._geometry.render();
    });
    this.clear();
  }
  clear() {
    this._currentSize = 0;
  }
}
// src/main/experiment/webGLRenderer/renderers/hud/wireFrame-cubes-renderer/shaders/wireFrame-cubes-renderer.glsl.vert
var wireFrame_cubes_renderer_glsl_default = `
#version 300 es

precision highp float;

uniform mat4 u_composedMatrix;

in vec3  a_vertex_position;

in vec3  a_offset_center;
in float a_offset_scale;
in vec4  a_offset_color;

flat out vec4 v_color;

void main(void)
{
  vec3 position = a_offset_center + a_vertex_position * a_offset_scale;

  gl_Position = u_composedMatrix * vec4(position, 1.0);

  v_color = a_offset_color;
}
`.trim();

// src/main/experiment/webGLRenderer/renderers/hud/wireFrame-cubes-renderer/shaders/wireFrame-cubes-renderer.glsl.frag
var wireFrame_cubes_renderer_glsl_default2 = `
#version 300 es

precision lowp float;

flat in vec4 v_color;

out vec4 out_color;

void main(void)
{
  out_color = v_color;
}
`.trim();

// src/main/experiment/webGLRenderer/renderers/hud/wireFrame-cubes-renderer/WireFrameCubesRenderer.ts
var { ShaderProgram: ShaderProgram5, GeometryWrapper: GeometryWrapper3 } = exports_graphics.webgl2;
var generateWireFrameCubeVertices2 = (inSize) => {
  const hSize = inSize * 0.5;
  const vertices = [];
  vertices.push([+hSize, +hSize, +hSize]);
  vertices.push([-hSize, +hSize, +hSize]);
  vertices.push([+hSize, -hSize, +hSize]);
  vertices.push([-hSize, -hSize, +hSize]);
  vertices.push([+hSize, +hSize, -hSize]);
  vertices.push([-hSize, +hSize, -hSize]);
  vertices.push([+hSize, -hSize, -hSize]);
  vertices.push([-hSize, -hSize, -hSize]);
  const indices = [];
  indices.push(0, 1, 1, 3, 3, 2, 2, 0);
  indices.push(4, 5, 5, 7, 7, 6, 6, 4);
  indices.push(0, 4, 1, 5, 3, 7, 2, 6);
  const finalVertices = [];
  for (let ii = 0;ii < indices.length; ++ii) {
    const vertex = vertices[indices[ii]];
    finalVertices.push(vertex[0], vertex[1], vertex[2]);
  }
  return finalVertices;
};
var k_bufferSize7 = 32768;

class WireFrameCubesRenderer {
  _shader;
  _geometry;
  _buffer = new Float32Array(k_bufferSize7);
  _currentSize = 0;
  constructor() {
    this._shader = new ShaderProgram5("WireFrameCubesRenderer", {
      vertexSrc: wireFrame_cubes_renderer_glsl_default,
      fragmentSrc: wireFrame_cubes_renderer_glsl_default2,
      attributes: [
        "a_vertex_position",
        "a_offset_center",
        "a_offset_scale",
        "a_offset_color"
      ],
      uniforms: ["u_composedMatrix"]
    });
    const geoBuilder = new GeometryWrapper3.GeometryBuilder;
    geoBuilder.reset().setPrimitiveType("lines").addVbo().addVboAttribute("a_vertex_position", "vec3f").setStride(12).addVbo().setVboAsDynamic().setVboAsInstanced().addVboAttribute("a_offset_center", "vec3f").addVboAttribute("a_offset_scale", "float").addVboAttribute("a_offset_color", "vec4f").setStride(32);
    const vertices = generateWireFrameCubeVertices2(1);
    this._geometry = new GeometryWrapper3.Geometry(this._shader, geoBuilder.getDef());
    this._geometry.allocateBuffer(0, vertices, vertices.length);
    this._geometry.setPrimitiveCount(vertices.length / 3);
    this._geometry.setFloatBufferSize(1, k_bufferSize7);
  }
  pushCenteredCube(inCenter, inScale, inColor) {
    if (this._currentSize + 8 >= this._buffer.length) {
      return;
    }
    this._buffer[this._currentSize++] = inCenter[0];
    this._buffer[this._currentSize++] = inCenter[1];
    this._buffer[this._currentSize++] = inCenter[2];
    this._buffer[this._currentSize++] = inScale;
    this._buffer[this._currentSize++] = inColor[0];
    this._buffer[this._currentSize++] = inColor[1];
    this._buffer[this._currentSize++] = inColor[2];
    this._buffer[this._currentSize++] = inColor[3] || 1;
  }
  pushOriginBoundCube(inOrigin, inScale, inColor) {
    if (this._currentSize + 8 >= this._buffer.length) {
      return;
    }
    const hScale = inScale * 0.5;
    this._buffer[this._currentSize++] = inOrigin[0] + hScale;
    this._buffer[this._currentSize++] = inOrigin[1] + hScale;
    this._buffer[this._currentSize++] = inOrigin[2] + hScale;
    this._buffer[this._currentSize++] = inScale;
    this._buffer[this._currentSize++] = inColor[0];
    this._buffer[this._currentSize++] = inColor[1];
    this._buffer[this._currentSize++] = inColor[2];
    this._buffer[this._currentSize++] = inColor[3] || 1;
  }
  flush(composedMatrix) {
    if (this._currentSize <= 0) {
      return;
    }
    this._shader.bind((boundShader) => {
      boundShader.setMatrix4Uniform("u_composedMatrix", composedMatrix);
      this._geometry.updateBuffer(1, this._buffer, this._currentSize);
      this._geometry.setInstancedCount(this._currentSize / 8);
      this._geometry.render();
    });
    this.clear();
  }
  clear() {
    this._currentSize = 0;
  }
}
// src/main/experiment/webGLRenderer/WebGLRenderer.ts
var { GlobalMouseManager: GlobalMouseManager2, GlobalTouchManager: GlobalTouchManager2 } = exports_system.browser;
var { WebGLContext: WebGLContext14, ShaderProgram: ShaderProgram6 } = exports_graphics.webgl2;

class WebGLRenderer {
  _def;
  _viewportSize = exports_vec2.create();
  _frustumCulling = new exports_graphics.camera.FrustumCulling;
  _mainCamera = new exports_graphics.camera.Camera;
  _mainHudCamera = new exports_graphics.camera.Camera;
  onContextLost = null;
  onContextRestored = null;
  _scene;
  _hud;
  constructor(def) {
    this._def = def;
    WebGLContext14.initialize(this._def.canvasDomElement);
    const onContextLost = (event) => {
      event.preventDefault();
      console.log("context is lost");
      if (this.onContextLost) {
        this.onContextLost();
      }
    };
    const onContextRestored = () => {
      console.log("context is restored");
      WebGLContext14.initialize(this._def.canvasDomElement);
      if (this.onContextRestored) {
        this.onContextRestored();
      }
    };
    this._def.canvasDomElement.addEventListener("webglcontextlost", onContextLost, false);
    this._def.canvasDomElement.addEventListener("webglcontextrestored", onContextRestored, false);
    this._scene = {
      chunksRenderer: new ChunksRenderer,
      triangleCubesRenderer: new TriangleCubesRenderer
    };
    this._hud = {
      textRenderer: new exports_graphics.renderers.TextRenderer,
      stackRenderers: new exports_graphics.renderers.StackRenderers,
      wireFrameCubesRenderer: new WireFrameCubesRenderer,
      multipleBuffering: new exports_graphics.renderers.MultiBuffersRendering(this._def.canvasDomElement.width, this._def.canvasDomElement.height)
    };
    this.resize(this._def.canvasDomElement.width, this._def.canvasDomElement.height);
  }
  resize(width, height) {
    this._viewportSize[0] = width;
    this._viewportSize[1] = height;
    this._mainCamera.setViewportSize(width, height);
    this._mainCamera.setAsPerspective({ fovy: 70, near: 0.1, far: 70 });
    this._mainHudCamera.setViewportSize(width, height);
    this._mainHudCamera.setAsOrthogonal({
      left: -width * 0.5,
      right: +width * 0.5,
      top: -height * 0.5,
      bottom: +height * 0.5,
      near: -200,
      far: 200
    });
    this._mainHudCamera.setEye([+width * 0.5, +height * 0.5, 1]);
    this._mainHudCamera.setTarget([+width * 0.5, +height * 0.5, 0]);
    this._mainHudCamera.setUpAxis([0, 1, 0]);
    this._mainHudCamera.computeMatrices();
    this._hud.multipleBuffering.resize(width, height);
  }
  toggleContextLoss() {
    const gl = WebGLContext14.getContext();
    const extensionLoseContext = WebGLContext14.getExtensionLoseContext();
    if (extensionLoseContext) {
      if (gl.isContextLost()) {
        extensionLoseContext.restoreContext();
      } else {
        extensionLoseContext.loseContext();
      }
    }
  }
  contextIsLost() {
    const gl = WebGLContext14.getContext();
    return gl.isContextLost();
  }
  setOnContextLost(callback) {
    this.onContextLost = callback;
  }
  setOnContextRestored(callback) {
    this.onContextRestored = callback;
  }
  async init() {
    const gl = WebGLContext14.getContext();
    gl.clearColor(0, 0, 0, 1);
    gl.enable(gl.DEPTH_TEST);
    gl.depthFunc(gl.LESS);
    gl.disable(gl.BLEND);
    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_COLOR);
    gl.activeTexture(gl.TEXTURE0);
    gl.enable(gl.CULL_FACE);
    await this._scene.chunksRenderer.initialize();
  }
  getSize() {
    return this._viewportSize;
  }
  lookAt(inEye, inTarget, inUpAxis) {
    this._mainCamera.setEye(inEye);
    this._mainCamera.setTarget(inTarget);
    this._mainCamera.setUpAxis(inUpAxis);
    this._mainCamera.computeMatrices();
  }
  update() {
    GlobalMouseManager2.resetDeltas();
    GlobalTouchManager2.resetDeltas();
    this._frustumCulling.calculateFrustum(this._mainCamera.getProjectionMatrix(), this._mainCamera.getViewMatrix());
  }
  renderScene(callback) {
    const gl = WebGLContext14.getContext();
    const viewPos = this._mainCamera.getViewportPos();
    const viewSize = this._mainCamera.getViewportSize();
    gl.viewport(viewPos[0], viewPos[1], viewSize[0], viewSize[1]);
    gl.clearColor(0, 0, 0, 1);
    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
    callback();
  }
  renderHUD(callback) {
    const gl = WebGLContext14.getContext();
    const viewPos = this._mainHudCamera.getViewportPos();
    const viewSize = this._mainHudCamera.getViewportSize();
    gl.viewport(viewPos[0], viewPos[1], viewSize[0], viewSize[1]);
    gl.clear(gl.DEPTH_BUFFER_BIT);
    ShaderProgram6.unbind();
    callback();
  }
  flush() {
    const gl = exports_graphics.webgl2.WebGLContext.getContext();
    gl.flush();
  }
  get mainCamera() {
    return this._mainCamera;
  }
  get hudCamera() {
    return this._mainHudCamera;
  }
  get frustumCulling() {
    return this._frustumCulling;
  }
  get chunksRenderer() {
    return this._scene.chunksRenderer;
  }
  get triangleCubesRenderer() {
    return this._scene.triangleCubesRenderer;
  }
  get stackRenderers() {
    return this._hud.stackRenderers;
  }
  get wireFrameCubesRenderer() {
    return this._hud.wireFrameCubesRenderer;
  }
  get textRenderer() {
    return this._hud.textRenderer;
  }
  get multipleBuffering() {
    return this._hud.multipleBuffering;
  }
}

// src/main/experiment/webGLRenderer/renderers/hud/widgets/renderCurrentCoordinates.ts
var renderCurrentCoordinates = (inViewportSize, inChunkSize, inEyePos, inTextRenderer) => {
  const chunkCoord = [
    Math.floor(inEyePos[0] / inChunkSize),
    Math.floor(inEyePos[1] / inChunkSize),
    Math.floor(inEyePos[2] / inChunkSize)
  ];
  const allLines = [
    `Coordinates:`,
    `X: ${chunkCoord[0]}`,
    `Y: ${chunkCoord[1]}`,
    `Z: ${chunkCoord[2]}`
  ];
  const textsOrigin = [14, inViewportSize[1] - 200];
  inTextRenderer.setTextScale(14).setTextAlign("left", "top").pushText(allLines.join("\n"), textsOrigin);
};
// src/main/experiment/webGLRenderer/renderers/hud/widgets/renderGenerationMetrics.ts
var renderGenerationMetrics = (inViewportSize, inChunksCreated, inChunksDiscarded, inVisibleChunks, inTextRenderer) => {
  const textsOrigin = [
    inViewportSize[0] - 10,
    inViewportSize[1] - 10
  ];
  const text = [
    `Chunks\nGenerated:\n${inChunksCreated} <`,
    "",
    `Chunks\nDiscarded:\n${inChunksDiscarded} <`,
    "",
    `Live\nChunks:\n${inChunksCreated - inChunksDiscarded} <`,
    "",
    `Visible\nChunks:\n${inVisibleChunks} <`
  ].join("\n");
  inTextRenderer.setTextScale(14).setTextAlign("right", "top").pushText(text, textsOrigin);
};
// src/main/experiment/webGLRenderer/renderers/hud/widgets/utils/renderPerspectiveFrustum.ts
var renderPerspectiveFrustum = (inFovY, inAspect, inNear, inFar, eyePos, theta, phi, inStackRenderers) => {
  const fH = Math.tan(inFovY / 360 * Math.PI) * inNear;
  const fW = fH * inAspect;
  const nearLeft = -fW;
  const nearRight = +fW;
  const nearTop = +fH;
  const nearBottom = -fH;
  const farHalfZ = inFar * Math.sin(inFovY * Math.PI / 180);
  const farHalfY = farHalfZ * inAspect;
  const tmpVertices = [];
  tmpVertices.push([inNear, nearLeft, nearTop]);
  tmpVertices.push([inNear, nearRight, nearTop]);
  tmpVertices.push([inNear, nearLeft, nearBottom]);
  tmpVertices.push([inNear, nearRight, nearBottom]);
  tmpVertices.push([inFar, -farHalfY, +farHalfZ]);
  tmpVertices.push([inFar, +farHalfY, +farHalfZ]);
  tmpVertices.push([inFar, -farHalfY, -farHalfZ]);
  tmpVertices.push([inFar, +farHalfY, -farHalfZ]);
  tmpVertices.push([0, 0, 0]);
  tmpVertices.push([100, 0, 0]);
  tmpVertices.push([0, 100, 0]);
  tmpVertices.push([0, 0, 100]);
  {
    const tmpMatrix = exports_mat4.identity(exports_mat4.create());
    exports_mat4.translate(tmpMatrix, tmpMatrix, eyePos);
    exports_mat4.rotate(tmpMatrix, tmpMatrix, theta, [0, 0, 1]);
    exports_mat4.rotate(tmpMatrix, tmpMatrix, phi, [0, -1, 0]);
    for (let ii = 0;ii < tmpVertices.length; ++ii) {
      tmpVertices[ii] = exports_vec3.transformMat4(tmpVertices[ii], tmpVertices[ii], tmpMatrix);
    }
  }
  {
    const indices = [];
    indices.push(0, 1, 1, 3, 3, 2, 2, 0);
    indices.push(0, 4, 1, 5, 2, 6, 3, 7);
    indices.push(4, 5, 5, 7, 7, 6, 6, 4);
    const colorTop = [1, 1, 0];
    for (let ii = 0;ii < indices.length; ii += 2) {
      const posA = tmpVertices[indices[ii + 0]];
      const posB = tmpVertices[indices[ii + 1]];
      inStackRenderers.pushLine(posA, posB, colorTop);
    }
    {
      const posA = tmpVertices[8];
      const posB1 = tmpVertices[9];
      const posB2 = tmpVertices[10];
      const posB3 = tmpVertices[11];
      inStackRenderers.pushLine(posA, posB1, [1, 0, 0]);
      inStackRenderers.pushLine(posA, posB2, [0, 1, 0]);
      inStackRenderers.pushLine(posA, posB3, [0, 0, 1]);
    }
  }
};
// src/main/experiment/webGLRenderer/renderers/hud/widgets/renderMiniMap.ts
var { WebGLContext: WebGLContext15 } = exports_graphics.webgl2;
var renderMiniMap = (inCamera, inMinScreenSize, inMinViewSize, inChunks, inChunkSize, inViewportSize, inProcessingPos, inWireFrameCubesRenderer, inStackRenderers) => {
  const gl = WebGLContext15.getContext();
  const [width, height] = inViewportSize;
  const miniMapHudCamera = new exports_graphics.camera.Camera;
  const minViewportSize = Math.min(width, height) * 0.5;
  const minimapWidth = Math.max(minViewportSize, inMinScreenSize);
  const minimapHeight = Math.max(minViewportSize, inMinScreenSize);
  const minimapPosX = width - minimapWidth;
  miniMapHudCamera.setViewportPos(minimapPosX, 0);
  miniMapHudCamera.setViewportSize(minimapWidth, minimapHeight);
  const aspectRatio = minimapWidth / minimapHeight;
  const orthoSizeH = aspectRatio >= 1 ? inMinViewSize : inMinViewSize * (1 / aspectRatio);
  const orthoSizeW = orthoSizeH * aspectRatio;
  miniMapHudCamera.setAsOrthogonal({
    left: -orthoSizeW,
    right: +orthoSizeW,
    top: -orthoSizeH,
    bottom: +orthoSizeH,
    near: -inMinViewSize,
    far: +inMinViewSize
  });
  miniMapHudCamera.setUpAxis([0, 0, 1]);
  const mainEyePos = inCamera.getEye();
  const targetPos = inCamera.getTarget();
  const diff = exports_vec3.sub(exports_vec3.create(), targetPos, mainEyePos);
  const forwardTheta = Math.atan2(diff[1], diff[0]);
  const forwardPhi = Math.atan2(diff[2], exports_vec2.length(exports_vec2.fromValues(diff[1], diff[0])));
  const inclinedTheta = forwardTheta - Math.PI * 0.25;
  const upPhi = forwardPhi + Math.PI * 0.5;
  const inclinedCosTheta = Math.cos(inclinedTheta);
  const inclinedSinTheta = Math.sin(inclinedTheta);
  const upAxisZ = Math.sin(upPhi);
  const miniMapEyePos = exports_vec3.copy(exports_vec3.create(), mainEyePos);
  miniMapEyePos[0] -= inclinedCosTheta * 20;
  miniMapEyePos[1] -= inclinedSinTheta * 20;
  miniMapEyePos[2] += upAxisZ * 10;
  miniMapHudCamera.setEye(miniMapEyePos);
  miniMapHudCamera.setTarget(mainEyePos);
  miniMapHudCamera.computeMatrices();
  const viewPos = miniMapHudCamera.getViewportPos();
  const viewSize = miniMapHudCamera.getViewportSize();
  gl.viewport(viewPos[0], viewPos[1], viewSize[0], viewSize[1]);
  gl.clear(gl.DEPTH_BUFFER_BIT);
  gl.disable(gl.DEPTH_TEST);
  gl.enable(gl.BLEND);
  inWireFrameCubesRenderer.clear();
  const k_whiteColor = exports_vec3.fromValues(1, 1, 1);
  const k_redColor = exports_vec4.fromValues(1, 0, 0, 0.8);
  const k_greenColor = exports_vec3.fromValues(0, 1, 0);
  const hSize = inChunkSize * 0.5;
  const chunkCenter = exports_vec3.create();
  const chunkHalfSize = exports_vec3.fromValues(hSize, hSize, hSize);
  inChunks.forEach((currChunk) => {
    exports_vec3.copy(chunkCenter, currChunk.realPosition);
    exports_vec3.add(chunkCenter, chunkCenter, chunkHalfSize);
    if (currChunk.isVisible) {
      inWireFrameCubesRenderer.pushCenteredCube(chunkCenter, hSize, k_whiteColor);
    } else {
      inWireFrameCubesRenderer.pushCenteredCube(chunkCenter, hSize, k_redColor);
    }
  });
  if (inProcessingPos.length > 0) {
    const extraSize = inChunkSize * 1.2;
    inProcessingPos.forEach((currPos) => {
      exports_vec3.copy(chunkCenter, currPos);
      exports_vec3.add(chunkCenter, chunkCenter, chunkHalfSize);
      inWireFrameCubesRenderer.pushCenteredCube(chunkCenter, extraSize, k_greenColor);
    });
  }
  inWireFrameCubesRenderer.flush(miniMapHudCamera.getComposedMatrix());
  inStackRenderers.flush(miniMapHudCamera.getComposedMatrix());
  {
    const projData = inCamera.getPerspectiveData();
    renderPerspectiveFrustum(projData.fovy, projData.aspectRatio, projData.near, projData.far, mainEyePos, forwardTheta, forwardPhi, inStackRenderers);
    inStackRenderers.flush(miniMapHudCamera.getComposedMatrix());
  }
  gl.disable(gl.BLEND);
  gl.enable(gl.DEPTH_TEST);
};
// src/main/experiment/webGLRenderer/renderers/hud/widgets/renderTouchEvents.ts
var { GlobalTouchManager: GlobalTouchManager3 } = exports_system.browser;
var _touchesAngleMap = new Map;
var renderTouchEvents = (viewportSize, stackRenderers, isMovingForward) => {
  const allTouchData = GlobalTouchManager3.getTouchData();
  if (allTouchData.length === 0) {
    _touchesAngleMap.clear();
  } else {
    const latestTouchIds = new Set;
    const redColor = [1, 0, 0];
    const greenColor = [0, 1, 0];
    const color = allTouchData.length > 1 ? redColor : greenColor;
    allTouchData.forEach((currTouch) => {
      latestTouchIds.add(currTouch.id);
      let angle3 = _touchesAngleMap.get(currTouch.id);
      if (angle3 === undefined) {
        angle3 = 0;
        _touchesAngleMap.set(currTouch.id, angle3);
      }
      const angles4 = [0, 0.5];
      if (isMovingForward)
        angles4.push(0.25, 0.75);
      for (const offsetAngle of angles4) {
        const finalAngle = angle3 + offsetAngle * Math.PI;
        const position = [
          currTouch.positionX,
          viewportSize[1] - currTouch.positionY,
          0
        ];
        stackRenderers.pushRotatedLine(position, finalAngle, 150, 15, color);
      }
      angle3 += 0.1;
      _touchesAngleMap.set(currTouch.id, angle3);
    });
    const idNotInUse = new Set;
    _touchesAngleMap.forEach((value, key) => {
      if (!latestTouchIds.has(key))
        idNotInUse.add(key);
    });
    idNotInUse.forEach((value) => {
      _touchesAngleMap.delete(value);
    });
  }
};
// src/main/experiment/WebGLExperiment.ts
var {
  GlobalKeyboardManager: GlobalKeyboardManager2,
  GlobalTouchManager: GlobalTouchManager4,
  GlobalMouseManager: GlobalMouseManager3,
  GlobalPointerLockManager: GlobalPointerLockManager2
} = exports_system.browser;

class WebGLExperiment {
  _canvasElement;
  _freeFlyController;
  _renderer;
  _chunkGenerator;
  _running;
  _errorGraphicContext;
  _chunksCreated = 0;
  _chunksDiscarded = 0;
  _currFrameTime = 0;
  _frameProfiler = new exports_system.metrics.FrameProfiler;
  constructor(canvasElement) {
    this._canvasElement = canvasElement;
    this._freeFlyController = new exports_system.controllers.FreeFlyController({
      position: exports_vec3.fromValues(0, 0, 0),
      coordinates: ["X", "Y", "Z"],
      theta: 0,
      phi: 0,
      mouseSensibility: controllerMouseSensibility,
      movingSpeed: controllerMovingSpeed,
      keyboardSensibility: controllerKeyboardSensibility,
      touchSensibility: controllerTouchSensibility
    });
    this._renderer = new WebGLRenderer({
      canvasDomElement: canvasElement
    });
    this._chunkGenerator = new ChunkGenerator({
      chunkGraphicSize,
      chunkGenerationRange: chunkRange,
      chunkLogicSize,
      workerTotal,
      workerFile,
      chunkIsVisible: (pos) => {
        const k_size = chunkGraphicSize;
        const k_hSize = k_size * 0.5;
        return this._renderer.frustumCulling.cubeInFrustum(pos[0] + k_hSize, pos[1] + k_hSize, pos[2] + k_hSize, k_size);
      },
      acquireGeometry: (inSize) => {
        return this._renderer.chunksRenderer.acquireGeometry(inSize);
      },
      releaseGeometry: (inGeom) => {
        this._renderer.chunksRenderer.releaseGeometry(inGeom);
      },
      onChunkCreated: () => {
        ++this._chunksCreated;
      },
      onChunkDiscarded: () => {
        ++this._chunksDiscarded;
      }
    });
    {
      GlobalKeyboardManager2.activate();
      GlobalTouchManager4.activate(this._canvasElement);
      GlobalPointerLockManager2.allowPointerLockedOnClickEvent(canvasElement);
      GlobalPointerLockManager2.addOnLockChange(() => {
        const isLocked = GlobalPointerLockManager2.isPointerLocked(canvasElement);
        if (isLocked) {
          GlobalMouseManager3.activate(document.body);
        } else {
          GlobalMouseManager3.deactivate(document.body);
          GlobalPointerLockManager2.allowPointerLockedOnClickEvent(canvasElement);
        }
      });
      GlobalPointerLockManager2.addOnLockError((event) => {
      });
    }
    this._running = false;
    this._errorGraphicContext = false;
    this._renderer.setOnContextLost(() => {
      console.log("on_context_lost");
      throw new Error("WebGL2 context was lost");
    });
  }
  async init() {
    await this._renderer.init();
  }
  resize(inWidth, inHeight) {
    this._renderer.resize(inWidth, inHeight);
  }
  start() {
    if (this.isRunning()) {
      return;
    }
    this._running = true;
    this._chunkGenerator.start();
    this._tick();
  }
  stop() {
    this._running = false;
    this._chunkGenerator.stop();
  }
  isRunning() {
    return this._running && !this._errorGraphicContext;
  }
  _tick() {
    const tick = () => {
      if (!this._running || this._errorGraphicContext) {
        return;
      }
      window.setTimeout(tick, 16.666666666666668);
      this._mainLoop();
    };
    tick();
  }
  _mainLoop() {
    const currentTime = Date.now();
    const elapsedTimeMsec = exports_system.math.clamp(currentTime - this._currFrameTime, 0, 1000);
    this._currFrameTime = currentTime;
    this._frameProfiler.pushDelta(elapsedTimeMsec);
    const deltaTimeSec = elapsedTimeMsec / 1000;
    this._freeFlyController.update(deltaTimeSec);
    this._renderer.lookAt(this._freeFlyController.getPosition(), this._freeFlyController.getTarget(), this._freeFlyController.getUpAxis());
    this._renderer.update();
    const eyePos = this._freeFlyController.getPosition();
    this._chunkGenerator.update(eyePos);
    let visibleChunks = 0;
    this._chunkGenerator.getChunks().forEach((chunk) => {
      if (chunk.isVisible) {
        ++visibleChunks;
      }
    });
    this._renderer.multipleBuffering.captureScene(() => {
      this._renderer.renderScene(() => {
        this._renderer.wireFrameCubesRenderer.clear();
        this._chunkGenerator.getChunks().forEach((chunk) => {
          if (!chunk.isVisible) {
            return;
          }
          this._renderer.triangleCubesRenderer.pushOriginBoundCube(chunk.realPosition, chunkGraphicSize, [1, 1, 1]);
        });
        this._renderer.triangleCubesRenderer.flush(this._renderer.mainCamera);
        this._renderer.chunksRenderer.render(this._renderer.mainCamera, this._renderer.frustumCulling, chunkGraphicSize);
      });
    });
    this._renderer.renderHUD(() => {
      const gl = exports_graphics.webgl2.WebGLContext.getContext();
      gl.clearColor(0, 0, 0, 1);
      gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
      this._renderer.multipleBuffering.renderHud(this._renderer.hudCamera.getComposedMatrix());
      this._renderer.stackRenderers.clear();
      this._renderer.textRenderer.clear();
      renderGenerationMetrics(this._renderer.getSize(), this._chunksCreated, this._chunksDiscarded, visibleChunks, this._renderer.textRenderer);
      renderCurrentCoordinates(this._renderer.getSize(), chunkGraphicSize, eyePos, this._renderer.textRenderer);
      {
        const keyEventsPos = [27, 165];
        const touchEventsPos = [27, 260];
        const boardPos = [7, 35];
        exports_graphics.renderers.widgets.addArrowStrokesWidgets(keyEventsPos, this._renderer.stackRenderers, this._renderer.textRenderer);
        exports_graphics.renderers.widgets.addArrowStrokesWidgets(touchEventsPos, this._renderer.stackRenderers, this._renderer.textRenderer);
        exports_graphics.renderers.widgets.addKeysTouchesWidgets(this._canvasElement, boardPos, this._renderer.stackRenderers, this._renderer.textRenderer);
      }
      exports_graphics.renderers.widgets.renderFpsMeter([10, this._canvasElement.height - 60, 0], [100, 50], this._frameProfiler, this._renderer.stackRenderers, this._renderer.textRenderer, true);
      exports_graphics.renderers.widgets.renderFpsMeter([10, this._canvasElement.height - 150, 0], [100, 50], this._chunkGenerator.getFrameProfiler(), this._renderer.stackRenderers, this._renderer.textRenderer);
      renderTouchEvents(this._renderer.getSize(), this._renderer.stackRenderers, this._freeFlyController.getTouchMoveForward());
      this._renderer.stackRenderers.flush(this._renderer.hudCamera.getComposedMatrix());
      this._renderer.textRenderer.flush(this._renderer.hudCamera.getComposedMatrix());
      this._renderer.stackRenderers.clear();
      this._renderer.textRenderer.clear();
      const k_minScreenSize = 300;
      const k_minViewSize = 150;
      renderMiniMap(this._renderer.mainCamera, k_minScreenSize, k_minViewSize, this._chunkGenerator.getChunks(), chunkGraphicSize, this._renderer.getSize(), this._chunkGenerator.getProcessingRealPositions(), this._renderer.wireFrameCubesRenderer, this._renderer.stackRenderers);
      this._renderer.flush();
    });
  }
}

// src/main/utilities/setupFullScreenFeature.ts
var setupFullScreenFeature = (app, button, canvasElement) => {
  if (!exports_system.browser.GlobalFullScreenManager.isCompatible(canvasElement)) {
    return;
  }
  button.addEventListener("click", () => {
    exports_system.browser.GlobalFullScreenManager.requestFullScreen(canvasElement);
  });
  exports_system.browser.GlobalFullScreenManager.addOnFullScreenChange(() => {
    let currentWidth = null;
    let currentHeight = null;
    const isInFullScreen = exports_system.browser.GlobalFullScreenManager.isFullScreen(canvasElement);
    if (isInFullScreen) {
      canvasElement.style.position = "absolute";
      currentWidth = window.innerWidth;
      currentHeight = window.innerHeight;
    } else {
      canvasElement.style.position = "relative";
      currentWidth = 800;
      currentHeight = 600;
    }
    canvasElement.style.left = "0px";
    canvasElement.style.top = "0px";
    canvasElement.width = currentWidth;
    canvasElement.height = currentHeight;
    app.resize(currentWidth, currentHeight);
  });
};
// src/main/utilities/setupOutdatedPage.ts
var setupOutdatedPage = (maxDuration, onTimeout) => {
  if (!exports_system.browser.GlobalVisibilityManager.isSupported()) {
    return;
  }
  let timeoutHandle = -1;
  exports_system.browser.GlobalVisibilityManager.addVisibilityChange((isVisible) => {
    if (isVisible) {
      if (timeoutHandle >= 0) {
        clearTimeout(timeoutHandle);
        timeoutHandle = -1;
      }
    } else {
      timeoutHandle = window.setTimeout(onTimeout, maxDuration);
    }
  });
  exports_system.browser.GlobalVisibilityManager.activate();
};
// src/main/main.ts
var { isWebGL2Supported: isWebGL2Supported3, isWebWorkerSupported: isWebWorkerSupported3, GlobalFullScreenManager: GlobalFullScreenManager2 } = exports_system.browser;
var _queryDomElement = (inName) => {
  const newElement = document.querySelector(inName);
  if (!newElement) {
    throw new Error(`html element "${inName}" not found`);
  }
  return newElement;
};
var onPageLoad = async () => {
  const canvasElement = _queryDomElement("#main-canvas");
  const guiToggleStart = _queryDomElement("#gui_toggle_start");
  const buttonFullscreen = _queryDomElement("#gui_fullscreen");
  const errorText = _queryDomElement("#error-text");
  let mainDemo = null;
  const _onPageError = (err) => {
    if (mainDemo) {
      console.log("onPageError", err);
      mainDemo.stop();
      mainDemo = null;
      exports_system.browser.GlobalKeyboardManager.deactivate();
      exports_system.browser.GlobalMouseManager.deactivate(canvasElement);
      exports_system.browser.GlobalTouchManager.deactivate(canvasElement);
      exports_system.browser.GlobalFullScreenManager.removeAllCallbacks();
      exports_system.browser.GlobalPointerLockManager.removeAllCallbacks();
      exports_system.browser.GlobalVisibilityManager.removeAllCallbacks();
      exports_system.browser.GlobalVisibilityManager.deactivate();
      errorText.style.width = "800px";
      errorText.style.height = "600px";
      errorText.innerHTML = err.message;
      canvasElement.style.display = "none";
      errorText.style.display = "block";
      buttonFullscreen.disabled = true;
      guiToggleStart.disabled = true;
      document.title += " (ERR)";
    }
  };
  window.addEventListener("error", _onPageError);
  if (!isWebGL2Supported3()) {
    throw new Error("missing WebGL2 feature (unsupported)");
  }
  if (!isWebWorkerSupported3()) {
    throw new Error("missing WebWorker feature (unsupported)");
  }
  guiToggleStart.addEventListener("click", () => {
    if (!mainDemo) {
      return;
    }
    if (mainDemo.isRunning()) {
      mainDemo.stop();
    } else {
      mainDemo.start();
    }
  });
  mainDemo = new WebGLExperiment(canvasElement);
  await mainDemo.init();
  mainDemo.start();
  const pageMaxTimeInvisible = 60000;
  setupOutdatedPage(pageMaxTimeInvisible, () => {
    throw new Error("<br/><br/><br/>The page was inactive for too long<br/><br/>please reload");
  });
  setupFullScreenFeature(mainDemo, buttonFullscreen, canvasElement);
};
window.addEventListener("load", onPageLoad);

//# debugId=D8BEA343569CC93564756e2164756e21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2xvY2FsLWZyYW1ld29yay9zeXN0ZW0vYnJvd3Nlci9GdWxsU2NyZWVuTWFuYWdlci50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL3N5c3RlbS9icm93c2VyL0tleUNvZGVzLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL2Jyb3dzZXIvS2V5Ym9hcmRNYW5hZ2VyLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL2Jyb3dzZXIvTW91c2VNYW5hZ2VyLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL2Jyb3dzZXIvUG9pbnRlckxvY2tNYW5hZ2VyLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL2Jyb3dzZXIvVG91Y2hNYW5hZ2VyLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL2Jyb3dzZXIvVmlzaWJpbGl0eU1hbmFnZXIudHMiLCAic3JjL2xvY2FsLWZyYW1ld29yay9zeXN0ZW0vYnJvd3Nlci9pc1dlYldvcmtlclN1cHBvcnRlZC50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL3N5c3RlbS9icm93c2VyL2lzV2ViR0wyU3VwcG9ydGVkLnRzIiwgIm5vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL2NvbW1vbi5qcyIsICJub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9tYXQ0LmpzIiwgIm5vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzMuanMiLCAibm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vdmVjNC5qcyIsICJub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWMyLmpzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL21hdGgvYW5nbGVzLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL2NvbnRyb2xsZXJzL0ZyZWVGbHlDb250cm9sbGVyLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL21hdGgvY2xhbXAudHMiLCAic3JjL2xvY2FsLWZyYW1ld29yay9zeXN0ZW0vbWF0aC9jb2xsaXNpb25zLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL21hdGgvZWFzaW5nLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL21hdGgvbGVycC50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL3N5c3RlbS9tYXRoL3BvbGFyQ29vcmRzLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL21hdGgvcmF5Q2FzdGVyLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL21ldHJpY3MvRnJhbWVQcm9maWxlci50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL3N5c3RlbS91dGlsaXRpZXMvRmV0Y2hIZWxwZXJzLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvc3lzdGVtL3V0aWxpdGllcy9Bc3luY0hlbHBlcnMudHMiLCAic3JjL2xvY2FsLWZyYW1ld29yay9zeXN0ZW0vcm5nL0RldGVybWluaXN0aWNSbmcudHMiLCAic3JjL2xvY2FsLWZyYW1ld29yay9ncmFwaGljcy9jYW1lcmEvQ2FtZXJhLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3MvY2FtZXJhL0ZydXN0dW1DdWxsaW5nLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3MvY2FtZXJhL3NjZW5lVG9TY3JlZW5Db29yZGluYXRlcy50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL2NhbWVyYS9zY3JlZW5Ub1NjZW5lQ29vcmRpbmF0ZXMudHMiLCAic3JjL2xvY2FsLWZyYW1ld29yay9ncmFwaGljcy93ZWJnbDIvV2ViR0xDb250ZXh0LnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3Mvd2ViZ2wyL0N1YmVNYXAudHMiLCAic3JjL2xvY2FsLWZyYW1ld29yay9ncmFwaGljcy93ZWJnbDIvRGF0YVRleHR1cmUudHMiLCAic3JjL2xvY2FsLWZyYW1ld29yay9ncmFwaGljcy93ZWJnbDIvRGF0YVRleHR1cmVWZWM0LnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3Mvd2ViZ2wyL0Vycm9yLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3Mvd2ViZ2wyL0ZlbmNlLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3Mvd2ViZ2wyL0ZyYW1lQnVmZmVyLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3Mvd2ViZ2wyL0dlb21ldHJ5V3JhcHBlci50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL3dlYmdsMi9SZW5kZXJCdWZmZXIudHMiLCAic3JjL2xvY2FsLWZyYW1ld29yay9ncmFwaGljcy93ZWJnbDIvU2hhZGVyUHJvZ3JhbS50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL3dlYmdsMi9UZXh0dXJlLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3Mvd2ViZ2wyL1RleHR1cmVBcnJheS50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL3JlbmRlcmVycy9nZW9tZXRyeS1yZW5kZXJlci9zaGFkZXJzL2dlb21ldHJ5LXJlbmRlcmVyLmdsc2wudmVydCIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL3JlbmRlcmVycy9nZW9tZXRyeS1yZW5kZXJlci9zaGFkZXJzL2dlb21ldHJ5LXJlbmRlcmVyLmdsc2wuZnJhZyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL3JlbmRlcmVycy9nZW9tZXRyeS1yZW5kZXJlci9HZW9tZXRyeVJlbmRlcmVyLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3MvcmVuZGVyZXJzL2dlb21ldHJ5LXJlbmRlcmVyLWZsYXQvc2hhZGVycy9nZW9tZXRyeS1yZW5kZXJlci1mbGF0Lmdsc2wudmVydCIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL3JlbmRlcmVycy9nZW9tZXRyeS1yZW5kZXJlci1mbGF0L3NoYWRlcnMvZ2VvbWV0cnktcmVuZGVyZXItZmxhdC5nbHNsLmZyYWciLCAic3JjL2xvY2FsLWZyYW1ld29yay9ncmFwaGljcy9yZW5kZXJlcnMvZ2VvbWV0cnktcmVuZGVyZXItZmxhdC9HZW9tZXRyeVJlbmRlcmVyRmxhdC50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL3JlbmRlcmVycy9tdWx0aS1idWZmZXJzLXJlbmRlcmluZy9pbnRlcm5hbHMvU2NlbmVDYXB0dXJlci50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL3JlbmRlcmVycy9tdWx0aS1idWZmZXJzLXJlbmRlcmluZy9pbnRlcm5hbHMvc2hhZGVycy9odWQtdGV4dHVyZS1yZW5kZXJlci5nbHNsLnZlcnQiLCAic3JjL2xvY2FsLWZyYW1ld29yay9ncmFwaGljcy9yZW5kZXJlcnMvbXVsdGktYnVmZmVycy1yZW5kZXJpbmcvaW50ZXJuYWxzL3NoYWRlcnMvaHVkLXRleHR1cmUtcmVuZGVyZXIuZ2xzbC5mcmFnIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3MvcmVuZGVyZXJzL211bHRpLWJ1ZmZlcnMtcmVuZGVyaW5nL2ludGVybmFscy9SZW5kZXJIdWRUZXh0dXJlLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3MvcmVuZGVyZXJzL211bHRpLWJ1ZmZlcnMtcmVuZGVyaW5nL011bHRpQnVmZmVyc1JlbmRlcmluZy50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL3JlbmRlcmVycy9zdGFjay1yZW5kZXJlcnMvc2hhZGVycy9zdGFjay1yZW5kZXJlci5nbHNsLnZlcnQiLCAic3JjL2xvY2FsLWZyYW1ld29yay9ncmFwaGljcy9yZW5kZXJlcnMvc3RhY2stcmVuZGVyZXJzL3NoYWRlcnMvc3RhY2stcmVuZGVyZXIuZ2xzbC5mcmFnIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3MvcmVuZGVyZXJzL3N0YWNrLXJlbmRlcmVycy9pbnRlcm5hbHMvV2lyZUZyYW1lc1N0YWNrUmVuZGVyZXIudHMiLCAic3JjL2xvY2FsLWZyYW1ld29yay9ncmFwaGljcy9yZW5kZXJlcnMvc3RhY2stcmVuZGVyZXJzL2ludGVybmFscy9UcmlhbmdsZXNTdGFja1JlbmRlcmVyLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3MvcmVuZGVyZXJzL3N0YWNrLXJlbmRlcmVycy9TdGFja1JlbmRlcmVycy50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL3JlbmRlcmVycy90ZXh0LXJlbmRlcmVyL3NoYWRlcnMvdGV4dC1yZW5kZXJlci5nbHNsLnZlcnQiLCAic3JjL2xvY2FsLWZyYW1ld29yay9ncmFwaGljcy9yZW5kZXJlcnMvdGV4dC1yZW5kZXJlci9zaGFkZXJzL3RleHQtcmVuZGVyZXIuZ2xzbC5mcmFnIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3MvcmVuZGVyZXJzL3RleHQtcmVuZGVyZXIvaW50ZXJuYWxzL2FzY2lpVGV4dHVyZUhleC50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL3JlbmRlcmVycy90ZXh0LXJlbmRlcmVyL1RleHRSZW5kZXJlci50cyIsICJzcmMvbG9jYWwtZnJhbWV3b3JrL2dyYXBoaWNzL3JlbmRlcmVycy93aWRnZXRzL3JlbmRlckNvbnRyb2xzLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3MvcmVuZGVyZXJzL3dpZGdldHMvcmVuZGVyRnBzTWV0ZXIudHMiLCAic3JjL2xvY2FsLWZyYW1ld29yay9ncmFwaGljcy9pbWFnZXMvZ2V0SW1hZ2VGcm9tVXJsLnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3MvZ2VvbWV0cmllcy9tYWtlQm94LnRzIiwgInNyYy9sb2NhbC1mcmFtZXdvcmsvZ3JhcGhpY3MvZ2VvbWV0cmllcy9tYWtlU3BoZXJlLnRzIiwgInNyYy9tYWluL2NvbmZpZ3VyYXRpb24udHMiLCAic3JjL21haW4vY29uZmlndXJhdGlvbi50cyIsICJzcmMvbWFpbi9leHBlcmltZW50L2dlbmVyYXRpb24vaW50ZXJuYWxzL1ZlYzNIYXNoU2V0LnRzIiwgInNyYy9tYWluL2V4cGVyaW1lbnQvZ2VuZXJhdGlvbi9pbnRlcm5hbHMvV29ya2VyTWFuYWdlci50cyIsICJzcmMvbWFpbi9leHBlcmltZW50L2dlbmVyYXRpb24vaW50ZXJuYWxzL0NodW5rTWFuYWdlci50cyIsICJzcmMvbWFpbi9leHBlcmltZW50L2dlbmVyYXRpb24vQ2h1bmtHZW5lcmF0b3IudHMiLCAic3JjL21haW4vZXhwZXJpbWVudC93ZWJHTFJlbmRlcmVyL3JlbmRlcmVycy9zY2VuZS9jaHVua3MtcmVuZGVyZXIvc2hhZGVycy9jaHVua3MtcmVuZGVyZXIuZ2xzbC52ZXJ0IiwgInNyYy9tYWluL2V4cGVyaW1lbnQvd2ViR0xSZW5kZXJlci9yZW5kZXJlcnMvc2NlbmUvY2h1bmtzLXJlbmRlcmVyL3NoYWRlcnMvY2h1bmtzLXJlbmRlcmVyLmdsc2wuZnJhZyIsICJzcmMvbWFpbi9leHBlcmltZW50L3dlYkdMUmVuZGVyZXIvcmVuZGVyZXJzL3NjZW5lL2NodW5rcy1yZW5kZXJlci9DaHVua3NSZW5kZXJlci50cyIsICJzcmMvbWFpbi9leHBlcmltZW50L3dlYkdMUmVuZGVyZXIvcmVuZGVyZXJzL3NjZW5lL3RyaWFuZ2xlLWN1YmVzLXJlbmRlcmVyL3NoYWRlcnMvdHJpYW5nbGUtY3ViZXMtcmVuZGVyZXIuZ2xzbC52ZXJ0IiwgInNyYy9tYWluL2V4cGVyaW1lbnQvd2ViR0xSZW5kZXJlci9yZW5kZXJlcnMvc2NlbmUvdHJpYW5nbGUtY3ViZXMtcmVuZGVyZXIvc2hhZGVycy90cmlhbmdsZS1jdWJlcy1yZW5kZXJlci5nbHNsLmZyYWciLCAic3JjL21haW4vZXhwZXJpbWVudC93ZWJHTFJlbmRlcmVyL3JlbmRlcmVycy9zY2VuZS90cmlhbmdsZS1jdWJlcy1yZW5kZXJlci9UcmlhbmdsZUN1YmVzUmVuZGVyZXIudHMiLCAic3JjL21haW4vZXhwZXJpbWVudC93ZWJHTFJlbmRlcmVyL3JlbmRlcmVycy9odWQvd2lyZUZyYW1lLWN1YmVzLXJlbmRlcmVyL3NoYWRlcnMvd2lyZUZyYW1lLWN1YmVzLXJlbmRlcmVyLmdsc2wudmVydCIsICJzcmMvbWFpbi9leHBlcmltZW50L3dlYkdMUmVuZGVyZXIvcmVuZGVyZXJzL2h1ZC93aXJlRnJhbWUtY3ViZXMtcmVuZGVyZXIvc2hhZGVycy93aXJlRnJhbWUtY3ViZXMtcmVuZGVyZXIuZ2xzbC5mcmFnIiwgInNyYy9tYWluL2V4cGVyaW1lbnQvd2ViR0xSZW5kZXJlci9yZW5kZXJlcnMvaHVkL3dpcmVGcmFtZS1jdWJlcy1yZW5kZXJlci9XaXJlRnJhbWVDdWJlc1JlbmRlcmVyLnRzIiwgInNyYy9tYWluL2V4cGVyaW1lbnQvd2ViR0xSZW5kZXJlci9XZWJHTFJlbmRlcmVyLnRzIiwgInNyYy9tYWluL2V4cGVyaW1lbnQvd2ViR0xSZW5kZXJlci9yZW5kZXJlcnMvaHVkL3dpZGdldHMvcmVuZGVyQ3VycmVudENvb3JkaW5hdGVzLnRzIiwgInNyYy9tYWluL2V4cGVyaW1lbnQvd2ViR0xSZW5kZXJlci9yZW5kZXJlcnMvaHVkL3dpZGdldHMvcmVuZGVyR2VuZXJhdGlvbk1ldHJpY3MudHMiLCAic3JjL21haW4vZXhwZXJpbWVudC93ZWJHTFJlbmRlcmVyL3JlbmRlcmVycy9odWQvd2lkZ2V0cy91dGlscy9yZW5kZXJQZXJzcGVjdGl2ZUZydXN0dW0udHMiLCAic3JjL21haW4vZXhwZXJpbWVudC93ZWJHTFJlbmRlcmVyL3JlbmRlcmVycy9odWQvd2lkZ2V0cy9yZW5kZXJNaW5pTWFwLnRzIiwgInNyYy9tYWluL2V4cGVyaW1lbnQvd2ViR0xSZW5kZXJlci9yZW5kZXJlcnMvaHVkL3dpZGdldHMvcmVuZGVyVG91Y2hFdmVudHMudHMiLCAic3JjL21haW4vZXhwZXJpbWVudC9XZWJHTEV4cGVyaW1lbnQudHMiLCAic3JjL21haW4vdXRpbGl0aWVzL3NldHVwRnVsbFNjcmVlbkZlYXR1cmUudHMiLCAic3JjL21haW4vdXRpbGl0aWVzL3NldHVwT3V0ZGF0ZWRQYWdlLnRzIiwgInNyYy9tYWluL21haW4udHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbCiAgICAiY29uc3QgYWxsUmVxdWVzdEV2ZW50czogc3RyaW5nW10gPSBbXG4gICdyZXF1ZXN0RnVsbHNjcmVlbicsXG4gICd3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbicsXG4gICdtb3pSZXF1ZXN0RnVsbFNjcmVlbicsXG4gICdtc1JlcXVlc3RGdWxsc2NyZWVuJ1xuXTtcblxuY29uc3QgYWxsQ2hhbmdlRXZlbnRzOiBzdHJpbmdbXSA9IFtcbiAgJ2Z1bGxzY3JlZW5jaGFuZ2UnLFxuICAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsXG4gICdtb3pmdWxsc2NyZWVuY2hhbmdlJyxcbiAgJ21zZnVsbHNjcmVlbmNoYW5nZSdcbl07XG5cbnR5cGUgT25DaGFuZ2VDYWxsYmFjayA9ICgpID0+IHZvaWQ7XG5cbmludGVyZmFjZSBJUmVzdWx0IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5jbGFzcyBGdWxsU2NyZWVuTWFuYWdlciB7XG4gIHByaXZhdGUgX29uRnVsbFNjcmVlbkNoYW5nZUNhbGxiYWNrczogT25DaGFuZ2VDYWxsYmFja1tdID0gW107XG5cbiAgcHJpdmF0ZSBfaXNJbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByaXZhdGUgX2luaXRpYWxpemUoKSB7XG4gICAgaWYgKHRoaXMuX2lzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faXNJbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICBjb25zdCBvbkxvY2tDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9vbkZ1bGxTY3JlZW5DaGFuZ2VDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKCkpO1xuICAgIH07XG5cbiAgICBmb3IgKGNvbnN0IGN1cnJFdmVudCBvZiBhbGxDaGFuZ2VFdmVudHMpIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoY3VyckV2ZW50LCBvbkxvY2tDaGFuZ2UsIGZhbHNlKTtcbiAgfVxuXG4gIC8vXG5cbiAgaXNDb21wYXRpYmxlKGluVGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBmb3IgKGNvbnN0IGN1cnJFdmVudCBvZiBhbGxSZXF1ZXN0RXZlbnRzKSB7XG4gICAgICBpZiAoY3VyckV2ZW50IGluIGluVGFyZ2V0RWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy9cblxuICBpc0Z1bGxTY3JlZW4oaW5UYXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIHJldHVybiBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCA9PT0gaW5UYXJnZXRFbGVtZW50O1xuICB9XG5cbiAgLy9cblxuICBhc3luYyByZXF1ZXN0RnVsbFNjcmVlbihpblRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50KTogUHJvbWlzZTxJUmVzdWx0PiB7XG4gICAgaWYgKHRoaXMuaXNGdWxsU2NyZWVuKGluVGFyZ2V0RWxlbWVudCkpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnZWxlbWVudCBhbHJlYWR5IGluIGZ1bGwgc2NyZWVuJyB9O1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRpYWxpemUoKTtcblxuICAgIGZvciAoY29uc3QgY3VyckV2ZW50IG9mIGFsbFJlcXVlc3RFdmVudHMpIHtcbiAgICAgIGlmIChjdXJyRXZlbnQgaW4gaW5UYXJnZXRFbGVtZW50KSB7XG4gICAgICAgIChpblRhcmdldEVsZW1lbnQgYXMgYW55KVtjdXJyRXZlbnRdKCk7XG5cbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ3JlcXVlc3QgZm9yIGZ1bGwgc2NyZWVuIGRvbmUnIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICd1bnN1cHBvcnRlZCByZXF1ZXN0IGZvciBmdWxsIHNjcmVlbicgfTtcbiAgfVxuXG4gIC8vXG5cbiAgYWRkT25GdWxsU2NyZWVuQ2hhbmdlKGluQ2FsbGJhY2s6IE9uQ2hhbmdlQ2FsbGJhY2spIHtcbiAgICB0aGlzLl9vbkZ1bGxTY3JlZW5DaGFuZ2VDYWxsYmFja3MucHVzaChpbkNhbGxiYWNrKTtcbiAgfVxuICByZW1vdmVPbkZ1bGxTY3JlZW5DaGFuZ2UoaW5DYWxsYmFjazogT25DaGFuZ2VDYWxsYmFjaykge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb25GdWxsU2NyZWVuQ2hhbmdlQ2FsbGJhY2tzLmluZGV4T2YoaW5DYWxsYmFjayk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9vbkZ1bGxTY3JlZW5DaGFuZ2VDYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuICByZW1vdmVBbGxDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5fb25GdWxsU2NyZWVuQ2hhbmdlQ2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gIH1cbn1cblxuY29uc3QgR2xvYmFsRnVsbFNjcmVlbk1hbmFnZXIgPSBuZXcgRnVsbFNjcmVlbk1hbmFnZXIoKTtcblxuZXhwb3J0IHsgR2xvYmFsRnVsbFNjcmVlbk1hbmFnZXIgfTtcbiIsCiAgImV4cG9ydCBjb25zdCBBbGxLZXlDb2RlcyA9IHtcbiAgLy8gTnVtYmVycyBhbmQgbGV0dGVyc1xuICBOdW0wOiA0OCxcbiAgTnVtMTogNDksXG4gIE51bTI6IDUwLFxuICBOdW0zOiA1MSxcbiAgTnVtNDogNTIsXG4gIE51bTU6IDUzLFxuICBOdW02OiA1NCxcbiAgTnVtNzogNTUsXG4gIE51bTg6IDU2LFxuICBOdW05OiA1NyxcbiAgQTogNjUsXG4gIEI6IDY2LFxuICBDOiA2NyxcbiAgRDogNjgsXG4gIEU6IDY5LFxuICBGOiA3MCxcbiAgRzogNzEsXG4gIEg6IDcyLFxuICBJOiA3MyxcbiAgSjogNzQsXG4gIEs6IDc1LFxuICBMOiA3NixcbiAgTTogNzcsXG4gIE46IDc4LFxuICBPOiA3OSxcbiAgUDogODAsXG4gIFE6IDgxLFxuICBSOiA4MixcbiAgUzogODMsXG4gIFQ6IDg0LFxuICBVOiA4NSxcbiAgVjogODYsXG4gIFc6IDg3LFxuICBYOiA4OCxcbiAgWTogODksXG4gIFo6IDkwLFxuXG4gIC8vIFB1bmN0dWF0aW9ucyBrZXlzIGluIFVTIGxheW91dFxuICBTZW1pY29sb246IDE4NixcbiAgRXF1YWw6IDE4NyxcbiAgQ29tbWE6IDE4OCxcbiAgTWludXM6IDE4OSxcbiAgUGVyaW9kOiAxOTAsXG4gIEJhY2tRdW90ZTogMTkyLFxuICBCcmFja2V0TGVmdDogMjE5LFxuICBCYWNrc2xhc2g6IDIyMCxcbiAgQnJhY2tldFJpZ2h0OiAyMjEsXG4gIFF1b3RlOiAyMjIsXG5cbiAgLy8gTW9kaWZpZXIga2V5c1xuICBTaGlmdDogMTYsXG4gIEN0cmw6IDE3LFxuICBBbHQ6IDE4LFxuICBDYXBzTG9jazogMjAsXG5cbiAgLy8gQ29udHJvbCBrZXlzXG4gIFRhYjogOSxcbiAgRW50ZXI6IDEzLFxuICBQYXVzZTogMTksXG4gIEVzY2FwZTogMjcsXG4gIFNwYWNlOiAzMixcbiAgUGFnZVVwOiAzMyxcbiAgUGFnZURvd246IDM0LFxuICBFbmQ6IDM1LFxuICBIb21lOiAzNixcbiAgQXJyb3dMZWZ0OiAzNyxcbiAgQXJyb3dVcDogMzgsXG4gIEFycm93UmlnaHQ6IDM5LFxuICBBcnJvd0Rvd246IDQwLFxuICBQcmludFNjcmVlbjogNDQsXG4gIEluc2VydDogNDUsXG4gIERlbGV0ZTogNDYsXG4gIENvbnRleHRNZW51OiA5MyxcbiAgU2Nyb2xsTG9jazogMTQ1LFxuXG4gIC8vIEZ1bmN0aW9uIGtleXNcbiAgRjE6IDExMixcbiAgRjI6IDExMyxcbiAgRjM6IDExNCxcbiAgRjQ6IDExNSxcbiAgRjU6IDExNixcbiAgRjY6IDExNyxcbiAgRjc6IDExOCxcbiAgRjg6IDExOSxcbiAgRjk6IDEyMCxcbiAgRjEwOiAxMjEsXG4gIEYxMTogMTIyLFxuICBGMTI6IDEyMyxcbiAgRjEzOiAxMjQsXG4gIEYxNDogMTI1LFxuICBGMTU6IDEyNixcbiAgRjE2OiAxMjcsXG4gIEYxNzogMTI4LFxuICBGMTg6IDEyOSxcbiAgRjE5OiAxMzAsXG4gIEYyMDogMTMxLFxuICBGMjE6IDEzMixcbiAgRjIyOiAxMzMsXG4gIEYyMzogMTM0LFxuICBGMjQ6IDEzNSxcblxuICAvLyBOdW1wYWQga2V5c1xuICBOdW1QYWQwOiA5NixcbiAgTnVtUGFkMTogOTcsXG4gIE51bVBhZDI6IDk4LFxuICBOdW1QYWQzOiA5OSxcbiAgTnVtUGFkNDogMTAwLFxuICBOdW1QYWQ1OiAxMDEsXG4gIE51bVBhZDY6IDEwMixcbiAgTnVtUGFkNzogMTAzLFxuICBOdW1QYWQ4OiAxMDQsXG4gIE51bVBhZDk6IDEwNSxcbiAgTnVtUGFkTXVsdGlwbHk6IDEwNixcbiAgTnVtUGFkQWRkOiAxMDcsXG4gIE51bVBhZFN1YnRyYWN0OiAxMDksXG4gIE51bVBhZERlY2ltYWw6IDExMCxcbiAgTnVtUGFkRGl2aWRlOiAxMTEsXG4gIE51bUxvY2s6IDE0NCxcbiAgTnVtUGFkQ29tbWE6IDE5NCxcbiAgTnVtUGFkRXF1YWw6IDEyXG59O1xuXG5leHBvcnQgY29uc3QgaXNMZXR0ZXIgPSAoa2V5OiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIGtleSA+PSBBbGxLZXlDb2Rlcy5BICYmIGtleSA8PSBBbGxLZXlDb2Rlcy5aO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzTnVtYmVyID0gKGtleTogbnVtYmVyKSA9PiB7XG4gIHJldHVybiAoXG4gICAgKGtleSA+PSBBbGxLZXlDb2Rlcy5OdW0wICYmIGtleSA8PSBBbGxLZXlDb2Rlcy5OdW05KSB8fCAoa2V5ID49IEFsbEtleUNvZGVzLk51bVBhZDAgJiYga2V5IDw9IEFsbEtleUNvZGVzLk51bVBhZDkpXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNBbHBoYW51bWVyaWMgPSAoa2V5OiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIGlzTnVtYmVyKGtleSkgfHwgaXNMZXR0ZXIoa2V5KTtcbn07XG4iLAogICJpbXBvcnQgeyBBbGxLZXlDb2RlcyB9IGZyb20gJy4vS2V5Q29kZXMnO1xuXG5jbGFzcyBLZXlib2FyZE1hbmFnZXIge1xuICBwcml2YXRlIF9wcmVzc2VkS2V5c1NldCA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICBwcml2YXRlIF9wcmV2ZW50RGVmYXVsdEtleXNTZXQgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgcHJpdmF0ZSBfYWN0aXZhdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX2hhbmRsZUtleURvd246IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBfaGFuZGxlS2V5VXA6IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZDtcblxuICBwcml2YXRlIF9vbkV2ZW50OiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgY29uc3QgeyBrZXlDb2RlIH0gPSBldmVudDtcblxuICAgICAgaWYgKHRoaXMuX29uRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fb25FdmVudCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fcHJldmVudERlZmF1bHRLZXlzU2V0LmhhcyhrZXlDb2RlKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9wcmVzc2VkS2V5c1NldC5hZGQoa2V5Q29kZSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVLZXlVcCA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgY29uc3QgeyBrZXlDb2RlIH0gPSBldmVudDtcblxuICAgICAgaWYgKHRoaXMuX29uRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fb25FdmVudCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fcHJldmVudERlZmF1bHRLZXlzU2V0LmhhcyhrZXlDb2RlKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9wcmVzc2VkS2V5c1NldC5kZWxldGUoa2V5Q29kZSk7XG4gICAgfTtcblxuICAgIHRoaXMuX2FjdGl2YXRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2hhbmRsZUtleURvd24gPSBoYW5kbGVLZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlS2V5VXAgPSBoYW5kbGVLZXlVcC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaXNQcmVzc2VkKC4uLmluS2V5czogKGtleW9mIHR5cGVvZiBBbGxLZXlDb2RlcylbXSkge1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGluS2V5cykge1xuICAgICAgaWYgKHRoaXMuX3ByZXNzZWRLZXlzU2V0LmhhcyhBbGxLZXlDb2Rlc1trZXldKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJldmVudERlZmF1bHQoaW5LZXk6IGtleW9mIHR5cGVvZiBBbGxLZXlDb2Rlcykge1xuICAgIHRoaXMuX3ByZXZlbnREZWZhdWx0S2V5c1NldC5hZGQoQWxsS2V5Q29kZXNbaW5LZXldKTtcbiAgfVxuXG4gIGVuYWJsZURlZmF1bHQoaW5LZXk6IGtleW9mIHR5cGVvZiBBbGxLZXlDb2Rlcykge1xuICAgIHRoaXMuX3ByZXZlbnREZWZhdWx0S2V5c1NldC5kZWxldGUoQWxsS2V5Q29kZXNbaW5LZXldKTtcbiAgfVxuXG4gIGFjdGl2YXRlKCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmF0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9wcmVzc2VkS2V5c1NldC5jbGVhcigpO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleURvd24pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlS2V5VXApO1xuXG4gICAgdGhpcy5fYWN0aXZhdGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGRlYWN0aXZhdGUoKSB7XG4gICAgaWYgKCF0aGlzLl9hY3RpdmF0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9wcmVzc2VkS2V5c1NldC5jbGVhcigpO1xuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleURvd24pO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlS2V5VXApO1xuXG4gICAgdGhpcy5fYWN0aXZhdGVkID0gZmFsc2U7XG4gIH1cblxuICBvbkV2ZW50KGNhbGxiYWNrOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLl9vbkV2ZW50ID0gY2FsbGJhY2s7XG4gIH1cbn1cblxuLy9cbi8vXG4vL1xuXG5jb25zdCBHbG9iYWxLZXlib2FyZE1hbmFnZXIgPSBuZXcgS2V5Ym9hcmRNYW5hZ2VyKCk7XG5cbmV4cG9ydCB7IEdsb2JhbEtleWJvYXJkTWFuYWdlciB9O1xuIiwKICAiaW1wb3J0IHsgQWxsS2V5Q29kZXMgfSBmcm9tICcuL0tleUNvZGVzJztcblxuY29uc3QgQWxsTW91c2VCdXR0b25zID0ge1xuICBMZWZ0OiAwLFxuICBNaWRkbGU6IDEsXG4gIFJpZ2h0OiAyXG59O1xuXG5jbGFzcyBNb3VzZU1hbmFnZXIge1xuICBwcml2YXRlIF9wcmVzc2VkQnV0dG9uc1NldCA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICBwcml2YXRlIF9hY3RpdmF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfaGFuZGxlTW91c2VEb3duOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQ7XG4gIHByaXZhdGUgX2hhbmRsZU1vdXNlVXA6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBfaGFuZGxlTW91c2VNb3ZlOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQ7XG4gIHByaXZhdGUgX2hhbmRsZU1vdXNlV2hlZWw6IChldmVudDogV2hlZWxFdmVudCkgPT4gdm9pZDtcblxuICBwcml2YXRlIF9wb3NpdGlvblggPSAwO1xuICBwcml2YXRlIF9wb3NpdGlvblkgPSAwO1xuICBwcml2YXRlIF9kZWx0YVggPSAwO1xuICBwcml2YXRlIF9kZWx0YVkgPSAwO1xuICBwcml2YXRlIF93aGVlbERlbHRhWSA9IDA7XG5cbiAgcHJpdmF0ZSBfb25FdmVudDogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX29uRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fb25FdmVudCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9wb3NpdGlvblggPSBldmVudC5wYWdlWDtcbiAgICAgIHRoaXMuX3Bvc2l0aW9uWSA9IGV2ZW50LnBhZ2VZO1xuXG4gICAgICB0aGlzLl9wcmVzc2VkQnV0dG9uc1NldC5hZGQoZXZlbnQuYnV0dG9uKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmICh0aGlzLl9vbkV2ZW50KSB7XG4gICAgICAgIHRoaXMuX29uRXZlbnQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcG9zaXRpb25YID0gZXZlbnQucGFnZVg7XG4gICAgICB0aGlzLl9wb3NpdGlvblkgPSBldmVudC5wYWdlWTtcblxuICAgICAgdGhpcy5fcHJlc3NlZEJ1dHRvbnNTZXQuZGVsZXRlKGV2ZW50LmJ1dHRvbik7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmICh0aGlzLl9vbkV2ZW50KSB7XG4gICAgICAgIHRoaXMuX29uRXZlbnQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcG9zaXRpb25YID0gZXZlbnQucGFnZVg7XG4gICAgICB0aGlzLl9wb3NpdGlvblkgPSBldmVudC5wYWdlWTtcblxuICAgICAgdGhpcy5fZGVsdGFYICs9IGV2ZW50Lm1vdmVtZW50WCB8fCAoZXZlbnQgYXMgYW55KS5tb3pNb3ZlbWVudFggfHwgKGV2ZW50IGFzIGFueSkud2Via2l0TW92ZW1lbnRYIHx8IDA7XG5cbiAgICAgIHRoaXMuX2RlbHRhWSArPSBldmVudC5tb3ZlbWVudFkgfHwgKGV2ZW50IGFzIGFueSkubW96TW92ZW1lbnRZIHx8IChldmVudCBhcyBhbnkpLndlYmtpdE1vdmVtZW50WSB8fCAwO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlV2hlZWxFdmVudCA9IChldmVudDogV2hlZWxFdmVudCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX29uRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fb25FdmVudCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl93aGVlbERlbHRhWSArPSBldmVudC5kZWx0YVkgfHwgMDtcbiAgICB9O1xuXG4gICAgdGhpcy5fYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgdGhpcy5faGFuZGxlTW91c2VEb3duID0gaGFuZGxlTW91c2VEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlTW91c2VVcCA9IGhhbmRsZU1vdXNlVXAuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVNb3VzZU1vdmUgPSBoYW5kbGVNb3VzZU1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVNb3VzZVdoZWVsID0gaGFuZGxlV2hlZWxFdmVudC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgYWN0aXZhdGUoZG9tRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZhdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fcHJlc3NlZEJ1dHRvbnNTZXQuY2xlYXIoKTtcblxuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlTW91c2VEb3duKTtcbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVNb3VzZVVwKTtcbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZU1vdXNlTW92ZSk7XG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMuX2hhbmRsZU1vdXNlV2hlZWwpO1xuXG4gICAgdGhpcy5fYWN0aXZhdGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGRlYWN0aXZhdGUoZG9tRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBpZiAoIXRoaXMuX2FjdGl2YXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3ByZXNzZWRCdXR0b25zU2V0LmNsZWFyKCk7XG5cbiAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZU1vdXNlRG93bik7XG4gICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlTW91c2VVcCk7XG4gICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVNb3VzZU1vdmUpO1xuICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLl9oYW5kbGVNb3VzZVdoZWVsKTtcblxuICAgIHRoaXMuX2FjdGl2YXRlZCA9IGZhbHNlO1xuICB9XG5cbiAgaXNCdXR0b25QcmVzc2VkKGluS2V5OiBrZXlvZiB0eXBlb2YgQWxsTW91c2VCdXR0b25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ByZXNzZWRCdXR0b25zU2V0LmhhcyhBbGxNb3VzZUJ1dHRvbnNbaW5LZXldKTtcbiAgfVxuXG4gIGdldCBwb3NpdGlvblgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb25YO1xuICB9XG4gIGdldCBwb3NpdGlvblkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb25ZO1xuICB9XG4gIGRlbHRhWCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9kZWx0YVg7XG4gIH1cbiAgZGVsdGFZKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2RlbHRhWTtcbiAgfVxuICB3aGVlbERlbHRhWSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl93aGVlbERlbHRhWTtcbiAgfVxuICByZXNldERlbHRhcygpIHtcbiAgICB0aGlzLl9kZWx0YVggPSAwO1xuICAgIHRoaXMuX2RlbHRhWSA9IDA7XG4gICAgdGhpcy5fd2hlZWxEZWx0YVkgPSAwO1xuICB9XG5cbiAgb25FdmVudChjYWxsYmFjazogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5fb25FdmVudCA9IGNhbGxiYWNrO1xuICB9XG59XG5cbi8vXG4vL1xuLy9cblxuY29uc3QgR2xvYmFsTW91c2VNYW5hZ2VyID0gbmV3IE1vdXNlTWFuYWdlcigpO1xuXG5leHBvcnQgeyBHbG9iYWxNb3VzZU1hbmFnZXIgfTtcbiIsCiAgImNvbnN0IGFsbFJlcXVlc3RFdmVudHM6IHN0cmluZ1tdID0gWydyZXF1ZXN0UG9pbnRlckxvY2snLCAnbW96UmVxdWVzdFBvaW50ZXJMb2NrJywgJ3dlYmtpdFJlcXVlc3RQb2ludGVyTG9jayddO1xuXG5jb25zdCBhbGxFeGl0RXZlbnRzOiBzdHJpbmdbXSA9IFsnZXhpdFBvaW50ZXJMb2NrJywgJ21vekV4aXRQb2ludGVyTG9jaycsICd3ZWJraXRFeGl0UG9pbnRlckxvY2snXTtcblxuY29uc3QgYWxsU3RhdGVFdmVudHM6IHN0cmluZ1tdID0gWydwb2ludGVyTG9ja0VsZW1lbnQnLCAnbW96UG9pbnRlckxvY2tFbGVtZW50JywgJ3dlYmtpdFBvaW50ZXJMb2NrRWxlbWVudCddO1xuXG5jb25zdCBhbGxDaGFuZ2VFdmVudHM6IHsgbWV0aG9kTmFtZTogc3RyaW5nOyBwcm9wZXJ0eU5hbWU6IHN0cmluZyB9W10gPSBbXG4gIHsgbWV0aG9kTmFtZTogJ29ucG9pbnRlcmxvY2tjaGFuZ2UnLCBwcm9wZXJ0eU5hbWU6ICdwb2ludGVybG9ja2NoYW5nZScgfSxcbiAge1xuICAgIG1ldGhvZE5hbWU6ICdvbm1venBvaW50ZXJsb2NrY2hhbmdlJyxcbiAgICBwcm9wZXJ0eU5hbWU6ICdtb3pwb2ludGVybG9ja2NoYW5nZSdcbiAgfSxcbiAge1xuICAgIG1ldGhvZE5hbWU6ICdvbndlYmtpdHBvaW50ZXJsb2NrY2hhbmdlJyxcbiAgICBwcm9wZXJ0eU5hbWU6ICd3ZWJraXRwb2ludGVybG9ja2NoYW5nZSdcbiAgfVxuXTtcblxuY29uc3QgYWxsRXJyb3JFdmVudHM6IHsgbWV0aG9kTmFtZTogc3RyaW5nOyBwcm9wZXJ0eU5hbWU6IHN0cmluZyB9W10gPSBbXG4gIHsgbWV0aG9kTmFtZTogJ29ucG9pbnRlcmxvY2tlcnJvcicsIHByb3BlcnR5TmFtZTogJ3BvaW50ZXJsb2NrZXJyb3InIH0sXG4gIHsgbWV0aG9kTmFtZTogJ29ubW96cG9pbnRlcmxvY2tlcnJvcicsIHByb3BlcnR5TmFtZTogJ21venBvaW50ZXJsb2NrZXJyb3InIH0sXG4gIHtcbiAgICBtZXRob2ROYW1lOiAnb253ZWJraXRwb2ludGVybG9ja2Vycm9yJyxcbiAgICBwcm9wZXJ0eU5hbWU6ICd3ZWJraXRwb2ludGVybG9ja2Vycm9yJ1xuICB9XG5dO1xuXG50eXBlIE9uQ2hhbmdlQ2FsbGJhY2sgPSAoKSA9PiB2b2lkO1xudHlwZSBPbkVycm9yQ2FsbGJhY2sgPSAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgSVJlc3VsdCB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIG1lc3NhZ2U6IHN0cmluZztcbn1cblxuY2xhc3MgUG9pbnRlckxvY2tNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBfb25Mb2NrQ2hhbmdlQ2FsbGJhY2tzOiBPbkNoYW5nZUNhbGxiYWNrW10gPSBbXTtcbiAgcHJpdmF0ZSBfb25Mb2NrRXJyb3JDYWxsYmFja3M6IE9uRXJyb3JDYWxsYmFja1tdID0gW107XG4gIHByaXZhdGUgX3RpbWVTaW5jZUxhc3RMb2NrQ2hhbmdlID0gMDtcblxuICBwcml2YXRlIF9sYXRlc3RSZXF1ZXN0SHRtbEVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkO1xuXG4gIHByaXZhdGUgX2lzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvLyBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgcHJpdmF0ZSBfaW5pdGlhbGl6ZSgpIHtcbiAgICBpZiAodGhpcy5faXNJbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9pc0luaXRpYWxpemVkID0gdHJ1ZTtcblxuICAgIGNvbnN0IG9uTG9ja0NoYW5nZSA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3RpbWVTaW5jZUxhc3RMb2NrQ2hhbmdlID0gRGF0ZS5ub3coKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwidGltZXIgcmVzZXRcIik7XG5cbiAgICAgIHRoaXMuX29uTG9ja0NoYW5nZUNhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uTG9ja0Vycm9yID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgdGhpcy5fdGltZVNpbmNlTGFzdExvY2tDaGFuZ2UgPSBEYXRlLm5vdygpO1xuICAgICAgLy8gY29uc29sZS5sb2coXCJ0aW1lciByZXNldFwiKTtcblxuICAgICAgdGhpcy5fb25Mb2NrRXJyb3JDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKGV2ZW50KSk7XG4gICAgfTtcblxuICAgIGZvciAoY29uc3QgY3VyckV2ZW50IG9mIGFsbENoYW5nZUV2ZW50cykge1xuICAgICAgaWYgKGN1cnJFdmVudC5tZXRob2ROYW1lIGluIGRvY3VtZW50KSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoY3VyckV2ZW50LnByb3BlcnR5TmFtZSwgb25Mb2NrQ2hhbmdlLCBmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgY3VyckV2ZW50IG9mIGFsbEVycm9yRXZlbnRzKSB7XG4gICAgICBpZiAoY3VyckV2ZW50Lm1ldGhvZE5hbWUgaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihjdXJyRXZlbnQucHJvcGVydHlOYW1lLCBvbkxvY2tFcnJvciwgZmFsc2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvL1xuXG4gIGNhbkJlUG9pbnRlckxvY2tlZChpblRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgZm9yIChjb25zdCBjdXJyRXZlbnQgb2YgYWxsUmVxdWVzdEV2ZW50cykge1xuICAgICAgaWYgKGN1cnJFdmVudCBpbiBpblRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vXG5cbiAgaXNQb2ludGVyTG9ja2VkKGluVGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBmb3IgKGNvbnN0IGN1cnJFdmVudCBvZiBhbGxTdGF0ZUV2ZW50cykge1xuICAgICAgaWYgKGN1cnJFdmVudCBpbiBkb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gKGRvY3VtZW50IGFzIGFueSlbY3VyckV2ZW50XSA9PT0gaW5UYXJnZXRFbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvL1xuXG4gIGFzeW5jIHJlcXVlc3RQb2ludGVyTG9jayhpblRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50KTogUHJvbWlzZTxJUmVzdWx0PiB7XG4gICAgaWYgKHRoaXMuaXNQb2ludGVyTG9ja2VkKGluVGFyZ2V0RWxlbWVudCkpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnZWxlbWVudCBhbHJlYWR5IGxvY2tlZCcgfTtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0aWFsaXplKCk7XG5cbiAgICBpZiAodGhpcy5fdGltZVNpbmNlTGFzdExvY2tDaGFuZ2UgPiAwKSB7XG4gICAgICBjb25zdCBlbGFwc2VkU2VjVGltZSA9IChEYXRlLm5vdygpIC0gdGhpcy5fdGltZVNpbmNlTGFzdExvY2tDaGFuZ2UpIC8gMTAwMDtcblxuICAgICAgLy8gY29uc29sZS5sb2coXCJlbGFwc2VkU2VjVGltZSAxXCIsIGVsYXBzZWRTZWNUaW1lKTtcblxuICAgICAgaWYgKGVsYXBzZWRTZWNUaW1lIDwgMS4xKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogYHJlcXVlc3QgZm9yIGxvY2sgd2FzIHRvbyBlYXJseSwgdGltZSB0byB3YWl0OiAke2VsYXBzZWRTZWNUaW1lLnRvRml4ZWQoMil9c2VjYFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl90aW1lU2luY2VMYXN0TG9ja0NoYW5nZSA9IERhdGUubm93KCk7XG5cbiAgICBmb3IgKGNvbnN0IGN1cnJFdmVudCBvZiBhbGxSZXF1ZXN0RXZlbnRzKSB7XG4gICAgICBpZiAoY3VyckV2ZW50IGluIGluVGFyZ2V0RWxlbWVudCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgIC8vIG1vcmUgYWNjdXJhdGUgYnkgZGlzYWJsaW5nIE9TLWxldmVsIGFkanVzdGVkIG1vdXNlIG1vdmVtZW50c1xuICAgICAgICAgIHVuYWRqdXN0ZWRNb3ZlbWVudDogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiYWN0dWFsIHJlcXVlc3RcIik7XG5cbiAgICAgICAgICBhd2FpdCAoaW5UYXJnZXRFbGVtZW50IGFzIGFueSlbY3VyckV2ZW50XShvcHRpb25zKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJFUlJcIiwgZXJyKTtcblxuICAgICAgICAgIGNvbnN0IGVsYXBzZWRTZWNUaW1lID0gKERhdGUubm93KCkgLSB0aGlzLl90aW1lU2luY2VMYXN0TG9ja0NoYW5nZSkgLyAxMDAwO1xuXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJlbGFwc2VkU2VjVGltZSAyXCIsIGVsYXBzZWRTZWNUaW1lKTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGByZXF1ZXN0IGZvciBsb2NrIHdhcyB0b28gZWFybHksIHRpbWUgdG8gd2FpdDogJHtlbGFwc2VkU2VjVGltZS50b0ZpeGVkKDIpfXNlY2BcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGltZVNpbmNlTGFzdExvY2tDaGFuZ2UgPSBEYXRlLm5vdygpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInRpbWVyIHJlc2V0XCIpO1xuXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdyZXF1ZXN0IGZvciBsb2NrIGRvbmUnIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICd1bnN1cHBvcnRlZCByZXF1ZXN0IGZvciBsb2NrJyB9O1xuICB9XG5cbiAgLy9cblxuICBhbGxvd1BvaW50ZXJMb2NrZWRPbkNsaWNrRXZlbnQoaW5UYXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIGlmIChpblRhcmdldEVsZW1lbnQgPT09IHRoaXMuX2xhdGVzdFJlcXVlc3RIdG1sRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2xhdGVzdFJlcXVlc3RIdG1sRWxlbWVudCA9IGluVGFyZ2V0RWxlbWVudDtcblxuICAgIGNvbnN0IG9uQ2xpY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpblRhcmdldEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5yZXF1ZXN0UG9pbnRlckxvY2soaW5UYXJnZXRFbGVtZW50KTtcblxuICAgICAgdGhpcy5fbGF0ZXN0UmVxdWVzdEh0bWxFbGVtZW50ID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRoaXMuYWxsb3dQb2ludGVyTG9ja2VkT25DbGlja0V2ZW50KGluVGFyZ2V0RWxlbWVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGluVGFyZ2V0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spO1xuICB9XG5cbiAgLy9cblxuICBleGl0UG9pbnRlckxvY2soKSB7XG4gICAgZm9yIChjb25zdCBjdXJyRXZlbnQgb2YgYWxsRXhpdEV2ZW50cykge1xuICAgICAgaWYgKGN1cnJFdmVudCBpbiBkb2N1bWVudCkge1xuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KVtjdXJyRXZlbnRdKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vXG5cbiAgYWRkT25Mb2NrQ2hhbmdlKGluQ2FsbGJhY2s6IE9uQ2hhbmdlQ2FsbGJhY2spIHtcbiAgICB0aGlzLl9vbkxvY2tDaGFuZ2VDYWxsYmFja3MucHVzaChpbkNhbGxiYWNrKTtcbiAgfVxuICByZW1vdmVPbkxvY2tDaGFuZ2UoaW5DYWxsYmFjazogT25DaGFuZ2VDYWxsYmFjaykge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb25Mb2NrQ2hhbmdlQ2FsbGJhY2tzLmluZGV4T2YoaW5DYWxsYmFjayk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9vbkxvY2tDaGFuZ2VDYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIC8vXG5cbiAgYWRkT25Mb2NrRXJyb3IoaW5DYWxsYmFjazogT25FcnJvckNhbGxiYWNrKSB7XG4gICAgdGhpcy5fb25Mb2NrRXJyb3JDYWxsYmFja3MucHVzaChpbkNhbGxiYWNrKTtcbiAgfVxuICByZW1vdmVPbkxvY2tFcnJvcihpbkNhbGxiYWNrOiBPbkVycm9yQ2FsbGJhY2spIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX29uTG9ja0Vycm9yQ2FsbGJhY2tzLmluZGV4T2YoaW5DYWxsYmFjayk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9vbkxvY2tFcnJvckNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgLy9cblxuICByZW1vdmVBbGxDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5fb25Mb2NrQ2hhbmdlQ2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5fb25Mb2NrRXJyb3JDYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgfVxufVxuXG5jb25zdCBHbG9iYWxQb2ludGVyTG9ja01hbmFnZXIgPSBuZXcgUG9pbnRlckxvY2tNYW5hZ2VyKCk7XG5cbmV4cG9ydCB7IEdsb2JhbFBvaW50ZXJMb2NrTWFuYWdlciB9O1xuIiwKICAiY2xhc3MgVG91Y2hEYXRhIHtcbiAgcHVibGljIGlkOiBudW1iZXI7XG4gIHB1YmxpYyBjcmVhdGVkQXQgPSBEYXRlLm5vdygpO1xuICBwdWJsaWMgcG9zaXRpb25YOiBudW1iZXI7XG4gIHB1YmxpYyBwb3NpdGlvblk6IG51bWJlcjtcbiAgcHVibGljIGRlbHRhWDogbnVtYmVyID0gMDtcbiAgcHVibGljIGRlbHRhWTogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwb3NpdGlvblg6IG51bWJlciwgcG9zaXRpb25ZOiBudW1iZXIpIHtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5wb3NpdGlvblggPSBwb3NpdGlvblg7XG4gICAgdGhpcy5wb3NpdGlvblkgPSBwb3NpdGlvblk7XG4gIH1cblxuICByZXNldERlbHRhKCkge1xuICAgIHRoaXMuZGVsdGFYID0gMDtcbiAgICB0aGlzLmRlbHRhWSA9IDA7XG4gIH1cbn1cblxuY2xhc3MgVG91Y2hNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBfYWN0aXZhdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX2FsbFRvdWNoRGF0YU1hcCA9IG5ldyBNYXA8c3RyaW5nLCBUb3VjaERhdGE+KCk7XG4gIHByaXZhdGUgX2FsbENhY2hlZFRvdWNoRGF0YUFycmF5OiBUb3VjaERhdGFbXSA9IFtdO1xuXG4gIHByaXZhdGUgX2hhbmRsZVRvdWNoU3RhcnQ6IChldmVudDogVG91Y2hFdmVudCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBfaGFuZGxlVG91Y2hFbmQ6IChldmVudDogVG91Y2hFdmVudCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBfaGFuZGxlVG91Y2hNb3ZlOiAoZXZlbnQ6IFRvdWNoRXZlbnQpID0+IHZvaWQ7XG5cbiAgcHJpdmF0ZSBfb25FdmVudDogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnN0IGhhbmRsZVRvdWNoU3RhcnQgPSAoZXZlbnQ6IFRvdWNoRXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmICh0aGlzLl9vbkV2ZW50KSB7XG4gICAgICAgIHRoaXMuX29uRXZlbnQoKTtcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBjb25zdCB7IGlkZW50aWZpZXIsIHBhZ2VYLCBwYWdlWSB9ID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbaWldO1xuICAgICAgICBjb25zdCBuZXdEYXRhID0gbmV3IFRvdWNoRGF0YShpZGVudGlmaWVyLCBwYWdlWCwgcGFnZVkpO1xuXG4gICAgICAgIHRoaXMuX2FsbFRvdWNoRGF0YU1hcC5zZXQoYCR7aWRlbnRpZmllcn1gLCBuZXdEYXRhKTtcbiAgICAgICAgdGhpcy5fYWxsQ2FjaGVkVG91Y2hEYXRhQXJyYXkubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVRvdWNoRW5kID0gKGV2ZW50OiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAodGhpcy5fb25FdmVudCkge1xuICAgICAgICB0aGlzLl9vbkV2ZW50KCk7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgY29uc3QgeyBpZGVudGlmaWVyIH0gPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpaV07XG5cbiAgICAgICAgdGhpcy5fYWxsVG91Y2hEYXRhTWFwLmRlbGV0ZShgJHtpZGVudGlmaWVyfWApO1xuICAgICAgICB0aGlzLl9hbGxDYWNoZWRUb3VjaERhdGFBcnJheS5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaGFuZGxlVG91Y2hNb3ZlID0gKGV2ZW50OiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAodGhpcy5fb25FdmVudCkge1xuICAgICAgICB0aGlzLl9vbkV2ZW50KCk7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgY29uc3QgeyBpZGVudGlmaWVyLCBwYWdlWCwgcGFnZVkgfSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzW2lpXTtcblxuICAgICAgICBjb25zdCBjdXJyRGF0YSA9IHRoaXMuX2FsbFRvdWNoRGF0YU1hcC5nZXQoYCR7aWRlbnRpZmllcn1gKTtcbiAgICAgICAgaWYgKCFjdXJyRGF0YSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGVsdGFYID0gcGFnZVggLSBjdXJyRGF0YS5wb3NpdGlvblg7XG4gICAgICAgIGNvbnN0IGRlbHRhWSA9IHBhZ2VZIC0gY3VyckRhdGEucG9zaXRpb25ZO1xuXG4gICAgICAgIGN1cnJEYXRhLmRlbHRhWCArPSBkZWx0YVg7XG4gICAgICAgIGN1cnJEYXRhLmRlbHRhWSArPSBkZWx0YVk7XG4gICAgICAgIGN1cnJEYXRhLnBvc2l0aW9uWCA9IHBhZ2VYO1xuICAgICAgICBjdXJyRGF0YS5wb3NpdGlvblkgPSBwYWdlWTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5fYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgdGhpcy5faGFuZGxlVG91Y2hTdGFydCA9IGhhbmRsZVRvdWNoU3RhcnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVUb3VjaEVuZCA9IGhhbmRsZVRvdWNoRW5kLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlVG91Y2hNb3ZlID0gaGFuZGxlVG91Y2hNb3ZlLmJpbmQodGhpcyk7XG4gIH1cblxuICBpc1N1cHBvcnRlZChpblRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuICdvbnRvdWNoc3RhcnQnIGluIGluVGFyZ2V0RWxlbWVudDtcbiAgfVxuXG4gIGFjdGl2YXRlKGluVGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBpZiAoIXRoaXMuaXNTdXBwb3J0ZWQoaW5UYXJnZXRFbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fYWN0aXZhdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fYWxsVG91Y2hEYXRhTWFwLmNsZWFyKCk7XG4gICAgdGhpcy5fYWxsQ2FjaGVkVG91Y2hEYXRhQXJyYXkubGVuZ3RoID0gMDtcblxuICAgIGluVGFyZ2V0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlVG91Y2hTdGFydCk7XG4gICAgaW5UYXJnZXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlVG91Y2hFbmQpO1xuICAgIGluVGFyZ2V0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMuX2hhbmRsZVRvdWNoRW5kKTtcbiAgICBpblRhcmdldEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlVG91Y2hNb3ZlLCB7XG4gICAgICBwYXNzaXZlOiBmYWxzZVxuICAgIH0pO1xuXG4gICAgdGhpcy5fYWN0aXZhdGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGRlYWN0aXZhdGUoaW5UYXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIGlmICghdGhpcy5fYWN0aXZhdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fYWxsVG91Y2hEYXRhTWFwLmNsZWFyKCk7XG4gICAgdGhpcy5fYWxsQ2FjaGVkVG91Y2hEYXRhQXJyYXkubGVuZ3RoID0gMDtcblxuICAgIGluVGFyZ2V0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlVG91Y2hTdGFydCk7XG4gICAgaW5UYXJnZXRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlVG91Y2hFbmQpO1xuICAgIGluVGFyZ2V0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMuX2hhbmRsZVRvdWNoRW5kKTtcbiAgICBpblRhcmdldEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlVG91Y2hNb3ZlKTtcblxuICAgIHRoaXMuX2FjdGl2YXRlZCA9IGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVmcmVzaENhY2hlKCkge1xuICAgIGlmICh0aGlzLl9hbGxDYWNoZWRUb3VjaERhdGFBcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX2FsbENhY2hlZFRvdWNoRGF0YUFycmF5ID0gWy4uLnRoaXMuX2FsbFRvdWNoRGF0YU1hcC52YWx1ZXMoKV07XG4gICAgfVxuICB9XG5cbiAgZ2V0VG91Y2hEYXRhKCk6IFJlYWRvbmx5QXJyYXk8VG91Y2hEYXRhPiB7XG4gICAgdGhpcy5fcmVmcmVzaENhY2hlKCk7XG4gICAgcmV0dXJuIHRoaXMuX2FsbENhY2hlZFRvdWNoRGF0YUFycmF5O1xuICB9XG5cbiAgcmVzZXREZWx0YXMoKSB7XG4gICAgdGhpcy5fcmVmcmVzaENhY2hlKCk7XG4gICAgdGhpcy5fYWxsQ2FjaGVkVG91Y2hEYXRhQXJyYXkuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5yZXNldERlbHRhKCkpO1xuICB9XG5cbiAgb25FdmVudChjYWxsYmFjazogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5fb25FdmVudCA9IGNhbGxiYWNrO1xuICB9XG59XG5cbi8vXG4vL1xuLy9cblxuY29uc3QgR2xvYmFsVG91Y2hNYW5hZ2VyID0gbmV3IFRvdWNoTWFuYWdlcigpO1xuXG5leHBvcnQgeyBHbG9iYWxUb3VjaE1hbmFnZXIgfTtcbiIsCiAgInR5cGUgT25DaGFuZ2VDYWxsYmFjayA9IChpc1Zpc2libGU6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbmNsYXNzIFZpc2liaWxpdHlNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBfYWN0aXZhdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX29uVmlzaWJpbGl0eUNoYW5nZUNhbGxiYWNrczogT25DaGFuZ2VDYWxsYmFja1tdID0gW107XG5cbiAgcHJpdmF0ZSBfaGFuZGxlVmlzaWJpbGl0eUNoYW5nZTogKCkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5pc1Zpc2libGUoKTtcbiAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZUNhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soaXNWaXNpYmxlKSk7XG4gICAgfTtcblxuICAgIHRoaXMuX2hhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlLmJpbmQodGhpcyk7XG4gIH1cblxuICBhY3RpdmF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fYWN0aXZhdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMuX2hhbmRsZVZpc2liaWxpdHlDaGFuZ2UsIGZhbHNlKTtcblxuICAgIHRoaXMuX2FjdGl2YXRlZCA9IHRydWU7XG4gIH1cblxuICBkZWFjdGl2YXRlKCkge1xuICAgIGlmICghdGhpcy5fYWN0aXZhdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMuX2hhbmRsZVZpc2liaWxpdHlDaGFuZ2UsIGZhbHNlKTtcblxuICAgIHRoaXMuX2FjdGl2YXRlZCA9IGZhbHNlO1xuICB9XG5cbiAgLy9cblxuICBpc1N1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gJ29udmlzaWJpbGl0eWNoYW5nZScgaW4gZG9jdW1lbnQ7XG4gIH1cblxuICAvL1xuXG4gIGlzVmlzaWJsZSgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAndmlzaWJsZSc7XG4gIH1cblxuICAvL1xuXG4gIGFkZFZpc2liaWxpdHlDaGFuZ2UoaW5DYWxsYmFjazogT25DaGFuZ2VDYWxsYmFjaykge1xuICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZUNhbGxiYWNrcy5wdXNoKGluQ2FsbGJhY2spO1xuICB9XG4gIHJlbW92ZVZpc2liaWxpdHlDaGFuZ2UoaW5DYWxsYmFjazogT25DaGFuZ2VDYWxsYmFjaykge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlQ2FsbGJhY2tzLmluZGV4T2YoaW5DYWxsYmFjayk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VDYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIC8vXG5cbiAgcmVtb3ZlQWxsQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZUNhbGxiYWNrcy5sZW5ndGggPSAwO1xuICB9XG59XG5cbmNvbnN0IEdsb2JhbFZpc2liaWxpdHlNYW5hZ2VyID0gbmV3IFZpc2liaWxpdHlNYW5hZ2VyKCk7XG5cbmV4cG9ydCB7IEdsb2JhbFZpc2liaWxpdHlNYW5hZ2VyIH07XG4iLAogICJleHBvcnQgY29uc3QgaXNXZWJXb3JrZXJTdXBwb3J0ZWQgPSAoKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiAhIXdpbmRvdy5Xb3JrZXI7XG59O1xuIiwKICAiZXhwb3J0IGNvbnN0IGlzV2ViR0wyU3VwcG9ydGVkID0gKCk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gISF3aW5kb3cuV2ViR0wyUmVuZGVyaW5nQ29udGV4dDtcbn07XG4iLAogICIvKipcbiAqIENvbW1vbiB1dGlsaXRpZXNcbiAqIEBtb2R1bGUgZ2xNYXRyaXhcbiAqL1xuLy8gQ29uZmlndXJhdGlvbiBDb25zdGFudHNcbmV4cG9ydCB2YXIgRVBTSUxPTiA9IDAuMDAwMDAxO1xuZXhwb3J0IHZhciBBUlJBWV9UWVBFID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBGbG9hdDMyQXJyYXkgOiBBcnJheTtcbmV4cG9ydCB2YXIgUkFORE9NID0gTWF0aC5yYW5kb207XG4vKipcbiAqIFNldHMgdGhlIHR5cGUgb2YgYXJyYXkgdXNlZCB3aGVuIGNyZWF0aW5nIG5ldyB2ZWN0b3JzIGFuZCBtYXRyaWNlc1xuICpcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5Q29uc3RydWN0b3IgfCBBcnJheUNvbnN0cnVjdG9yfSB0eXBlIEFycmF5IHR5cGUsIHN1Y2ggYXMgRmxvYXQzMkFycmF5IG9yIEFycmF5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKSB7XG4gIEFSUkFZX1RZUEUgPSB0eXBlO1xufVxudmFyIGRlZ3JlZSA9IE1hdGguUEkgLyAxODA7XG4vKipcbiAqIENvbnZlcnQgRGVncmVlIFRvIFJhZGlhblxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIEFuZ2xlIGluIERlZ3JlZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9SYWRpYW4oYSkge1xuICByZXR1cm4gYSAqIGRlZ3JlZTtcbn1cbi8qKlxuICogVGVzdHMgd2hldGhlciBvciBub3QgdGhlIGFyZ3VtZW50cyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgdmFsdWUsIHdpdGhpbiBhbiBhYnNvbHV0ZVxuICogb3IgcmVsYXRpdmUgdG9sZXJhbmNlIG9mIGdsTWF0cml4LkVQU0lMT04gKGFuIGFic29sdXRlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciB2YWx1ZXMgbGVzc1xuICogdGhhbiBvciBlcXVhbCB0byAxLjAsIGFuZCBhIHJlbGF0aXZlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciBsYXJnZXIgdmFsdWVzKVxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIFRoZSBmaXJzdCBudW1iZXIgdG8gdGVzdC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBiIFRoZSBzZWNvbmQgbnVtYmVyIHRvIHRlc3QuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbnVtYmVycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDw9IEVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEpLCBNYXRoLmFicyhiKSk7XG59XG5pZiAoIU1hdGguaHlwb3QpIE1hdGguaHlwb3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB5ID0gMCxcbiAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB5ICs9IGFyZ3VtZW50c1tpXSAqIGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnNxcnQoeSk7XG59OyIsCiAgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiA0eDQgTWF0cml4PGJyPkZvcm1hdDogY29sdW1uLW1ham9yLCB3aGVuIHR5cGVkIG91dCBpdCBsb29rcyBsaWtlIHJvdy1tYWpvcjxicj5UaGUgbWF0cmljZXMgYXJlIGJlaW5nIHBvc3QgbXVsdGlwbGllZC5cbiAqIEBtb2R1bGUgbWF0NFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQ0XG4gKlxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgICBvdXRbM10gPSAwO1xuICAgIG91dFs0XSA9IDA7XG4gICAgb3V0WzZdID0gMDtcbiAgICBvdXRbN10gPSAwO1xuICAgIG91dFs4XSA9IDA7XG4gICAgb3V0WzldID0gMDtcbiAgICBvdXRbMTFdID0gMDtcbiAgICBvdXRbMTJdID0gMDtcbiAgICBvdXRbMTNdID0gMDtcbiAgICBvdXRbMTRdID0gMDtcbiAgfVxuXG4gIG91dFswXSA9IDE7XG4gIG91dFs1XSA9IDE7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgbWF0cml4XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIGNsb25lXG4gKiBAcmV0dXJucyB7bWF0NH0gYSBuZXcgNHg0IG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBtYXQ0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdDQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxuICogQHJldHVybnMge21hdDR9IEEgbmV3IG1hdDRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQ0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQ0IHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNwb3NlIHRoZSB2YWx1ZXMgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICBpZiAob3V0ID09PSBhKSB7XG4gICAgdmFyIGEwMSA9IGFbMV0sXG4gICAgICAgIGEwMiA9IGFbMl0sXG4gICAgICAgIGEwMyA9IGFbM107XG4gICAgdmFyIGExMiA9IGFbNl0sXG4gICAgICAgIGExMyA9IGFbN107XG4gICAgdmFyIGEyMyA9IGFbMTFdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhMDE7XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhMDI7XG4gICAgb3V0WzldID0gYTEyO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYTAzO1xuICAgIG91dFsxM10gPSBhMTM7XG4gICAgb3V0WzE0XSA9IGEyMztcbiAgfSBlbHNlIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhWzFdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhWzJdO1xuICAgIG91dFs5XSA9IGFbNl07XG4gICAgb3V0WzEwXSA9IGFbMTBdO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYVszXTtcbiAgICBvdXRbMTNdID0gYVs3XTtcbiAgICBvdXRbMTRdID0gYVsxMV07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHZhciBkZXQgPSBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG5cbiAgaWYgKCFkZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsxXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbMl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcbiAgb3V0WzNdID0gKGEyMiAqIGIwNCAtIGEyMSAqIGIwNSAtIGEyMyAqIGIwMykgKiBkZXQ7XG4gIG91dFs0XSA9IChhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDcpICogZGV0O1xuICBvdXRbNV0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzZdID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs3XSA9IChhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDEpICogZGV0O1xuICBvdXRbOF0gPSAoYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2KSAqIGRldDtcbiAgb3V0WzldID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFsxMF0gPSAoYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwKSAqIGRldDtcbiAgb3V0WzExXSA9IChhMjEgKiBiMDIgLSBhMjAgKiBiMDQgLSBhMjMgKiBiMDApICogZGV0O1xuICBvdXRbMTJdID0gKGExMSAqIGIwNyAtIGExMCAqIGIwOSAtIGExMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxM10gPSAoYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2KSAqIGRldDtcbiAgb3V0WzE0XSA9IChhMzEgKiBiMDEgLSBhMzAgKiBiMDMgLSBhMzIgKiBiMDApICogZGV0O1xuICBvdXRbMTVdID0gKGEyMCAqIGIwMyAtIGEyMSAqIGIwMSArIGEyMiAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGFkanVnYXRlIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgb3V0WzBdID0gYTExICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpO1xuICBvdXRbMV0gPSAtKGEwMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSk7XG4gIG91dFsyXSA9IGEwMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTExICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcbiAgb3V0WzNdID0gLShhMDEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xuICBvdXRbNF0gPSAtKGExMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSk7XG4gIG91dFs1XSA9IGEwMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKTtcbiAgb3V0WzZdID0gLShhMDAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xuICBvdXRbN10gPSBhMDAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XG4gIG91dFs4XSA9IGExMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKTtcbiAgb3V0WzldID0gLShhMDAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkpO1xuICBvdXRbMTBdID0gYTAwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpO1xuICBvdXRbMTFdID0gLShhMDAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSkpO1xuICBvdXRbMTJdID0gLShhMTAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkpO1xuICBvdXRbMTNdID0gYTAwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpO1xuICBvdXRbMTRdID0gLShhMDAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSkpO1xuICBvdXRbMTVdID0gYTAwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge051bWJlcn0gZGV0ZXJtaW5hbnQgb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgcmV0dXJuIGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0NHNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07IC8vIENhY2hlIG9ubHkgdGhlIGN1cnJlbnQgbGluZSBvZiB0aGUgc2Vjb25kIG1hdHJpeFxuXG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIG91dFswXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzJdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFszXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbNF07XG4gIGIxID0gYls1XTtcbiAgYjIgPSBiWzZdO1xuICBiMyA9IGJbN107XG4gIG91dFs0XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbNV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzZdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFs3XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbOF07XG4gIGIxID0gYls5XTtcbiAgYjIgPSBiWzEwXTtcbiAgYjMgPSBiWzExXTtcbiAgb3V0WzhdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs5XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTBdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxMV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzEyXTtcbiAgYjEgPSBiWzEzXTtcbiAgYjIgPSBiWzE0XTtcbiAgYjMgPSBiWzE1XTtcbiAgb3V0WzEyXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMTNdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxNF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzE1XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2xhdGUgYSBtYXQ0IGJ5IHRoZSBnaXZlbiB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byB0cmFuc2xhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuXG4gIGlmIChhID09PSBvdXQpIHtcbiAgICBvdXRbMTJdID0gYVswXSAqIHggKyBhWzRdICogeSArIGFbOF0gKiB6ICsgYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMV0gKiB4ICsgYVs1XSAqIHkgKyBhWzldICogeiArIGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzJdICogeCArIGFbNl0gKiB5ICsgYVsxMF0gKiB6ICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbM10gKiB4ICsgYVs3XSAqIHkgKyBhWzExXSAqIHogKyBhWzE1XTtcbiAgfSBlbHNlIHtcbiAgICBhMDAgPSBhWzBdO1xuICAgIGEwMSA9IGFbMV07XG4gICAgYTAyID0gYVsyXTtcbiAgICBhMDMgPSBhWzNdO1xuICAgIGExMCA9IGFbNF07XG4gICAgYTExID0gYVs1XTtcbiAgICBhMTIgPSBhWzZdO1xuICAgIGExMyA9IGFbN107XG4gICAgYTIwID0gYVs4XTtcbiAgICBhMjEgPSBhWzldO1xuICAgIGEyMiA9IGFbMTBdO1xuICAgIGEyMyA9IGFbMTFdO1xuICAgIG91dFswXSA9IGEwMDtcbiAgICBvdXRbMV0gPSBhMDE7XG4gICAgb3V0WzJdID0gYTAyO1xuICAgIG91dFszXSA9IGEwMztcbiAgICBvdXRbNF0gPSBhMTA7XG4gICAgb3V0WzVdID0gYTExO1xuICAgIG91dFs2XSA9IGExMjtcbiAgICBvdXRbN10gPSBhMTM7XG4gICAgb3V0WzhdID0gYTIwO1xuICAgIG91dFs5XSA9IGEyMTtcbiAgICBvdXRbMTBdID0gYTIyO1xuICAgIG91dFsxMV0gPSBhMjM7XG4gICAgb3V0WzEyXSA9IGEwMCAqIHggKyBhMTAgKiB5ICsgYTIwICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhMDEgKiB4ICsgYTExICogeSArIGEyMSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYTAyICogeCArIGExMiAqIHkgKyBhMjIgKiB6ICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGEwMyAqIHggKyBhMTMgKiB5ICsgYTIzICogeiArIGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQ0IGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMzIG5vdCB1c2luZyB2ZWN0b3JpemF0aW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHRoZSB2ZWMzIHRvIHNjYWxlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICBvdXRbMF0gPSBhWzBdICogeDtcbiAgb3V0WzFdID0gYVsxXSAqIHg7XG4gIG91dFsyXSA9IGFbMl0gKiB4O1xuICBvdXRbM10gPSBhWzNdICogeDtcbiAgb3V0WzRdID0gYVs0XSAqIHk7XG4gIG91dFs1XSA9IGFbNV0gKiB5O1xuICBvdXRbNl0gPSBhWzZdICogeTtcbiAgb3V0WzddID0gYVs3XSAqIHk7XG4gIG91dFs4XSA9IGFbOF0gKiB6O1xuICBvdXRbOV0gPSBhWzldICogejtcbiAgb3V0WzEwXSA9IGFbMTBdICogejtcbiAgb3V0WzExXSA9IGFbMTFdICogejtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0NCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBnaXZlbiBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCByYWQsIGF4aXMpIHtcbiAgdmFyIHggPSBheGlzWzBdLFxuICAgICAgeSA9IGF4aXNbMV0sXG4gICAgICB6ID0gYXhpc1syXTtcbiAgdmFyIGxlbiA9IE1hdGguaHlwb3QoeCwgeSwgeik7XG4gIHZhciBzLCBjLCB0O1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuICB2YXIgYjAwLCBiMDEsIGIwMjtcbiAgdmFyIGIxMCwgYjExLCBiMTI7XG4gIHZhciBiMjAsIGIyMSwgYjIyO1xuXG4gIGlmIChsZW4gPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZW4gPSAxIC8gbGVuO1xuICB4ICo9IGxlbjtcbiAgeSAqPSBsZW47XG4gIHogKj0gbGVuO1xuICBzID0gTWF0aC5zaW4ocmFkKTtcbiAgYyA9IE1hdGguY29zKHJhZCk7XG4gIHQgPSAxIC0gYztcbiAgYTAwID0gYVswXTtcbiAgYTAxID0gYVsxXTtcbiAgYTAyID0gYVsyXTtcbiAgYTAzID0gYVszXTtcbiAgYTEwID0gYVs0XTtcbiAgYTExID0gYVs1XTtcbiAgYTEyID0gYVs2XTtcbiAgYTEzID0gYVs3XTtcbiAgYTIwID0gYVs4XTtcbiAgYTIxID0gYVs5XTtcbiAgYTIyID0gYVsxMF07XG4gIGEyMyA9IGFbMTFdOyAvLyBDb25zdHJ1Y3QgdGhlIGVsZW1lbnRzIG9mIHRoZSByb3RhdGlvbiBtYXRyaXhcblxuICBiMDAgPSB4ICogeCAqIHQgKyBjO1xuICBiMDEgPSB5ICogeCAqIHQgKyB6ICogcztcbiAgYjAyID0geiAqIHggKiB0IC0geSAqIHM7XG4gIGIxMCA9IHggKiB5ICogdCAtIHogKiBzO1xuICBiMTEgPSB5ICogeSAqIHQgKyBjO1xuICBiMTIgPSB6ICogeSAqIHQgKyB4ICogcztcbiAgYjIwID0geCAqIHogKiB0ICsgeSAqIHM7XG4gIGIyMSA9IHkgKiB6ICogdCAtIHggKiBzO1xuICBiMjIgPSB6ICogeiAqIHQgKyBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGEwMCAqIGIwMCArIGExMCAqIGIwMSArIGEyMCAqIGIwMjtcbiAgb3V0WzFdID0gYTAxICogYjAwICsgYTExICogYjAxICsgYTIxICogYjAyO1xuICBvdXRbMl0gPSBhMDIgKiBiMDAgKyBhMTIgKiBiMDEgKyBhMjIgKiBiMDI7XG4gIG91dFszXSA9IGEwMyAqIGIwMCArIGExMyAqIGIwMSArIGEyMyAqIGIwMjtcbiAgb3V0WzRdID0gYTAwICogYjEwICsgYTEwICogYjExICsgYTIwICogYjEyO1xuICBvdXRbNV0gPSBhMDEgKiBiMTAgKyBhMTEgKiBiMTEgKyBhMjEgKiBiMTI7XG4gIG91dFs2XSA9IGEwMiAqIGIxMCArIGExMiAqIGIxMSArIGEyMiAqIGIxMjtcbiAgb3V0WzddID0gYTAzICogYjEwICsgYTEzICogYjExICsgYTIzICogYjEyO1xuICBvdXRbOF0gPSBhMDAgKiBiMjAgKyBhMTAgKiBiMjEgKyBhMjAgKiBiMjI7XG4gIG91dFs5XSA9IGEwMSAqIGIyMCArIGExMSAqIGIyMSArIGEyMSAqIGIyMjtcbiAgb3V0WzEwXSA9IGEwMiAqIGIyMCArIGExMiAqIGIyMSArIGEyMiAqIGIyMjtcbiAgb3V0WzExXSA9IGEwMyAqIGIyMCArIGExMyAqIGIyMSArIGEyMyAqIGIyMjtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgbGFzdCByb3dcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbNF0gPSBhMTAgKiBjICsgYTIwICogcztcbiAgb3V0WzVdID0gYTExICogYyArIGEyMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgKyBhMjIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjICsgYTIzICogcztcbiAgb3V0WzhdID0gYTIwICogYyAtIGExMCAqIHM7XG4gIG91dFs5XSA9IGEyMSAqIGMgLSBhMTEgKiBzO1xuICBvdXRbMTBdID0gYTIyICogYyAtIGExMiAqIHM7XG4gIG91dFsxMV0gPSBhMjMgKiBjIC0gYTEzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMDAgPSBhWzBdO1xuICB2YXIgYTAxID0gYVsxXTtcbiAgdmFyIGEwMiA9IGFbMl07XG4gIHZhciBhMDMgPSBhWzNdO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXG4gICAgb3V0WzRdID0gYVs0XTtcbiAgICBvdXRbNV0gPSBhWzVdO1xuICAgIG91dFs2XSA9IGFbNl07XG4gICAgb3V0WzddID0gYVs3XTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzBdID0gYTAwICogYyAtIGEyMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgLSBhMjEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjIC0gYTIyICogcztcbiAgb3V0WzNdID0gYTAzICogYyAtIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEwMCAqIHMgKyBhMjAgKiBjO1xuICBvdXRbOV0gPSBhMDEgKiBzICsgYTIxICogYztcbiAgb3V0WzEwXSA9IGEwMiAqIHMgKyBhMjIgKiBjO1xuICBvdXRbMTFdID0gYTAzICogcyArIGEyMyAqIGM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzhdID0gYVs4XTtcbiAgICBvdXRbOV0gPSBhWzldO1xuICAgIG91dFsxMF0gPSBhWzEwXTtcbiAgICBvdXRbMTFdID0gYVsxMV07XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuXG4gIG91dFswXSA9IGEwMCAqIGMgKyBhMTAgKiBzO1xuICBvdXRbMV0gPSBhMDEgKiBjICsgYTExICogcztcbiAgb3V0WzJdID0gYTAyICogYyArIGExMiAqIHM7XG4gIG91dFszXSA9IGEwMyAqIGMgKyBhMTMgKiBzO1xuICBvdXRbNF0gPSBhMTAgKiBjIC0gYTAwICogcztcbiAgb3V0WzVdID0gYTExICogYyAtIGEwMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgLSBhMDIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjIC0gYTAzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB2KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciBzY2FsaW5nXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgU2NhbGluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XG4gIG91dFswXSA9IHZbMF07XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IHZbMV07XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSB2WzJdO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlIGFyb3VuZCBhIGdpdmVuIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlKGRlc3QsIGRlc3QsIHJhZCwgYXhpcyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0geCAqIHggKiB0ICsgYztcbiAgb3V0WzFdID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIG91dFsyXSA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4ICogeSAqIHQgLSB6ICogcztcbiAgb3V0WzVdID0geSAqIHkgKiB0ICsgYztcbiAgb3V0WzZdID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHggKiB6ICogdCArIHkgKiBzO1xuICBvdXRbOV0gPSB5ICogeiAqIHQgLSB4ICogcztcbiAgb3V0WzEwXSA9IHogKiB6ICogdCArIGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVYKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVhSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IC1zO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWVJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gLXM7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHM7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWihkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21aUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtcztcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiBhbmQgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIHEsIHYpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgb3V0WzBdID0gMSAtICh5eSArIHp6KTtcbiAgb3V0WzFdID0geHkgKyB3ejtcbiAgb3V0WzJdID0geHogLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geHkgLSB3ejtcbiAgb3V0WzVdID0gMSAtICh4eCArIHp6KTtcbiAgb3V0WzZdID0geXogKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geHogKyB3eTtcbiAgb3V0WzldID0geXogLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSAoeHggKyB5eSk7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGZyb20gYSBkdWFsIHF1YXQuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgTWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7bWF0NH0gbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdDIob3V0LCBhKSB7XG4gIHZhciB0cmFuc2xhdGlvbiA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICB2YXIgYnggPSAtYVswXSxcbiAgICAgIGJ5ID0gLWFbMV0sXG4gICAgICBieiA9IC1hWzJdLFxuICAgICAgYncgPSBhWzNdLFxuICAgICAgYXggPSBhWzRdLFxuICAgICAgYXkgPSBhWzVdLFxuICAgICAgYXogPSBhWzZdLFxuICAgICAgYXcgPSBhWzddO1xuICB2YXIgbWFnbml0dWRlID0gYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6ICsgYncgKiBidzsgLy9Pbmx5IHNjYWxlIGlmIGl0IG1ha2VzIHNlbnNlXG5cbiAgaWYgKG1hZ25pdHVkZSA+IDApIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDIgLyBtYWduaXR1ZGU7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMiAvIG1hZ25pdHVkZTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDI7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMjtcbiAgfVxuXG4gIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgYSwgdHJhbnNsYXRpb24pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sXG4gKiAgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHRyYW5zbGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG91dCwgbWF0KSB7XG4gIG91dFswXSA9IG1hdFsxMl07XG4gIG91dFsxXSA9IG1hdFsxM107XG4gIG91dFsyXSA9IG1hdFsxNF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVcbiAqICB3aXRoIGEgbm9ybWFsaXplZCBRdWF0ZXJuaW9uIHBhcmFtdGVyLCB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmVcbiAqICB0aGUgc2FtZSBhcyB0aGUgc2NhbGluZyB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjYWxpbmcob3V0LCBtYXQpIHtcbiAgdmFyIG0xMSA9IG1hdFswXTtcbiAgdmFyIG0xMiA9IG1hdFsxXTtcbiAgdmFyIG0xMyA9IG1hdFsyXTtcbiAgdmFyIG0yMSA9IG1hdFs0XTtcbiAgdmFyIG0yMiA9IG1hdFs1XTtcbiAgdmFyIG0yMyA9IG1hdFs2XTtcbiAgdmFyIG0zMSA9IG1hdFs4XTtcbiAgdmFyIG0zMiA9IG1hdFs5XTtcbiAgdmFyIG0zMyA9IG1hdFsxMF07XG4gIG91dFswXSA9IE1hdGguaHlwb3QobTExLCBtMTIsIG0xMyk7XG4gIG91dFsxXSA9IE1hdGguaHlwb3QobTIxLCBtMjIsIG0yMyk7XG4gIG91dFsyXSA9IE1hdGguaHlwb3QobTMxLCBtMzIsIG0zMyk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBxdWF0ZXJuaW9uIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb25hbCBjb21wb25lbnRcbiAqICBvZiBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aFxuICogIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLCB0aGUgcmV0dXJuZWQgcXVhdGVybmlvbiB3aWxsIGJlIHRoZVxuICogIHNhbWUgYXMgdGhlIHF1YXRlcm5pb24gb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSB7cXVhdH0gb3V0IFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGlvbihvdXQsIG1hdCkge1xuICB2YXIgc2NhbGluZyA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBnZXRTY2FsaW5nKHNjYWxpbmcsIG1hdCk7XG4gIHZhciBpczEgPSAxIC8gc2NhbGluZ1swXTtcbiAgdmFyIGlzMiA9IDEgLyBzY2FsaW5nWzFdO1xuICB2YXIgaXMzID0gMSAvIHNjYWxpbmdbMl07XG4gIHZhciBzbTExID0gbWF0WzBdICogaXMxO1xuICB2YXIgc20xMiA9IG1hdFsxXSAqIGlzMjtcbiAgdmFyIHNtMTMgPSBtYXRbMl0gKiBpczM7XG4gIHZhciBzbTIxID0gbWF0WzRdICogaXMxO1xuICB2YXIgc20yMiA9IG1hdFs1XSAqIGlzMjtcbiAgdmFyIHNtMjMgPSBtYXRbNl0gKiBpczM7XG4gIHZhciBzbTMxID0gbWF0WzhdICogaXMxO1xuICB2YXIgc20zMiA9IG1hdFs5XSAqIGlzMjtcbiAgdmFyIHNtMzMgPSBtYXRbMTBdICogaXMzO1xuICB2YXIgdHJhY2UgPSBzbTExICsgc20yMiArIHNtMzM7XG4gIHZhciBTID0gMDtcblxuICBpZiAodHJhY2UgPiAwKSB7XG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xuICAgIG91dFszXSA9IDAuMjUgKiBTO1xuICAgIG91dFswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMF0gPSAwLjI1ICogUztcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XG4gICAgb3V0WzJdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gIH0gZWxzZSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcbiAgICBvdXRbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgICBvdXRbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgICBvdXRbMl0gPSAwLjI1ICogUztcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKG91dCwgcSwgdiwgcykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICBvdXRbMF0gPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgb3V0WzFdID0gKHh5ICsgd3opICogc3g7XG4gIG91dFsyXSA9ICh4eiAtIHd5KSAqIHN4O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAoeHkgLSB3eikgKiBzeTtcbiAgb3V0WzVdID0gKDEgLSAoeHggKyB6eikpICogc3k7XG4gIG91dFs2XSA9ICh5eiArIHd4KSAqIHN5O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAoeHogKyB3eSkgKiBzejtcbiAgb3V0WzldID0gKHl6IC0gd3gpICogc3o7XG4gIG91dFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZSwgcm90YXRpbmcgYW5kIHNjYWxpbmcgYXJvdW5kIHRoZSBnaXZlbiBvcmlnaW5cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgb3JpZ2luKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBuZWdhdGl2ZU9yaWdpbik7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gbyBUaGUgb3JpZ2luIHZlY3RvciBhcm91bmQgd2hpY2ggdG8gc2NhbGUgYW5kIHJvdGF0ZVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlT3JpZ2luKG91dCwgcSwgdiwgcywgbykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICB2YXIgb3ggPSBvWzBdO1xuICB2YXIgb3kgPSBvWzFdO1xuICB2YXIgb3ogPSBvWzJdO1xuICB2YXIgb3V0MCA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICB2YXIgb3V0MSA9ICh4eSArIHd6KSAqIHN4O1xuICB2YXIgb3V0MiA9ICh4eiAtIHd5KSAqIHN4O1xuICB2YXIgb3V0NCA9ICh4eSAtIHd6KSAqIHN5O1xuICB2YXIgb3V0NSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICB2YXIgb3V0NiA9ICh5eiArIHd4KSAqIHN5O1xuICB2YXIgb3V0OCA9ICh4eiArIHd5KSAqIHN6O1xuICB2YXIgb3V0OSA9ICh5eiAtIHd4KSAqIHN6O1xuICB2YXIgb3V0MTAgPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzBdID0gb3V0MDtcbiAgb3V0WzFdID0gb3V0MTtcbiAgb3V0WzJdID0gb3V0MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gb3V0NDtcbiAgb3V0WzVdID0gb3V0NTtcbiAgb3V0WzZdID0gb3V0NjtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gb3V0ODtcbiAgb3V0WzldID0gb3V0OTtcbiAgb3V0WzEwXSA9IG91dDEwO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF0gKyBveCAtIChvdXQwICogb3ggKyBvdXQ0ICogb3kgKyBvdXQ4ICogb3opO1xuICBvdXRbMTNdID0gdlsxXSArIG95IC0gKG91dDEgKiBveCArIG91dDUgKiBveSArIG91dDkgKiBveik7XG4gIG91dFsxNF0gPSB2WzJdICsgb3ogLSAob3V0MiAqIG94ICsgb3V0NiAqIG95ICsgb3V0MTAgKiBveik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgNHg0IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbMl0gPSB6eCAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB5eCAtIHd6O1xuICBvdXRbNV0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzZdID0genkgKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0genggKyB3eTtcbiAgb3V0WzldID0genkgLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIGZydXN0dW0gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcnVzdHVtKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIHJsID0gMSAvIChyaWdodCAtIGxlZnQpO1xuICB2YXIgdGIgPSAxIC8gKHRvcCAtIGJvdHRvbSk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IG5lYXIgKiAyICogcmw7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IG5lYXIgKiAyICogdGI7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IChyaWdodCArIGxlZnQpICogcmw7XG4gIG91dFs5XSA9ICh0b3AgKyBib3R0b20pICogdGI7XG4gIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSBmYXIgKiBuZWFyICogMiAqIG5mO1xuICBvdXRbMTVdID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVOTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxuICAgICAgbmY7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcblxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gICAgb3V0WzE0XSA9IDIgKiBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtMiAqIG5lYXI7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQucGVyc3BlY3RpdmVOT31cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgcGVyc3BlY3RpdmUgPSBwZXJzcGVjdGl2ZU5PO1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCBzdWl0YWJsZSBmb3IgV2ViR1BVIHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVaTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxuICAgICAgbmY7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcblxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgICBvdXRbMTBdID0gZmFyICogbmY7XG4gICAgb3V0WzE0XSA9IGZhciAqIG5lYXIgKiBuZjtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMTBdID0gLTE7XG4gICAgb3V0WzE0XSA9IC1uZWFyO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZmllbGQgb2Ygdmlldy5cbiAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgZ2VuZXJhdGluZyBwcm9qZWN0aW9uIG1hdHJpY2VzIHRvIGJlIHVzZWRcbiAqIHdpdGggdGhlIHN0aWxsIGV4cGVyaWVtZW50YWwgV2ViVlIgQVBJLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBmb3YgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyB2YWx1ZXM6IHVwRGVncmVlcywgZG93bkRlZ3JlZXMsIGxlZnREZWdyZWVzLCByaWdodERlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcbiAgdmFyIHVwVGFuID0gTWF0aC50YW4oZm92LnVwRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBkb3duVGFuID0gTWF0aC50YW4oZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgcmlnaHRUYW4gPSBNYXRoLnRhbihmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XG4gIG91dFswXSA9IHhTY2FsZTtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgb3V0WzRdID0gMC4wO1xuICBvdXRbNV0gPSB5U2NhbGU7XG4gIG91dFs2XSA9IDAuMDtcbiAgb3V0WzddID0gMC4wO1xuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcbiAgb3V0WzldID0gKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjU7XG4gIG91dFsxMF0gPSBmYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxMV0gPSAtMS4wO1xuICBvdXRbMTJdID0gMC4wO1xuICBvdXRbMTNdID0gMC4wO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzE1XSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbLTEsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHTC9PcGVuR0wncyBjbGlwIHZvbHVtZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gb3J0aG9OTyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSAtMiAqIGxyO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAtMiAqIGJ0O1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMiAqIG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQub3J0aG9OT31cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgb3J0aG8gPSBvcnRob05PO1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvWk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gLTIgKiBscjtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gLTIgKiBidDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gbmVhciAqIG5mO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbG9vay1hdCBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZXllIHBvc2l0aW9uLCBmb2NhbCBwb2ludCwgYW5kIHVwIGF4aXMuXG4gKiBJZiB5b3Ugd2FudCBhIG1hdHJpeCB0aGF0IGFjdHVhbGx5IG1ha2VzIGFuIG9iamVjdCBsb29rIGF0IGFub3RoZXIgb2JqZWN0LCB5b3Ugc2hvdWxkIHVzZSB0YXJnZXRUbyBpbnN0ZWFkLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvb2tBdChvdXQsIGV5ZSwgY2VudGVyLCB1cCkge1xuICB2YXIgeDAsIHgxLCB4MiwgeTAsIHkxLCB5MiwgejAsIHoxLCB6MiwgbGVuO1xuICB2YXIgZXlleCA9IGV5ZVswXTtcbiAgdmFyIGV5ZXkgPSBleWVbMV07XG4gIHZhciBleWV6ID0gZXllWzJdO1xuICB2YXIgdXB4ID0gdXBbMF07XG4gIHZhciB1cHkgPSB1cFsxXTtcbiAgdmFyIHVweiA9IHVwWzJdO1xuICB2YXIgY2VudGVyeCA9IGNlbnRlclswXTtcbiAgdmFyIGNlbnRlcnkgPSBjZW50ZXJbMV07XG4gIHZhciBjZW50ZXJ6ID0gY2VudGVyWzJdO1xuXG4gIGlmIChNYXRoLmFicyhleWV4IC0gY2VudGVyeCkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXkgLSBjZW50ZXJ5KSA8IGdsTWF0cml4LkVQU0lMT04gJiYgTWF0aC5hYnMoZXlleiAtIGNlbnRlcnopIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBpZGVudGl0eShvdXQpO1xuICB9XG5cbiAgejAgPSBleWV4IC0gY2VudGVyeDtcbiAgejEgPSBleWV5IC0gY2VudGVyeTtcbiAgejIgPSBleWV6IC0gY2VudGVyejtcbiAgbGVuID0gMSAvIE1hdGguaHlwb3QoejAsIHoxLCB6Mik7XG4gIHowICo9IGxlbjtcbiAgejEgKj0gbGVuO1xuICB6MiAqPSBsZW47XG4gIHgwID0gdXB5ICogejIgLSB1cHogKiB6MTtcbiAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyO1xuICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeDAsIHgxLCB4Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB4MCA9IDA7XG4gICAgeDEgPSAwO1xuICAgIHgyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG5cbiAgeTAgPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgeTEgPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgeTIgPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgbGVuID0gTWF0aC5oeXBvdCh5MCwgeTEsIHkyKTtcblxuICBpZiAoIWxlbikge1xuICAgIHkwID0gMDtcbiAgICB5MSA9IDA7XG4gICAgeTIgPSAwO1xuICB9IGVsc2Uge1xuICAgIGxlbiA9IDEgLyBsZW47XG4gICAgeTAgKj0gbGVuO1xuICAgIHkxICo9IGxlbjtcbiAgICB5MiAqPSBsZW47XG4gIH1cblxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geTA7XG4gIG91dFsyXSA9IHowO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4MTtcbiAgb3V0WzVdID0geTE7XG4gIG91dFs2XSA9IHoxO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4MjtcbiAgb3V0WzldID0geTI7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAtKHgwICogZXlleCArIHgxICogZXlleSArIHgyICogZXlleik7XG4gIG91dFsxM10gPSAtKHkwICogZXlleCArIHkxICogZXlleSArIHkyICogZXlleik7XG4gIG91dFsxNF0gPSAtKHowICogZXlleCArIHoxICogZXlleSArIHoyICogZXlleik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBtYXRyaXggdGhhdCBtYWtlcyBzb21ldGhpbmcgbG9vayBhdCBzb21ldGhpbmcgZWxzZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0YXJnZXRUbyhvdXQsIGV5ZSwgdGFyZ2V0LCB1cCkge1xuICB2YXIgZXlleCA9IGV5ZVswXSxcbiAgICAgIGV5ZXkgPSBleWVbMV0sXG4gICAgICBleWV6ID0gZXllWzJdLFxuICAgICAgdXB4ID0gdXBbMF0sXG4gICAgICB1cHkgPSB1cFsxXSxcbiAgICAgIHVweiA9IHVwWzJdO1xuICB2YXIgejAgPSBleWV4IC0gdGFyZ2V0WzBdLFxuICAgICAgejEgPSBleWV5IC0gdGFyZ2V0WzFdLFxuICAgICAgejIgPSBleWV6IC0gdGFyZ2V0WzJdO1xuICB2YXIgbGVuID0gejAgKiB6MCArIHoxICogejEgKyB6MiAqIHoyO1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHowICo9IGxlbjtcbiAgICB6MSAqPSBsZW47XG4gICAgejIgKj0gbGVuO1xuICB9XG5cbiAgdmFyIHgwID0gdXB5ICogejIgLSB1cHogKiB6MSxcbiAgICAgIHgxID0gdXB6ICogejAgLSB1cHggKiB6MixcbiAgICAgIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcbiAgbGVuID0geDAgKiB4MCArIHgxICogeDEgKyB4MiAqIHgyO1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHgxO1xuICBvdXRbMl0gPSB4MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gejEgKiB4MiAtIHoyICogeDE7XG4gIG91dFs1XSA9IHoyICogeDAgLSB6MCAqIHgyO1xuICBvdXRbNl0gPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gejA7XG4gIG91dFs5XSA9IHoxO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gZXlleDtcbiAgb3V0WzEzXSA9IGV5ZXk7XG4gIG91dFsxNF0gPSBleWV6O1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJtYXQ0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIiwgXCIgKyBhWzhdICsgXCIsIFwiICsgYVs5XSArIFwiLCBcIiArIGFbMTBdICsgXCIsIFwiICsgYVsxMV0gKyBcIiwgXCIgKyBhWzEyXSArIFwiLCBcIiArIGFbMTNdICsgXCIsIFwiICsgYVsxNF0gKyBcIiwgXCIgKyBhWzE1XSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguaHlwb3QoYVswXSwgYVsxXSwgYVsyXSwgYVszXSwgYVs0XSwgYVs1XSwgYVs2XSwgYVs3XSwgYVs4XSwgYVs5XSwgYVsxMF0sIGFbMTFdLCBhWzEyXSwgYVsxM10sIGFbMTRdLCBhWzE1XSk7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDQnc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICBvdXRbN10gPSBhWzddIC0gYls3XTtcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gLSBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gLSBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdIC0gYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSAtIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gLSBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdIC0gYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSAtIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNdWx0aXBseSBlYWNoIGVsZW1lbnQgb2YgdGhlIG1hdHJpeCBieSBhIHNjYWxhci5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIG91dFs0XSA9IGFbNF0gKiBiO1xuICBvdXRbNV0gPSBhWzVdICogYjtcbiAgb3V0WzZdID0gYVs2XSAqIGI7XG4gIG91dFs3XSA9IGFbN10gKiBiO1xuICBvdXRbOF0gPSBhWzhdICogYjtcbiAgb3V0WzldID0gYVs5XSAqIGI7XG4gIG91dFsxMF0gPSBhWzEwXSAqIGI7XG4gIG91dFsxMV0gPSBhWzExXSAqIGI7XG4gIG91dFsxMl0gPSBhWzEyXSAqIGI7XG4gIG91dFsxM10gPSBhWzEzXSAqIGI7XG4gIG91dFsxNF0gPSBhWzE0XSAqIGI7XG4gIG91dFsxNV0gPSBhWzE1XSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDQncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdICogc2NhbGU7XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldICogc2NhbGU7XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdICogc2NhbGU7XG4gIG91dFsxMV0gPSBhWzExXSArIGJbMTFdICogc2NhbGU7XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdICogc2NhbGU7XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdICogc2NhbGU7XG4gIG91dFsxNF0gPSBhWzE0XSArIGJbMTRdICogc2NhbGU7XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdICYmIGFbOV0gPT09IGJbOV0gJiYgYVsxMF0gPT09IGJbMTBdICYmIGFbMTFdID09PSBiWzExXSAmJiBhWzEyXSA9PT0gYlsxMl0gJiYgYVsxM10gPT09IGJbMTNdICYmIGFbMTRdID09PSBiWzE0XSAmJiBhWzE1XSA9PT0gYlsxNV07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBhNCA9IGFbNF0sXG4gICAgICBhNSA9IGFbNV0sXG4gICAgICBhNiA9IGFbNl0sXG4gICAgICBhNyA9IGFbN107XG4gIHZhciBhOCA9IGFbOF0sXG4gICAgICBhOSA9IGFbOV0sXG4gICAgICBhMTAgPSBhWzEwXSxcbiAgICAgIGExMSA9IGFbMTFdO1xuICB2YXIgYTEyID0gYVsxMl0sXG4gICAgICBhMTMgPSBhWzEzXSxcbiAgICAgIGExNCA9IGFbMTRdLFxuICAgICAgYTE1ID0gYVsxNV07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIHZhciBiNCA9IGJbNF0sXG4gICAgICBiNSA9IGJbNV0sXG4gICAgICBiNiA9IGJbNl0sXG4gICAgICBiNyA9IGJbN107XG4gIHZhciBiOCA9IGJbOF0sXG4gICAgICBiOSA9IGJbOV0sXG4gICAgICBiMTAgPSBiWzEwXSxcbiAgICAgIGIxMSA9IGJbMTFdO1xuICB2YXIgYjEyID0gYlsxMl0sXG4gICAgICBiMTMgPSBiWzEzXSxcbiAgICAgIGIxNCA9IGJbMTRdLFxuICAgICAgYjE1ID0gYlsxNV07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpICYmIE1hdGguYWJzKGE4IC0gYjgpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE4KSwgTWF0aC5hYnMoYjgpKSAmJiBNYXRoLmFicyhhOSAtIGI5KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOSksIE1hdGguYWJzKGI5KSkgJiYgTWF0aC5hYnMoYTEwIC0gYjEwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTApLCBNYXRoLmFicyhiMTApKSAmJiBNYXRoLmFicyhhMTEgLSBiMTEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMSksIE1hdGguYWJzKGIxMSkpICYmIE1hdGguYWJzKGExMiAtIGIxMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEyKSwgTWF0aC5hYnMoYjEyKSkgJiYgTWF0aC5hYnMoYTEzIC0gYjEzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTMpLCBNYXRoLmFicyhiMTMpKSAmJiBNYXRoLmFicyhhMTQgLSBiMTQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNCksIE1hdGguYWJzKGIxNCkpICYmIE1hdGguYWJzKGExNSAtIGIxNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE1KSwgTWF0aC5hYnMoYjE1KSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7IiwKICAiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG4vKipcbiAqIDMgRGltZW5zaW9uYWwgVmVjdG9yXG4gKiBAbW9kdWxlIHZlYzNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzNcbiAqXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNsb25lXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgsIHksIHopIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjMyB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBzb3VyY2UgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHksIHopIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAvIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjZWlsXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNlaWwob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguY2VpbChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmNlaWwoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5mbG9vcihhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXgob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWF4KGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5tYXgoYVsyXSwgYlsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGgucm91bmQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byByb3VuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5yb3VuZChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5yb3VuZChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5yb3VuZChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIGEgdmVjMyBieSBhIHNjYWxhciBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzMncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG59XG4vKipcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBuZWdhdGVcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICAvL1RPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlP1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgfVxuXG4gIG91dFswXSA9IGFbMF0gKiBsZW47XG4gIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gIG91dFsyXSA9IGFbMl0gKiBsZW47XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcm9zcyhvdXQsIGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXTtcbiAgdmFyIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIGJ6ID0gYlsyXTtcbiAgb3V0WzBdID0gYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF6ICogYnggLSBheCAqIGJ6O1xuICBvdXRbMl0gPSBheCAqIGJ5IC0gYXkgKiBieDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgYXggPSBhWzBdO1xuICB2YXIgYXkgPSBhWzFdO1xuICB2YXIgYXogPSBhWzJdO1xuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGhlcm1pdGUgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGhlcm1pdGUob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgdmFyIGZhY3RvcjEgPSBmYWN0b3JUaW1lczIgKiAoMiAqIHQgLSAzKSArIDE7XG4gIHZhciBmYWN0b3IyID0gZmFjdG9yVGltZXMyICogKHQgLSAyKSArIHQ7XG4gIHZhciBmYWN0b3IzID0gZmFjdG9yVGltZXMyICogKHQgLSAxKTtcbiAgdmFyIGZhY3RvcjQgPSBmYWN0b3JUaW1lczIgKiAoMyAtIDIgKiB0KTtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBiZXppZXIgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGJlemllcihvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgdmFyIGludmVyc2VGYWN0b3IgPSAxIC0gdDtcbiAgdmFyIGludmVyc2VGYWN0b3JUaW1lc1R3byA9IGludmVyc2VGYWN0b3IgKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yVGltZXMyID0gdCAqIHQ7XG4gIHZhciBmYWN0b3IxID0gaW52ZXJzZUZhY3RvclRpbWVzVHdvICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvcjIgPSAzICogdCAqIGludmVyc2VGYWN0b3JUaW1lc1R3bztcbiAgdmFyIGZhY3RvcjMgPSAzICogZmFjdG9yVGltZXMyICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvcjQgPSBmYWN0b3JUaW1lczIgKiB0O1xuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0LCBzY2FsZSkge1xuICBzY2FsZSA9IHNjYWxlIHx8IDEuMDtcbiAgdmFyIHIgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAqIE1hdGguUEk7XG4gIHZhciB6ID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgLSAxLjA7XG4gIHZhciB6U2NhbGUgPSBNYXRoLnNxcnQoMS4wIC0geiAqIHopICogc2NhbGU7XG4gIG91dFswXSA9IE1hdGguY29zKHIpICogelNjYWxlO1xuICBvdXRbMV0gPSBNYXRoLnNpbihyKSAqIHpTY2FsZTtcbiAgb3V0WzJdID0geiAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQ0LlxuICogNHRoIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICB2YXIgdyA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XTtcbiAgdyA9IHcgfHwgMS4wO1xuICBvdXRbMF0gPSAobVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0pIC8gdztcbiAgb3V0WzFdID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAvIHc7XG4gIG91dFsyXSA9IChtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0pIC8gdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgbWF0My5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHRoZSAzeDMgbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDMob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIG91dFswXSA9IHggKiBtWzBdICsgeSAqIG1bM10gKyB6ICogbVs2XTtcbiAgb3V0WzFdID0geCAqIG1bMV0gKyB5ICogbVs0XSArIHogKiBtWzddO1xuICBvdXRbMl0gPSB4ICogbVsyXSArIHkgKiBtWzVdICsgeiAqIG1bOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIHF1YXRcbiAqIENhbiBhbHNvIGJlIHVzZWQgZm9yIGR1YWwgcXVhdGVybmlvbnMuIChNdWx0aXBseSBpdCB3aXRoIHRoZSByZWFsIHBhcnQpXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVF1YXQob3V0LCBhLCBxKSB7XG4gIC8vIGJlbmNobWFya3M6IGh0dHBzOi8vanNwZXJmLmNvbS9xdWF0ZXJuaW9uLXRyYW5zZm9ybS12ZWMzLWltcGxlbWVudGF0aW9ucy1maXhlZFxuICB2YXIgcXggPSBxWzBdLFxuICAgICAgcXkgPSBxWzFdLFxuICAgICAgcXogPSBxWzJdLFxuICAgICAgcXcgPSBxWzNdO1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdOyAvLyB2YXIgcXZlYyA9IFtxeCwgcXksIHF6XTtcbiAgLy8gdmFyIHV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgYSk7XG5cbiAgdmFyIHV2eCA9IHF5ICogeiAtIHF6ICogeSxcbiAgICAgIHV2eSA9IHF6ICogeCAtIHF4ICogeixcbiAgICAgIHV2eiA9IHF4ICogeSAtIHF5ICogeDsgLy8gdmFyIHV1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIHV2KTtcblxuICB2YXIgdXV2eCA9IHF5ICogdXZ6IC0gcXogKiB1dnksXG4gICAgICB1dXZ5ID0gcXogKiB1dnggLSBxeCAqIHV2eixcbiAgICAgIHV1dnogPSBxeCAqIHV2eSAtIHF5ICogdXZ4OyAvLyB2ZWMzLnNjYWxlKHV2LCB1diwgMiAqIHcpO1xuXG4gIHZhciB3MiA9IHF3ICogMjtcbiAgdXZ4ICo9IHcyO1xuICB1dnkgKj0gdzI7XG4gIHV2eiAqPSB3MjsgLy8gdmVjMy5zY2FsZSh1dXYsIHV1diwgMik7XG5cbiAgdXV2eCAqPSAyO1xuICB1dXZ5ICo9IDI7XG4gIHV1dnogKj0gMjsgLy8gcmV0dXJuIHZlYzMuYWRkKG91dCwgYSwgdmVjMy5hZGQob3V0LCB1diwgdXV2KSk7XG5cbiAgb3V0WzBdID0geCArIHV2eCArIHV1dng7XG4gIG91dFsxXSA9IHkgKyB1dnkgKyB1dXZ5O1xuICBvdXRbMl0gPSB6ICsgdXZ6ICsgdXV2ejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgeC1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIGIsIHJhZCkge1xuICB2YXIgcCA9IFtdLFxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXG5cbiAgclswXSA9IHBbMF07XG4gIHJbMV0gPSBwWzFdICogTWF0aC5jb3MocmFkKSAtIHBbMl0gKiBNYXRoLnNpbihyYWQpO1xuICByWzJdID0gcFsxXSAqIE1hdGguc2luKHJhZCkgKyBwWzJdICogTWF0aC5jb3MocmFkKTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHktYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzJdICogTWF0aC5zaW4ocmFkKSArIHBbMF0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzFdID0gcFsxXTtcbiAgclsyXSA9IHBbMl0gKiBNYXRoLmNvcyhyYWQpIC0gcFswXSAqIE1hdGguc2luKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB6LWF4aXNcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFswXSAqIE1hdGguY29zKHJhZCkgLSBwWzFdICogTWF0aC5zaW4ocmFkKTtcbiAgclsxXSA9IHBbMF0gKiBNYXRoLnNpbihyYWQpICsgcFsxXSAqIE1hdGguY29zKHJhZCk7XG4gIHJbMl0gPSBwWzJdOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHR3byAzRCB2ZWN0b3JzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYW5nbGUgaW4gcmFkaWFuc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZShhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl0sXG4gICAgICBtYWcxID0gTWF0aC5zcXJ0KGF4ICogYXggKyBheSAqIGF5ICsgYXogKiBheiksXG4gICAgICBtYWcyID0gTWF0aC5zcXJ0KGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiksXG4gICAgICBtYWcgPSBtYWcxICogbWFnMixcbiAgICAgIGNvc2luZSA9IG1hZyAmJiBkb3QoYSwgYikgLyBtYWc7XG4gIHJldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoY29zaW5lLCAtMSksIDEpKTtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB6ZXJvXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcbiAgb3V0WzBdID0gMC4wO1xuICBvdXRbMV0gPSAwLjA7XG4gIG91dFsyXSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcInZlYzMoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGl2aWRlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5kaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZERpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zcXVhcmVkTGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBQZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG92ZXIgYW4gYXJyYXkgb2YgdmVjM3MuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdHJpZGUgTnVtYmVyIG9mIGVsZW1lbnRzIGJldHdlZW4gdGhlIHN0YXJ0IG9mIGVhY2ggdmVjMy4gSWYgMCBhc3N1bWVzIHRpZ2h0bHkgcGFja2VkXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzNzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB2ZWN0b3IgaW4gdGhlIGFycmF5XG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuXG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDM7XG4gICAgfVxuXG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICB2ZWNbMl0gPSBhW2kgKyAyXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwKICAiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG4vKipcbiAqIDQgRGltZW5zaW9uYWwgVmVjdG9yXG4gKiBAbW9kdWxlIHZlYzRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzRcbiAqXG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2xvbmVcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdyBXIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgsIHksIHosIHcpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICBvdXRbM10gPSB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjNCB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBzb3VyY2UgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzQgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdyBXIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6LCB3KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcbiAgb3V0WzNdID0gYVszXSAqIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIERpdmlkZXMgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAvIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNlaWxcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5jZWlsKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIG91dFszXSA9IE1hdGguZmxvb3IoYVszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5taW4oYVszXSwgYlszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5tYXgoYVszXSwgYlszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGgucm91bmQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byByb3VuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5yb3VuZChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5yb3VuZChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5yb3VuZChhWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5yb3VuZChhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIGEgdmVjNCBieSBhIHNjYWxhciBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWM0J3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHZhciB3ID0gYlszXSAtIGFbM107XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHosIHcpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICB2YXIgdyA9IGJbM10gLSBhWzNdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6LCB3KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG59XG4vKipcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBuZWdhdGVcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICBvdXRbM10gPSAtYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGludmVydFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICBvdXRbM10gPSAxLjAgLyBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBOb3JtYWxpemUgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcblxuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgfVxuXG4gIG91dFswXSA9IHggKiBsZW47XG4gIG91dFsxXSA9IHkgKiBsZW47XG4gIG91dFsyXSA9IHogKiBsZW47XG4gIG91dFszXSA9IHcgKiBsZW47XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl0gKyBhWzNdICogYlszXTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY3Jvc3MtcHJvZHVjdCBvZiB0aHJlZSB2ZWN0b3JzIGluIGEgNC1kaW1lbnNpb25hbCBzcGFjZVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSByZXN1bHQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBVIHRoZSBmaXJzdCB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBWIHRoZSBzZWNvbmQgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gVyB0aGUgdGhpcmQgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjNH0gcmVzdWx0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgdSwgdiwgdykge1xuICB2YXIgQSA9IHZbMF0gKiB3WzFdIC0gdlsxXSAqIHdbMF0sXG4gICAgICBCID0gdlswXSAqIHdbMl0gLSB2WzJdICogd1swXSxcbiAgICAgIEMgPSB2WzBdICogd1szXSAtIHZbM10gKiB3WzBdLFxuICAgICAgRCA9IHZbMV0gKiB3WzJdIC0gdlsyXSAqIHdbMV0sXG4gICAgICBFID0gdlsxXSAqIHdbM10gLSB2WzNdICogd1sxXSxcbiAgICAgIEYgPSB2WzJdICogd1szXSAtIHZbM10gKiB3WzJdO1xuICB2YXIgRyA9IHVbMF07XG4gIHZhciBIID0gdVsxXTtcbiAgdmFyIEkgPSB1WzJdO1xuICB2YXIgSiA9IHVbM107XG4gIG91dFswXSA9IEggKiBGIC0gSSAqIEUgKyBKICogRDtcbiAgb3V0WzFdID0gLShHICogRikgKyBJICogQyAtIEogKiBCO1xuICBvdXRbMl0gPSBHICogRSAtIEggKiBDICsgSiAqIEE7XG4gIG91dFszXSA9IC0oRyAqIEQpICsgSCAqIEIgLSBJICogQTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgYXggPSBhWzBdO1xuICB2YXIgYXkgPSBhWzFdO1xuICB2YXIgYXogPSBhWzJdO1xuICB2YXIgYXcgPSBhWzNdO1xuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xuICBvdXRbM10gPSBhdyArIHQgKiAoYlszXSAtIGF3KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7IC8vIE1hcnNhZ2xpYSwgR2VvcmdlLiBDaG9vc2luZyBhIFBvaW50IGZyb20gdGhlIFN1cmZhY2Ugb2YgYVxuICAvLyBTcGhlcmUuIEFubi4gTWF0aC4gU3RhdGlzdC4gNDMgKDE5NzIpLCBuby4gMiwgNjQ1LS02NDYuXG4gIC8vIGh0dHA6Ly9wcm9qZWN0ZXVjbGlkLm9yZy9ldWNsaWQuYW9tcy8xMTc3NjkyNjQ0O1xuXG4gIHZhciB2MSwgdjIsIHYzLCB2NDtcbiAgdmFyIHMxLCBzMjtcblxuICBkbyB7XG4gICAgdjEgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHYyID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcbiAgICBzMSA9IHYxICogdjEgKyB2MiAqIHYyO1xuICB9IHdoaWxlIChzMSA+PSAxKTtcblxuICBkbyB7XG4gICAgdjMgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHY0ID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcbiAgICBzMiA9IHYzICogdjMgKyB2NCAqIHY0O1xuICB9IHdoaWxlIChzMiA+PSAxKTtcblxuICB2YXIgZCA9IE1hdGguc3FydCgoMSAtIHMxKSAvIHMyKTtcbiAgb3V0WzBdID0gc2NhbGUgKiB2MTtcbiAgb3V0WzFdID0gc2NhbGUgKiB2MjtcbiAgb3V0WzJdID0gc2NhbGUgKiB2MyAqIGQ7XG4gIG91dFszXSA9IHNjYWxlICogdjQgKiBkO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWM0IHdpdGggYSBtYXQ0LlxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl0sXG4gICAgICB3ID0gYVszXTtcbiAgb3V0WzBdID0gbVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0gKiB3O1xuICBvdXRbMV0gPSBtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSAqIHc7XG4gIG91dFsyXSA9IG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSAqIHc7XG4gIG91dFszXSA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XSAqIHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzQgd2l0aCBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgdmFyIHF4ID0gcVswXSxcbiAgICAgIHF5ID0gcVsxXSxcbiAgICAgIHF6ID0gcVsyXSxcbiAgICAgIHF3ID0gcVszXTsgLy8gY2FsY3VsYXRlIHF1YXQgKiB2ZWNcblxuICB2YXIgaXggPSBxdyAqIHggKyBxeSAqIHogLSBxeiAqIHk7XG4gIHZhciBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejtcbiAgdmFyIGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4O1xuICB2YXIgaXcgPSAtcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6OyAvLyBjYWxjdWxhdGUgcmVzdWx0ICogaW52ZXJzZSBxdWF0XG5cbiAgb3V0WzBdID0gaXggKiBxdyArIGl3ICogLXF4ICsgaXkgKiAtcXogLSBpeiAqIC1xeTtcbiAgb3V0WzFdID0gaXkgKiBxdyArIGl3ICogLXF5ICsgaXogKiAtcXggLSBpeCAqIC1xejtcbiAgb3V0WzJdID0gaXogKiBxdyArIGl3ICogLXF6ICsgaXggKiAtcXkgLSBpeSAqIC1xeDtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB6ZXJvXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcbiAgb3V0WzBdID0gMC4wO1xuICBvdXRbMV0gPSAwLjA7XG4gIG91dFsyXSA9IDAuMDtcbiAgb3V0WzNdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjNChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM107XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuZGl2aWRlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuc3F1YXJlZERpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkTGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBQZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG92ZXIgYW4gYXJyYXkgb2YgdmVjNHMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdHJpZGUgTnVtYmVyIG9mIGVsZW1lbnRzIGJldHdlZW4gdGhlIHN0YXJ0IG9mIGVhY2ggdmVjNC4gSWYgMCBhc3N1bWVzIHRpZ2h0bHkgcGFja2VkXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzRzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB2ZWN0b3IgaW4gdGhlIGFycmF5XG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuXG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDQ7XG4gICAgfVxuXG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICB2ZWNbMl0gPSBhW2kgKyAyXTtcbiAgICAgIHZlY1szXSA9IGFbaSArIDNdO1xuICAgICAgZm4odmVjLCB2ZWMsIGFyZyk7XG4gICAgICBhW2ldID0gdmVjWzBdO1xuICAgICAgYVtpICsgMV0gPSB2ZWNbMV07XG4gICAgICBhW2kgKyAyXSA9IHZlY1syXTtcbiAgICAgIGFbaSArIDNdID0gdmVjWzNdO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyIsCiAgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiAyIERpbWVuc2lvbmFsIFZlY3RvclxuICogQG1vZHVsZSB2ZWMyXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMyXG4gKlxuICogQHJldHVybnMge3ZlYzJ9IGEgbmV3IDJEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgyKTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzIgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gY2xvbmVcbiAqIEByZXR1cm5zIHt2ZWMyfSBhIG5ldyAyRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMiBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMyfSBhIG5ldyAyRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgyKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzIgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHkpIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAvIGJbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzJcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIGNlaWxcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyBhIHZlYzIgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzIncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXSxcbiAgICAgIHkgPSBiWzFdIC0gYVsxXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSk7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF0sXG4gICAgICB5ID0gYlsxXSAtIGFbMV07XG4gIHJldHVybiB4ICogeCArIHkgKiB5O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV07XG4gIHJldHVybiB4ICogeCArIHkgKiB5O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzJcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeTtcblxuICBpZiAobGVuID4gMCkge1xuICAgIC8vVE9ETzogZXZhbHVhdGUgdXNlIG9mIGdsbV9pbnZzcXJ0IGhlcmU/XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICB9XG5cbiAgb3V0WzBdID0gYVswXSAqIGxlbjtcbiAgb3V0WzFdID0gYVsxXSAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzInc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV07XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWMyJ3NcbiAqIE5vdGUgdGhhdCB0aGUgY3Jvc3MgcHJvZHVjdCBtdXN0IGJ5IGRlZmluaXRpb24gcHJvZHVjZSBhIDNEIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xuICB2YXIgeiA9IGFbMF0gKiBiWzFdIC0gYVsxXSAqIGJbMF07XG4gIG91dFswXSA9IG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0LCBzY2FsZSkge1xuICBzY2FsZSA9IHNjYWxlIHx8IDEuMDtcbiAgdmFyIHIgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAqIE1hdGguUEk7XG4gIG91dFswXSA9IE1hdGguY29zKHIpICogc2NhbGU7XG4gIG91dFsxXSA9IE1hdGguc2luKHIpICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzIgd2l0aCBhIG1hdDJcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyfSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQyKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXTtcbiAgb3V0WzBdID0gbVswXSAqIHggKyBtWzJdICogeTtcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzNdICogeTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMiB3aXRoIGEgbWF0MmRcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MmQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdO1xuICBvdXRbMF0gPSBtWzBdICogeCArIG1bMl0gKiB5ICsgbVs0XTtcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzNdICogeSArIG1bNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzIgd2l0aCBhIG1hdDNcbiAqIDNyZCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV07XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVszXSAqIHkgKyBtWzZdO1xuICBvdXRbMV0gPSBtWzFdICogeCArIG1bNF0gKiB5ICsgbVs3XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMiB3aXRoIGEgbWF0NFxuICogM3JkIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMCdcbiAqIDR0aCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzEyXTtcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bMTNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAyRCB2ZWN0b3JcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IFRoZSByZWNlaXZpbmcgdmVjMlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgVGhlIHZlYzIgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCBiLCByYWQpIHtcbiAgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuICB2YXIgcDAgPSBhWzBdIC0gYlswXSxcbiAgICAgIHAxID0gYVsxXSAtIGJbMV0sXG4gICAgICBzaW5DID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgIGNvc0MgPSBNYXRoLmNvcyhyYWQpOyAvL3BlcmZvcm0gcm90YXRpb24gYW5kIHRyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gcDAgKiBjb3NDIC0gcDEgKiBzaW5DICsgYlswXTtcbiAgb3V0WzFdID0gcDAgKiBzaW5DICsgcDEgKiBjb3NDICsgYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHR3byAyRCB2ZWN0b3JzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSBUaGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgVGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYW5nbGUgaW4gcmFkaWFuc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZShhLCBiKSB7XG4gIHZhciB4MSA9IGFbMF0sXG4gICAgICB5MSA9IGFbMV0sXG4gICAgICB4MiA9IGJbMF0sXG4gICAgICB5MiA9IGJbMV0sXG4gICAgICAvLyBtYWcgaXMgdGhlIHByb2R1Y3Qgb2YgdGhlIG1hZ25pdHVkZXMgb2YgYSBhbmQgYlxuICBtYWcgPSBNYXRoLnNxcnQoeDEgKiB4MSArIHkxICogeTEpICogTWF0aC5zcXJ0KHgyICogeDIgKyB5MiAqIHkyKSxcbiAgICAgIC8vIG1hZyAmJi4uIHNob3J0IGNpcmN1aXRzIGlmIG1hZyA9PSAwXG4gIGNvc2luZSA9IG1hZyAmJiAoeDEgKiB4MiArIHkxICogeTIpIC8gbWFnOyAvLyBNYXRoLm1pbihNYXRoLm1heChjb3NpbmUsIC0xKSwgMSkgY2xhbXBzIHRoZSBjb3NpbmUgYmV0d2VlbiAtMSBhbmQgMVxuXG4gIHJldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoY29zaW5lLCAtMSksIDEpKTtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMiB0byB6ZXJvXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcbiAgb3V0WzBdID0gMC4wO1xuICBvdXRbMV0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWMyKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBleGFjdGx5IGhhdmUgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5zcXVhcmVkTGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBQZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG92ZXIgYW4gYXJyYXkgb2YgdmVjMnMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdHJpZGUgTnVtYmVyIG9mIGVsZW1lbnRzIGJldHdlZW4gdGhlIHN0YXJ0IG9mIGVhY2ggdmVjMi4gSWYgMCBhc3N1bWVzIHRpZ2h0bHkgcGFja2VkXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzJzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB2ZWN0b3IgaW4gdGhlIGFycmF5XG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuXG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDI7XG4gICAgfVxuXG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcbn0oKTsiLAogICJpbXBvcnQgKiBhcyBnbG0gZnJvbSAnZ2wtbWF0cml4JztcblxuZXhwb3J0IGNvbnN0IHJhZDJEZWcgPSAocmFkOiBudW1iZXIpID0+IChyYWQgLyBNYXRoLlBJKSAqIDE4MDtcbmV4cG9ydCBjb25zdCBkZWcyUmFkID0gKGRlZzogbnVtYmVyKSA9PiAoZGVnICogTWF0aC5QSSkgLyAxODA7XG5cbmV4cG9ydCBjb25zdCBnZXRFdWxlciA9ICh2ZWN0b3IzOiBnbG0uUmVhZG9ubHlWZWMzKTogW251bWJlciwgbnVtYmVyXSA9PiB7XG4gIGNvbnN0IHRoZXRhID0gTWF0aC5hdGFuMih2ZWN0b3IzWzFdLCB2ZWN0b3IzWzBdKTtcbiAgY29uc3QgbWFnbml0dWRlID0gZ2xtLnZlYzIubGVuZ3RoKFt2ZWN0b3IzWzBdLCB2ZWN0b3IzWzFdXSk7XG4gIGNvbnN0IHBoaSA9IE1hdGguYXRhbjIodmVjdG9yM1syXSwgbWFnbml0dWRlKTtcbiAgcmV0dXJuIFt0aGV0YSwgcGhpXTtcbn07XG4iLAogICJpbXBvcnQgeyBHbG9iYWxLZXlib2FyZE1hbmFnZXIsIEdsb2JhbE1vdXNlTWFuYWdlciwgR2xvYmFsVG91Y2hNYW5hZ2VyIH0gZnJvbSAnLi4vYnJvd3Nlcic7XG5cbmltcG9ydCB7IGRlZzJSYWQgfSBmcm9tICcuLi9tYXRoL2FuZ2xlcyc7XG5cbmltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG5jb25zdCBBbGxBeGlzZXMgPSB7XG4gIFg6IDAsXG4gIFk6IDEsXG4gIFo6IDJcbn07XG50eXBlIEF4aXNUeXBlID0ga2V5b2YgdHlwZW9mIEFsbEF4aXNlcztcbnR5cGUgQ29vcmRpbmF0ZXMgPSBbQXhpc1R5cGUsIEF4aXNUeXBlLCBBeGlzVHlwZV07XG5cbmludGVyZmFjZSBJRnJlZUZseUNvbnRyb2xsZXJEZWYge1xuICBwb3NpdGlvbjogZ2xtLnZlYzM7XG4gIGNvb3JkaW5hdGVzPzogQ29vcmRpbmF0ZXM7XG4gIHRoZXRhOiBudW1iZXI7XG4gIHBoaTogbnVtYmVyO1xuICBtb3VzZVNlbnNpYmlsaXR5OiBudW1iZXI7XG4gIGtleWJvYXJkU2Vuc2liaWxpdHk6IG51bWJlcjtcbiAgdG91Y2hTZW5zaWJpbGl0eTogbnVtYmVyO1xuICBtb3ZpbmdTcGVlZDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgRnJlZUZseUNvbnRyb2xsZXIge1xuICBwcml2YXRlIF9pc0FjdGl2YXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF90aGV0YTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfcGhpOiBudW1iZXIgPSAwO1xuXG4gIHByaXZhdGUgX21vdXNlU2Vuc2liaWxpdHk6IG51bWJlcjtcbiAgcHJpdmF0ZSBfa2V5Ym9hcmRTZW5zaWJpbGl0eTogbnVtYmVyO1xuICBwcml2YXRlIF90b3VjaFNlbnNpYmlsaXR5OiBudW1iZXI7XG4gIHByaXZhdGUgX21vdmluZ1NwZWVkOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBfdG91Y2hXYXNBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfdG91Y2hTdGFydFRpbWU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX3RvdWNoTW92ZUZvcndhcmQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBwcml2YXRlIF9heGlzSW5kaWNlczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuXG4gIHByaXZhdGUgX3Bvc2l0aW9uID0gZ2xtLnZlYzMuZnJvbVZhbHVlcygwLCAwLCAwKTtcbiAgcHJpdmF0ZSBfdGFyZ2V0ID0gZ2xtLnZlYzMuZnJvbVZhbHVlcygwLCAwLCAwKTtcbiAgcHJpdmF0ZSBfZm9yd2FyZEF4aXMgPSBnbG0udmVjMy5mcm9tVmFsdWVzKDEsIDAsIDApO1xuICBwcml2YXRlIF9sZWZ0QXhpcyA9IGdsbS52ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMSk7XG4gIHByaXZhdGUgX3VwQXhpcyA9IGdsbS52ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCk7XG5cbiAgcHJpdmF0ZSBfbW92ZV9mb3J3YXJkQXhpcyA9IGdsbS52ZWMzLmZyb21WYWx1ZXMoMSwgMCwgMCk7XG4gIHByaXZhdGUgX21vdmVfbGVmdEF4aXMgPSBnbG0udmVjMy5mcm9tVmFsdWVzKDAsIDAsIDEpO1xuICBwcml2YXRlIF9tb3ZlX3VwQXhpcyA9IGdsbS52ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCk7XG5cbiAgY29uc3RydWN0b3IoZGVmOiBJRnJlZUZseUNvbnRyb2xsZXJEZWYpIHtcbiAgICB0aGlzLl9tb3VzZVNlbnNpYmlsaXR5ID0gZGVmLm1vdXNlU2Vuc2liaWxpdHk7XG4gICAgdGhpcy5fa2V5Ym9hcmRTZW5zaWJpbGl0eSA9IGRlZi5rZXlib2FyZFNlbnNpYmlsaXR5O1xuICAgIHRoaXMuX3RvdWNoU2Vuc2liaWxpdHkgPSBkZWYudG91Y2hTZW5zaWJpbGl0eTtcbiAgICB0aGlzLl9tb3ZpbmdTcGVlZCA9IGRlZi5tb3ZpbmdTcGVlZDtcbiAgICBnbG0udmVjMy5jb3B5KHRoaXMuX3Bvc2l0aW9uLCBkZWYucG9zaXRpb24pO1xuXG4gICAgdGhpcy5fYXhpc0luZGljZXMgPSBbXG4gICAgICBkZWYuY29vcmRpbmF0ZXMgPyBBbGxBeGlzZXNbZGVmLmNvb3JkaW5hdGVzWzBdXSA6IEFsbEF4aXNlcy5YLFxuICAgICAgZGVmLmNvb3JkaW5hdGVzID8gQWxsQXhpc2VzW2RlZi5jb29yZGluYXRlc1sxXV0gOiBBbGxBeGlzZXMuWSxcbiAgICAgIGRlZi5jb29yZGluYXRlcyA/IEFsbEF4aXNlc1tkZWYuY29vcmRpbmF0ZXNbMl1dIDogQWxsQXhpc2VzLlpcbiAgICBdO1xuXG4gICAgdGhpcy5fdGhldGEgPSBkZWYudGhldGE7XG4gICAgdGhpcy5fcGhpID0gZGVmLnBoaTtcbiAgfVxuXG4gIGlzQWN0aXZhdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0FjdGl2YXRlZDtcbiAgfVxuXG4gIGFjdGl2YXRlKCkge1xuICAgIHRoaXMuX2lzQWN0aXZhdGVkID0gdHJ1ZTtcblxuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5wcmV2ZW50RGVmYXVsdCgnWicpO1xuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5wcmV2ZW50RGVmYXVsdCgnVycpO1xuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5wcmV2ZW50RGVmYXVsdCgnUycpO1xuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5wcmV2ZW50RGVmYXVsdCgnQScpO1xuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5wcmV2ZW50RGVmYXVsdCgnUScpO1xuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5wcmV2ZW50RGVmYXVsdCgnRCcpO1xuXG4gICAgR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLnByZXZlbnREZWZhdWx0KCdTaGlmdCcpO1xuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5wcmV2ZW50RGVmYXVsdCgnQycpO1xuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5wcmV2ZW50RGVmYXVsdCgnU3BhY2UnKTtcblxuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5wcmV2ZW50RGVmYXVsdCgnQXJyb3dVcCcpO1xuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5wcmV2ZW50RGVmYXVsdCgnQXJyb3dEb3duJyk7XG4gICAgR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLnByZXZlbnREZWZhdWx0KCdBcnJvd0xlZnQnKTtcbiAgICBHbG9iYWxLZXlib2FyZE1hbmFnZXIucHJldmVudERlZmF1bHQoJ0Fycm93UmlnaHQnKTtcbiAgfVxuXG4gIGRlYWN0aXZhdGUoKSB7XG4gICAgdGhpcy5faXNBY3RpdmF0ZWQgPSBmYWxzZTtcblxuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5lbmFibGVEZWZhdWx0KCdaJyk7XG4gICAgR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmVuYWJsZURlZmF1bHQoJ1cnKTtcbiAgICBHbG9iYWxLZXlib2FyZE1hbmFnZXIuZW5hYmxlRGVmYXVsdCgnUycpO1xuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5lbmFibGVEZWZhdWx0KCdBJyk7XG4gICAgR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmVuYWJsZURlZmF1bHQoJ1EnKTtcbiAgICBHbG9iYWxLZXlib2FyZE1hbmFnZXIuZW5hYmxlRGVmYXVsdCgnRCcpO1xuXG4gICAgR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmVuYWJsZURlZmF1bHQoJ1NoaWZ0Jyk7XG4gICAgR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmVuYWJsZURlZmF1bHQoJ0MnKTtcbiAgICBHbG9iYWxLZXlib2FyZE1hbmFnZXIuZW5hYmxlRGVmYXVsdCgnU3BhY2UnKTtcblxuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5lbmFibGVEZWZhdWx0KCdBcnJvd1VwJyk7XG4gICAgR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmVuYWJsZURlZmF1bHQoJ0Fycm93RG93bicpO1xuICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5lbmFibGVEZWZhdWx0KCdBcnJvd0xlZnQnKTtcbiAgICBHbG9iYWxLZXlib2FyZE1hbmFnZXIuZW5hYmxlRGVmYXVsdCgnQXJyb3dSaWdodCcpO1xuICB9XG5cbiAgaXNJbnRlcmFjdGVkV2l0aCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmlzUHJlc3NlZCgnWicsICdXJywgJ1MnLCAnQScsICdRJywgJ0QnKSB8fFxuICAgICAgR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmlzUHJlc3NlZCgnU2hpZnQnLCAnQycsICdTcGFjZScpIHx8XG4gICAgICBHbG9iYWxLZXlib2FyZE1hbmFnZXIuaXNQcmVzc2VkKCdBcnJvd1VwJywgJ0Fycm93RG93bicsICdBcnJvd0xlZnQnLCAnQXJyb3dSaWdodCcpXG4gICAgKTtcbiAgfVxuXG4gIHVwZGF0ZShkZWx0YU1zVGltZTogbnVtYmVyLCBmcHNDb250cm9sczogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgbGV0IG1vdmVGb3J3YXJkID0gZmFsc2U7XG4gICAgbGV0IG1vdmVCYWNrd2FyZCA9IGZhbHNlO1xuICAgIGxldCBzdHJhZmVMZWZ0ID0gZmFsc2U7XG4gICAgbGV0IHN0cmFmZVJpZ2h0ID0gZmFsc2U7XG4gICAgbGV0IGlzUnVubmluZyA9IGZhbHNlO1xuICAgIGxldCBpc0RpdmluZyA9IGZhbHNlO1xuICAgIGxldCBpc1Jpc2luZyA9IGZhbHNlO1xuICAgIGxldCBsb29rRGVsdGFYID0gMDtcbiAgICBsZXQgbG9va0RlbHRhWSA9IDA7XG5cbiAgICAvL1xuICAgIC8vIG1vdXNlXG4gICAgLy9cblxuICAgIHtcbiAgICAgIGNvbnN0IGRlbHRhWCA9IEdsb2JhbE1vdXNlTWFuYWdlci5kZWx0YVgoKSAqIHRoaXMuX21vdXNlU2Vuc2liaWxpdHk7XG4gICAgICBjb25zdCBkZWx0YVkgPSBHbG9iYWxNb3VzZU1hbmFnZXIuZGVsdGFZKCkgKiB0aGlzLl9tb3VzZVNlbnNpYmlsaXR5O1xuXG4gICAgICBsb29rRGVsdGFYIC09IGRlZzJSYWQoZGVsdGFYKSAqIGRlbHRhTXNUaW1lO1xuICAgICAgbG9va0RlbHRhWSAtPSBkZWcyUmFkKGRlbHRhWSkgKiBkZWx0YU1zVGltZTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIG1vdXNlXG4gICAgLy9cblxuICAgIC8vXG4gICAgLy8gdG91Y2hcbiAgICAvL1xuXG4gICAgY29uc3QgaXNUb3VjaGVkID0gR2xvYmFsVG91Y2hNYW5hZ2VyLmdldFRvdWNoRGF0YSgpLmxlbmd0aCA+IDA7XG5cbiAgICBpZiAoaXNUb3VjaGVkKSB7XG4gICAgICBpZiAoIXRoaXMuX3RvdWNoV2FzQWN0aXZlKSB7XG4gICAgICAgIGNvbnN0IGN1cnJUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IChjdXJyVGltZSAtIHRoaXMuX3RvdWNoU3RhcnRUaW1lKSAvIDEwMDA7XG4gICAgICAgIGlmIChlbGFwc2VkIDwgMC4yNSkge1xuICAgICAgICAgIHRoaXMuX3RvdWNoTW92ZUZvcndhcmQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3RvdWNoU3RhcnRUaW1lID0gY3VyclRpbWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgZmlyc3RUb3VjaCA9IEdsb2JhbFRvdWNoTWFuYWdlci5nZXRUb3VjaERhdGEoKVswXTtcblxuICAgICAgY29uc3QgZGVsdGFYID0gZmlyc3RUb3VjaC5kZWx0YVggKiB0aGlzLl90b3VjaFNlbnNpYmlsaXR5O1xuICAgICAgY29uc3QgZGVsdGFZID0gZmlyc3RUb3VjaC5kZWx0YVkgKiB0aGlzLl90b3VjaFNlbnNpYmlsaXR5O1xuXG4gICAgICBsb29rRGVsdGFYIC09IGRlZzJSYWQoZGVsdGFYKSAqIGRlbHRhTXNUaW1lO1xuICAgICAgbG9va0RlbHRhWSAtPSBkZWcyUmFkKGRlbHRhWSkgKiBkZWx0YU1zVGltZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdG91Y2hNb3ZlRm9yd2FyZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuX3RvdWNoV2FzQWN0aXZlID0gaXNUb3VjaGVkO1xuXG4gICAgaWYgKHRoaXMuX3RvdWNoTW92ZUZvcndhcmQpIHtcbiAgICAgIG1vdmVGb3J3YXJkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIHRvdWNoXG4gICAgLy9cblxuICAgIC8vXG4gICAgLy8ga2V5Ym9hcmRcbiAgICAvL1xuXG4gICAgLy8gZm9yd2FyZFxuICAgIGlmIChHbG9iYWxLZXlib2FyZE1hbmFnZXIuaXNQcmVzc2VkKCdaJywgJ1cnKSkge1xuICAgICAgbW92ZUZvcndhcmQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGJhY2t3YXJkXG4gICAgaWYgKEdsb2JhbEtleWJvYXJkTWFuYWdlci5pc1ByZXNzZWQoJ1MnKSkge1xuICAgICAgbW92ZUJhY2t3YXJkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBzdHJhZmUgbGVmdFxuICAgIGlmIChHbG9iYWxLZXlib2FyZE1hbmFnZXIuaXNQcmVzc2VkKCdBJywgJ1EnKSkge1xuICAgICAgc3RyYWZlTGVmdCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gc3RyYWZlIHJpZ2h0XG4gICAgaWYgKEdsb2JhbEtleWJvYXJkTWFuYWdlci5pc1ByZXNzZWQoJ0QnKSkge1xuICAgICAgc3RyYWZlUmlnaHQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIHJ1blxuICAgIGlmIChHbG9iYWxLZXlib2FyZE1hbmFnZXIuaXNQcmVzc2VkKCdTaGlmdCcpKSB7XG4gICAgICBpc1J1bm5pbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICghZnBzQ29udHJvbHMpIHtcbiAgICAgIC8vIGRpdmVcbiAgICAgIGlmIChHbG9iYWxLZXlib2FyZE1hbmFnZXIuaXNQcmVzc2VkKCdDJykpIHtcbiAgICAgICAgaXNEaXZpbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyByaXNlXG4gICAgICBpZiAoR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmlzUHJlc3NlZCgnU3BhY2UnKSkge1xuICAgICAgICBpc1Jpc2luZyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudExpbmVhclNwZWVkID0gdGhpcy5fbW92aW5nU3BlZWQgKiAoaXNSdW5uaW5nID8gNCA6IDEpICogZGVsdGFNc1RpbWU7XG5cbiAgICAvL1xuICAgIC8vXG5cbiAgICBjb25zdCBjdXJyZW50QW5ndWxhclNwZWVkID0gdGhpcy5fa2V5Ym9hcmRTZW5zaWJpbGl0eSAqIGRlbHRhTXNUaW1lO1xuXG4gICAgaWYgKEdsb2JhbEtleWJvYXJkTWFuYWdlci5pc1ByZXNzZWQoJ0Fycm93VXAnKSkge1xuICAgICAgbG9va0RlbHRhWSArPSBjdXJyZW50QW5ndWxhclNwZWVkO1xuICAgIH0gZWxzZSBpZiAoR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmlzUHJlc3NlZCgnQXJyb3dEb3duJykpIHtcbiAgICAgIGxvb2tEZWx0YVkgLT0gY3VycmVudEFuZ3VsYXJTcGVlZDtcbiAgICB9XG5cbiAgICBpZiAoR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmlzUHJlc3NlZCgnQXJyb3dMZWZ0JykpIHtcbiAgICAgIGxvb2tEZWx0YVggKz0gY3VycmVudEFuZ3VsYXJTcGVlZDtcbiAgICB9IGVsc2UgaWYgKEdsb2JhbEtleWJvYXJkTWFuYWdlci5pc1ByZXNzZWQoJ0Fycm93UmlnaHQnKSkge1xuICAgICAgbG9va0RlbHRhWCAtPSBjdXJyZW50QW5ndWxhclNwZWVkO1xuICAgIH1cblxuICAgIC8vXG4gICAgLy8ga2V5Ym9hcmRcbiAgICAvL1xuXG4gICAgLy9cbiAgICAvLyBpbnRlcm5hbHNcbiAgICAvL1xuXG4gICAgdGhpcy5fdGhldGEgKz0gbG9va0RlbHRhWDtcbiAgICB0aGlzLl9waGkgKz0gbG9va0RlbHRhWTtcblxuICAgIGNvbnN0IGhQaSA9IE1hdGguUEkgKiAwLjU7XG4gICAgY29uc3QgdmVydGljYWxMaW1pdCA9IGhQaSAqIDAuOTU7XG5cbiAgICB0aGlzLl9waGkgPSBNYXRoLm1pbihNYXRoLm1heCh0aGlzLl9waGksIC12ZXJ0aWNhbExpbWl0KSwgK3ZlcnRpY2FsTGltaXQpO1xuXG4gICAgY29uc3QgY29zVGhldGEgPSBNYXRoLmNvcyh0aGlzLl90aGV0YSk7XG4gICAgY29uc3Qgc2luVGhldGEgPSBNYXRoLnNpbih0aGlzLl90aGV0YSk7XG5cbiAgICBjb25zdCBbYXhpc1gsIGF4aXNZLCBheGlzWl0gPSB0aGlzLl9heGlzSW5kaWNlcztcblxuICAgIGNvbnN0IHVwUmFkaXVzID0gTWF0aC5jb3ModGhpcy5fcGhpICsgaFBpKTtcbiAgICB0aGlzLl91cEF4aXNbYXhpc1hdID0gdXBSYWRpdXMgKiBjb3NUaGV0YTtcbiAgICB0aGlzLl91cEF4aXNbYXhpc1ldID0gdXBSYWRpdXMgKiBzaW5UaGV0YTtcbiAgICB0aGlzLl91cEF4aXNbYXhpc1pdID0gTWF0aC5zaW4odGhpcy5fcGhpICsgaFBpKTtcblxuICAgIGNvbnN0IGZvcndhcmRSYWRpdXMgPSBNYXRoLmNvcyh0aGlzLl9waGkpO1xuICAgIHRoaXMuX2ZvcndhcmRBeGlzW2F4aXNYXSA9IGZvcndhcmRSYWRpdXMgKiBjb3NUaGV0YTtcbiAgICB0aGlzLl9mb3J3YXJkQXhpc1theGlzWV0gPSBmb3J3YXJkUmFkaXVzICogc2luVGhldGE7XG4gICAgdGhpcy5fZm9yd2FyZEF4aXNbYXhpc1pdID0gTWF0aC5zaW4odGhpcy5fcGhpKTtcblxuICAgIGdsbS52ZWMzLmNyb3NzKHRoaXMuX2xlZnRBeGlzLCB0aGlzLl91cEF4aXMsIHRoaXMuX2ZvcndhcmRBeGlzKTtcblxuICAgIGlmIChmcHNDb250cm9scykge1xuICAgICAgdGhpcy5fbW92ZV9mb3J3YXJkQXhpc1theGlzWF0gPSBjb3NUaGV0YTtcbiAgICAgIHRoaXMuX21vdmVfZm9yd2FyZEF4aXNbYXhpc1ldID0gc2luVGhldGE7XG4gICAgICB0aGlzLl9tb3ZlX2ZvcndhcmRBeGlzW2F4aXNaXSA9IDA7XG5cbiAgICAgIHRoaXMuX21vdmVfbGVmdEF4aXNbYXhpc1hdID0gLXNpblRoZXRhO1xuICAgICAgdGhpcy5fbW92ZV9sZWZ0QXhpc1theGlzWV0gPSBjb3NUaGV0YTtcbiAgICAgIHRoaXMuX21vdmVfbGVmdEF4aXNbYXhpc1pdID0gMDtcblxuICAgICAgdGhpcy5fbW92ZV91cEF4aXNbYXhpc1hdID0gMDtcbiAgICAgIHRoaXMuX21vdmVfdXBBeGlzW2F4aXNZXSA9IDA7XG4gICAgICB0aGlzLl9tb3ZlX3VwQXhpc1theGlzWl0gPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbG0udmVjMy5jb3B5KHRoaXMuX21vdmVfZm9yd2FyZEF4aXMsIHRoaXMuX2ZvcndhcmRBeGlzKTtcbiAgICAgIGdsbS52ZWMzLmNvcHkodGhpcy5fbW92ZV9sZWZ0QXhpcywgdGhpcy5fbGVmdEF4aXMpO1xuICAgICAgZ2xtLnZlYzMuY29weSh0aGlzLl9tb3ZlX3VwQXhpcywgdGhpcy5fdXBBeGlzKTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cblxuICAgIGNvbnN0IHNjYWxlZEZvcndhcmQgPSBnbG0udmVjMy5mcm9tVmFsdWVzKDAsIDAsIDApO1xuICAgIGdsbS52ZWMzLnNjYWxlKHNjYWxlZEZvcndhcmQsIHRoaXMuX21vdmVfZm9yd2FyZEF4aXMsIGN1cnJlbnRMaW5lYXJTcGVlZCk7XG4gICAgY29uc3Qgc2NhbGVkTGVmdCA9IGdsbS52ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMCk7XG4gICAgZ2xtLnZlYzMuc2NhbGUoc2NhbGVkTGVmdCwgdGhpcy5fbW92ZV9sZWZ0QXhpcywgY3VycmVudExpbmVhclNwZWVkKTtcbiAgICBjb25zdCBzY2FsZWRVcCA9IGdsbS52ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMCk7XG4gICAgZ2xtLnZlYzMuc2NhbGUoc2NhbGVkVXAsIHRoaXMuX21vdmVfdXBBeGlzLCBjdXJyZW50TGluZWFyU3BlZWQpO1xuXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG5cbiAgICBpZiAobW92ZUZvcndhcmQpIHtcbiAgICAgIGdsbS52ZWMzLmFkZCh0aGlzLl9wb3NpdGlvbiwgdGhpcy5fcG9zaXRpb24sIHNjYWxlZEZvcndhcmQpO1xuICAgIH0gZWxzZSBpZiAobW92ZUJhY2t3YXJkKSB7XG4gICAgICBnbG0udmVjMy5zdWIodGhpcy5fcG9zaXRpb24sIHRoaXMuX3Bvc2l0aW9uLCBzY2FsZWRGb3J3YXJkKTtcbiAgICB9XG5cbiAgICBpZiAoc3RyYWZlTGVmdCkge1xuICAgICAgZ2xtLnZlYzMuYWRkKHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl9wb3NpdGlvbiwgc2NhbGVkTGVmdCk7XG4gICAgfSBlbHNlIGlmIChzdHJhZmVSaWdodCkge1xuICAgICAgZ2xtLnZlYzMuc3ViKHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl9wb3NpdGlvbiwgc2NhbGVkTGVmdCk7XG4gICAgfVxuXG4gICAgaWYgKGlzUmlzaW5nKSB7XG4gICAgICBnbG0udmVjMy5hZGQodGhpcy5fcG9zaXRpb24sIHRoaXMuX3Bvc2l0aW9uLCBzY2FsZWRVcCk7XG4gICAgfSBlbHNlIGlmIChpc0RpdmluZykge1xuICAgICAgZ2xtLnZlYzMuc3ViKHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl9wb3NpdGlvbiwgc2NhbGVkVXApO1xuICAgIH1cblxuICAgIGdsbS52ZWMzLmFkZCh0aGlzLl90YXJnZXQsIHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl9mb3J3YXJkQXhpcyk7XG5cbiAgICAvL1xuICAgIC8vIGludGVybmFsc1xuICAgIC8vXG4gIH1cblxuICBnZXRQb3NpdGlvbigpOiBnbG0uUmVhZG9ubHlWZWMzIHtcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XG4gIH1cblxuICBzZXRQb3NpdGlvbihpblBvczogZ2xtLlJlYWRvbmx5VmVjMykge1xuICAgIGdsbS52ZWMzLmNvcHkodGhpcy5fcG9zaXRpb24sIGluUG9zKTtcbiAgICBnbG0udmVjMy5hZGQodGhpcy5fdGFyZ2V0LCB0aGlzLl9wb3NpdGlvbiwgdGhpcy5fZm9yd2FyZEF4aXMpO1xuICB9XG5cbiAgZ2V0VGFyZ2V0KCk6IGdsbS5SZWFkb25seVZlYzMge1xuICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gIH1cblxuICBnZXRVcEF4aXMoKTogZ2xtLlJlYWRvbmx5VmVjMyB7XG4gICAgcmV0dXJuIHRoaXMuX3VwQXhpcztcbiAgfVxuXG4gIGdldFRoZXRhKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3RoZXRhO1xuICB9XG5cbiAgZ2V0UGhpKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3BoaTtcbiAgfVxuXG4gIGdldFRvdWNoTW92ZUZvcndhcmQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3RvdWNoTW92ZUZvcndhcmQ7XG4gIH1cbn1cbiIsCiAgImV4cG9ydCBjb25zdCBjbGFtcCA9IChjdXJyVmFsOiBudW1iZXIsIG1pblZhbDogbnVtYmVyLCBtYXhWYWw6IG51bWJlcikgPT4gTWF0aC5taW4oTWF0aC5tYXgoY3VyclZhbCwgbWluVmFsKSwgbWF4VmFsKTtcbiIsCiAgImltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG5leHBvcnQgY29uc3QgaW50ZXJzZWN0U2VnbWVudCA9IChcbiAgQTogZ2xtLlJlYWRvbmx5VmVjMixcbiAgQjogZ2xtLlJlYWRvbmx5VmVjMixcbiAgSTogZ2xtLlJlYWRvbmx5VmVjMixcbiAgUDogZ2xtLlJlYWRvbmx5VmVjMlxuKTogbnVtYmVyID0+IHtcbiAgY29uc3QgRCA9IGdsbS52ZWMyLmZyb21WYWx1ZXMoMCwgMCk7XG4gIGNvbnN0IEUgPSBnbG0udmVjMi5mcm9tVmFsdWVzKDAsIDApO1xuICBEWzBdID0gQlswXSAtIEFbMF07XG4gIERbMV0gPSBCWzFdIC0gQVsxXTtcbiAgRVswXSA9IFBbMF0gLSBJWzBdO1xuICBFWzFdID0gUFsxXSAtIElbMV07XG4gIGNvbnN0IGRlbm9tID0gRFswXSAqIEVbMV0gLSBEWzFdICogRVswXTtcbiAgaWYgKGRlbm9tID09IDApIHtcbiAgICByZXR1cm4gLTE7IC8vIGVycmV1ciwgY2FzIGxpbWl0ZVxuICB9XG4gIGNvbnN0IHQgPSAtKEFbMF0gKiBFWzFdIC0gSVswXSAqIEVbMV0gLSBFWzBdICogQVsxXSArIEVbMF0gKiBJWzFdKSAvIGRlbm9tO1xuICBpZiAodCA8IDAgfHwgdCA+PSAxKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgdSA9IC0oLURbMF0gKiBBWzFdICsgRFswXSAqIElbMV0gKyBEWzFdICogQVswXSAtIERbMV0gKiBJWzBdKSAvIGRlbm9tO1xuICBpZiAodSA8IDAgfHwgdSA+PSAxKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcmV0dXJuIDE7XG59O1xuXG5leHBvcnQgY29uc3QgY29sbGlzaW9uTGluZXNTdHJpcCA9ICh0YWI6IFJlYWRvbmx5QXJyYXk8Z2xtLlJlYWRvbmx5VmVjMj4sIFA6IGdsbS52ZWMyKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IEkgPSBnbG0udmVjMi5mcm9tVmFsdWVzKDAsIDApO1xuICBJWzBdID0gMTAwMDAgKyBNYXRoLnJhbmRvbSgpICogMTAwOyAvLyAxMDAwMCArIHVuIG5vbWJyZSBhbMOpYXRvaXJlIGVudHJlIDAgZXQgOTlcbiAgSVsxXSA9IDEwMDAwICsgTWF0aC5yYW5kb20oKSAqIDEwMDtcbiAgbGV0IG5iSW50ZXJzZWN0aW9ucyA9IDA7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0YWIubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGpqID0gKGlpICsgMSkgJSB0YWIubGVuZ3RoO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gaW50ZXJzZWN0U2VnbWVudCh0YWJbaWldLCB0YWJbampdLCBJLCBQKTtcbiAgICBpZiAocmVzdWx0ID09IC0xKSB7XG4gICAgICByZXR1cm4gY29sbGlzaW9uTGluZXNTdHJpcCh0YWIsIFApOyAvLyBjYXMgbGltaXRlLCBvbiByZWxhbmNlIGxhIGZvbmN0aW9uLlxuICAgIH1cbiAgICBuYkludGVyc2VjdGlvbnMgKz0gcmVzdWx0O1xuICB9XG4gIGlmIChuYkludGVyc2VjdGlvbnMgJSAyID09IDEpIHtcbiAgICAvLyBuYkludGVyc2VjdGlvbnMgZXN0LWlsIGltcGFpciA/XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbiIsCiAgImV4cG9ydCBjb25zdCBlYXNlQ2xhbXAgPSAodDogbnVtYmVyKSA9PiB7XG4gIGlmICh0ID4gMSkge1xuICAgIHJldHVybiB0IC0gTWF0aC5mbG9vcih0KTtcbiAgfVxuICByZXR1cm4gdDtcbn07XG5cbmV4cG9ydCBjb25zdCBlYXNlUGluUG9uZyA9ICh0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICB0ICo9IDIuMDtcbiAgaWYgKHQgPCAxLjApIHJldHVybiB0O1xuICB0IC09IDEuMDtcbiAgcmV0dXJuIDEuMCAtIHQ7XG59O1xuXG5leHBvcnQgY29uc3QgZWFzZUluU2luZSA9ICh0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICByZXR1cm4gTWF0aC5zaW4oMS41NzA3OTYzICogdCk7XG59O1xuXG5leHBvcnQgY29uc3QgZWFzZU91dFNpbmUgPSAodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgcmV0dXJuIDEuMCArIE1hdGguc2luKDEuNTcwNzk2MyAqICh0IC0gMS4wKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZWFzZUluT3V0U2luZSA9ICh0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICByZXR1cm4gMC41ICogKDEuMCArIE1hdGguc2luKDMuMTQxNTkyNiAqICh0IC0gMC41KSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VJblF1YWQgPSAodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgcmV0dXJuIHQgKiB0O1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VPdXRRdWFkID0gKHQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIHJldHVybiB0ICogKDIuMCAtIHQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VJbk91dFF1YWQgPSAodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgcmV0dXJuIHQgPCAwLjUgPyAyLjAgKiB0ICogdCA6IHQgKiAoNC4wIC0gMi4wICogdCkgLSAxLjA7XG59O1xuXG5leHBvcnQgY29uc3QgZWFzZUluQ3ViaWMgPSAodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgcmV0dXJuIHQgKiB0ICogdDtcbn07XG5cbmV4cG9ydCBjb25zdCBlYXNlT3V0Q3ViaWMgPSAodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgY29uc3QgdDIgPSB0IC0gMTtcbiAgcmV0dXJuIDEuMCArIHQyICogdDIgKiB0Mjtcbn07XG5cbmV4cG9ydCBjb25zdCBlYXNlSW5PdXRDdWJpYyA9ICh0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICBjb25zdCB0MiA9IHQgLSAxLjA7XG4gIGNvbnN0IHQzID0gdDIgLSAxLjA7XG4gIHJldHVybiB0IDwgMC41ID8gNC4wICogdCAqIHQgKiB0IDogMS4wICsgdDIgKiAoMi4wICogdDMpICogKDIuMCAqIHQzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBlYXNlSW5RdWFydCA9ICh0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICB0ICo9IHQ7XG4gIHJldHVybiB0ICogdDtcbn07XG5cbmV4cG9ydCBjb25zdCBlYXNlT3V0UXVhcnQgPSAodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgY29uc3QgdDIgPSB0IC0gMS4wO1xuICB0ID0gdDIgKiB0MjtcbiAgcmV0dXJuIDEuMCAtIHQgKiB0O1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VJbk91dFF1YXJ0ID0gKHQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGlmICh0IDwgMC41KSB7XG4gICAgdCAqPSB0O1xuICAgIHJldHVybiA4LjAgKiB0ICogdDtcbiAgfVxuICBjb25zdCB0MiA9IHQgLSAxO1xuICB0ID0gdDIgKiB0MjtcbiAgcmV0dXJuIDEuMCAtIDguMCAqIHQgKiB0O1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VJblF1aW50ID0gKHQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGNvbnN0IHQyID0gdCAqIHQ7XG4gIHJldHVybiB0ICogdDIgKiB0Mjtcbn07XG5cbmV4cG9ydCBjb25zdCBlYXNlT3V0UXVpbnQgPSAodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgY29uc3QgdHggPSB0IC0gMTtcbiAgY29uc3QgdDIgPSB0eCAqIHR4O1xuICByZXR1cm4gMS4wICsgdHggKiB0MiAqIHQyO1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VJbk91dFF1aW50ID0gKHQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGxldCB0MjtcbiAgaWYgKHQgPCAwLjUpIHtcbiAgICB0MiA9IHQgKiB0O1xuICAgIHJldHVybiAxNi4wICogdCAqIHQyICogdDI7XG4gIH1cblxuICBjb25zdCB0eCA9IHQgLSAxLjA7XG4gIHQyID0gdHggKiB0eDtcbiAgcmV0dXJuIDEuMCArIDE2LjAgKiB0eCAqIHQyICogdDI7XG59O1xuXG5leHBvcnQgY29uc3QgZWFzZUluRXhwbyA9ICh0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICByZXR1cm4gKE1hdGgucG93KDIuMCwgOC4wICogdCkgLSAxKSAvIDI1NS4wO1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VPdXRFeHBvID0gKHQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIHJldHVybiAxLjAgLSBNYXRoLnBvdygyLjAsIC04LjAgKiB0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBlYXNlSW5PdXRFeHBvID0gKHQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGlmICh0IDwgMC41KSByZXR1cm4gKE1hdGgucG93KDIuMCwgMTYuMCAqIHQpIC0gMSkgLyA1MTAuMDtcbiAgcmV0dXJuIDEuMCAtIDAuNSAqIE1hdGgucG93KDIuMCwgLTE2LjAgKiAodCAtIDAuNSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VJbkNpcmMgPSAodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgcmV0dXJuIDEuMCAtIE1hdGguc3FydCgxLjAgLSB0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBlYXNlT3V0Q2lyYyA9ICh0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICByZXR1cm4gTWF0aC5zcXJ0KHQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VJbk91dENpcmMgPSAodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgaWYgKHQgPCAwLjUpIHJldHVybiAoMS4wIC0gTWF0aC5zcXJ0KDEuMCAtIDIuMCAqIHQpKSAqIDAuNTtcbiAgcmV0dXJuICgxLjAgKyBNYXRoLnNxcnQoMi4wICogdCAtIDEuMCkpICogMC41O1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VJbkJhY2sgPSAodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgcmV0dXJuIHQgKiB0ICogKDIuNzAxNTggKiB0IC0gMS43MDE1OCk7XG59O1xuXG5leHBvcnQgY29uc3QgZWFzZU91dEJhY2sgPSAodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgY29uc3QgdHggPSB0IC0gMTtcbiAgcmV0dXJuIDEuMCArIHR4ICogdHggKiAoMi43MDE1OCAqIHR4ICsgMS43MDE1OCk7XG59O1xuXG5leHBvcnQgY29uc3QgZWFzZUluT3V0QmFjayA9ICh0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICBpZiAodCA8IDAuNSkgcmV0dXJuIHQgKiB0ICogKDcuMCAqIHQgLSAyLjUpICogMi4wO1xuICBjb25zdCB0eCA9IHQgLSAxLjA7XG4gIHJldHVybiAxLjAgKyB0eCAqIHR4ICogMi4wICogKDcuMCAqIHR4ICsgMi41KTtcbn07XG5cbmV4cG9ydCBjb25zdCBlYXNlSW5FbGFzdGljID0gKHQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGNvbnN0IHQyID0gdCAqIHQ7XG4gIHJldHVybiB0MiAqIHQyICogTWF0aC5zaW4odCAqIE1hdGguUEkgKiA0LjUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VPdXRFbGFzdGljID0gKHQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGNvbnN0IHQyID0gKHQgLSAxLjApICogKHQgLSAxLjApO1xuICByZXR1cm4gMS4wIC0gdDIgKiB0MiAqIE1hdGguY29zKHQgKiBNYXRoLlBJICogNC41KTtcbn07XG5cbmV4cG9ydCBjb25zdCBlYXNlSW5PdXRFbGFzdGljID0gKHQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGxldCB0MjtcbiAgaWYgKHQgPCAwLjQ1KSB7XG4gICAgdDIgPSB0ICogdDtcbiAgICByZXR1cm4gOC4wICogdDIgKiB0MiAqIE1hdGguc2luKHQgKiBNYXRoLlBJICogOS4wKTtcbiAgfVxuICBpZiAodCA8IDAuNTUpIHJldHVybiAwLjUgKyAwLjc1ICogTWF0aC5zaW4odCAqIE1hdGguUEkgKiA0LjApO1xuXG4gIHQyID0gKHQgLSAxLjApICogKHQgLSAxLjApO1xuICByZXR1cm4gMS4wIC0gOC4wICogdDIgKiB0MiAqIE1hdGguc2luKHQgKiBNYXRoLlBJICogOS4wKTtcbn07XG5cbmV4cG9ydCBjb25zdCBlYXNlSW5Cb3VuY2UgPSAodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgcmV0dXJuIE1hdGgucG93KDIuMCwgNi4wICogKHQgLSAxLjApKSAqIE1hdGguYWJzKE1hdGguc2luKHQgKiBNYXRoLlBJICogMy41KSk7XG59O1xuXG5leHBvcnQgY29uc3QgZWFzZU91dEJvdW5jZSA9ICh0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICByZXR1cm4gMS4wIC0gTWF0aC5wb3coMi4wLCAtNi4wICogdCkgKiBNYXRoLmFicyhNYXRoLmNvcyh0ICogTWF0aC5QSSAqIDMuNSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGVhc2VJbk91dEJvdW5jZSA9ICh0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICBpZiAodCA8IDAuNSkgcmV0dXJuIDguMCAqIE1hdGgucG93KDIuMCwgOC4wICogKHQgLSAxLjApKSAqIE1hdGguYWJzKE1hdGguc2luKHQgKiBNYXRoLlBJICogNy4wKSk7XG4gIHJldHVybiAxLjAgLSA4LjAgKiBNYXRoLnBvdygyLjAsIC04LjAgKiB0KSAqIE1hdGguYWJzKE1hdGguc2luKHQgKiBNYXRoLlBJICogNy4wKSk7XG59O1xuIiwKICAiZXhwb3J0IGNvbnN0IGxlcnAgPSAocmF0aW86IG51bWJlciwgbWluVmFsOiBudW1iZXIsIG1heFZhbDogbnVtYmVyKTogbnVtYmVyID0+IG1pblZhbCArIChtYXhWYWwgLSBtaW5WYWwpICogcmF0aW87XG4iLAogICJpbXBvcnQgKiBhcyBnbG0gZnJvbSAnZ2wtbWF0cml4JztcblxuZXhwb3J0IGNvbnN0IHBvbGFyMkNhcnRlc2lhbiA9IChsYXQ6IG51bWJlciwgbG5nOiBudW1iZXIsIHJlbEFsdGl0dWRlID0gMCwgZ2xvYlJhZGl1cyA9IDEwMCk6IGdsbS52ZWMzID0+IHtcbiAgY29uc3QgcGhpID0gKCg5MCAtIGxhdCkgKiBNYXRoLlBJKSAvIDE4MDtcbiAgY29uc3QgdGhldGEgPSAoKDkwIC0gbG5nKSAqIE1hdGguUEkpIC8gMTgwO1xuICBjb25zdCByID0gZ2xvYlJhZGl1cyAqICgxICsgcmVsQWx0aXR1ZGUpO1xuICByZXR1cm4gW3IgKiBNYXRoLnNpbihwaGkpICogTWF0aC5jb3ModGhldGEpLCByICogTWF0aC5jb3MocGhpKSwgciAqIE1hdGguc2luKHBoaSkgKiBNYXRoLnNpbih0aGV0YSldO1xufTtcblxuZXhwb3J0IGNvbnN0IGNhcnRlc2lhbjJQb2xhciA9IChcbiAgeDogbnVtYmVyLFxuICB5OiBudW1iZXIsXG4gIHo6IG51bWJlcixcbiAgZ2xvYlJhZGl1cyA9IDEwMFxuKToge1xuICBsYXQ6IG51bWJlcjtcbiAgbG5nOiBudW1iZXI7XG4gIGFsdGl0dWRlOiBudW1iZXI7XG59ID0+IHtcbiAgY29uc3QgciA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuICBjb25zdCBwaGkgPSBNYXRoLmFjb3MoeSAvIHIpO1xuICBjb25zdCB0aGV0YSA9IE1hdGguYXRhbjIoeiwgeCk7XG5cbiAgcmV0dXJuIHtcbiAgICBsYXQ6IDkwIC0gKHBoaSAqIDE4MCkgLyBNYXRoLlBJLFxuICAgIGxuZzogOTAgLSAodGhldGEgKiAxODApIC8gTWF0aC5QSSAtICh0aGV0YSA8IC1NYXRoLlBJIC8gMiA/IDM2MCA6IDApLCAvLyBrZWVwIHdpdGhpbiBbLTE4MCwgMTgwXSBib3VuZGFyaWVzXG4gICAgYWx0aXR1ZGU6IHIgLyBnbG9iUmFkaXVzIC0gMVxuICB9O1xufTtcbiIsCiAgImltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG4vLyBJbnRlcnNlY3RzIHJheSByID0gcCArIHRkLCB8ZHwgPSAxLCB3aXRoIHNwaGVyZSBzIGFuZCwgaWYgaW50ZXJzZWN0aW5nLFxuLy8gcmV0dXJucyB0IHZhbHVlIG9mIGludGVyc2VjdGlvbiBhbmQgaW50ZXJzZWN0aW9uIHBvaW50IHFcbmV4cG9ydCBjb25zdCBpbnRlcnNlY3RSYXlTcGhlcmUgPSAoXG4gIHBvczogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgZGlyOiBnbG0uUmVhZG9ubHlWZWMzLFxuICBjZW50ZXI6IGdsbS5SZWFkb25seVZlYzMsXG4gIHJhZGl1czogbnVtYmVyXG4pOiBnbG0udmVjMyB8IG51bGwgPT4ge1xuICAvLyBWZWN0b3IgbSA9IHAgLSBzLmM7XG4gIGNvbnN0IG0gPSBnbG0udmVjMy5zdWIoZ2xtLnZlYzMuY3JlYXRlKCksIHBvcywgY2VudGVyKTtcbiAgLy8gZmxvYXQgYiA9IERvdChtLCBkKTtcbiAgY29uc3QgYiA9IGdsbS52ZWMzLmRvdChtLCBkaXIpO1xuICAvLyBmbG9hdCBjID0gRG90KG0sIG0pIC0gcy5yICogcy5yO1xuICBjb25zdCBjID0gZ2xtLnZlYzMuZG90KG0sIG0pIC0gcmFkaXVzICogcmFkaXVzO1xuXG4gIC8vIEV4aXQgaWYgcuKAmXMgb3JpZ2luIG91dHNpZGUgcyAoYyA+IDApIGFuZCByIHBvaW50aW5nIGF3YXkgZnJvbSBzIChiID4gMClcbiAgaWYgKGMgPiAwICYmIGIgPiAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgZGlzY3IgPSBiICogYiAtIGM7XG5cbiAgLy8gQSBuZWdhdGl2ZSBkaXNjcmltaW5hbnQgY29ycmVzcG9uZHMgdG8gcmF5IG1pc3Npbmcgc3BoZXJlXG4gIGlmIChkaXNjciA8IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIFJheSBub3cgZm91bmQgdG8gaW50ZXJzZWN0IHNwaGVyZSwgY29tcHV0ZSBzbWFsbGVzdCB0IHZhbHVlIG9mIGludGVyc2VjdGlvblxuICBsZXQgdCA9IC1iIC0gTWF0aC5zcXJ0KGRpc2NyKTtcblxuICAvLyBJZiB0IGlzIG5lZ2F0aXZlLCByYXkgc3RhcnRlZCBpbnNpZGUgc3BoZXJlIHNvIGNsYW1wIHQgdG8gemVyb1xuICBpZiAodCA8IDApIHtcbiAgICB0ID0gMDtcbiAgfVxuXG4gIHJldHVybiBnbG0udmVjMy5mcm9tVmFsdWVzKHBvc1swXSArIHQgKiBkaXJbMF0sIHBvc1sxXSArIHQgKiBkaXJbMV0sIHBvc1syXSArIHQgKiBkaXJbMl0pO1xufTtcbiIsCiAgImV4cG9ydCBpbnRlcmZhY2UgSUZyYW1lUHJvZmlsZXIge1xuICBmcmFtZXNEZWx0YTogUmVhZG9ubHlBcnJheTxudW1iZXI+O1xuICBhdmVyYWdlRGVsdGE6IG51bWJlcjtcbiAgbWluRGVsdGE6IG51bWJlcjtcbiAgbWF4RGVsdGE6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEZyYW1lUHJvZmlsZXIgaW1wbGVtZW50cyBJRnJhbWVQcm9maWxlciB7XG4gIHByaXZhdGUgX2ZyYW1lc0RlbHRhOiBudW1iZXJbXSA9IFtdO1xuICBwcml2YXRlIF9hdmVyYWdlRGVsdGE6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX21pbkRlbHRhOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9tYXhEZWx0YTogbnVtYmVyID0gMDtcblxuICBwdXNoRGVsdGEoaW5EZWx0YTogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuX2ZyYW1lc0RlbHRhLmxlbmd0aCA+PSAxMDApIHtcbiAgICAgIHRoaXMuX2ZyYW1lc0RlbHRhLnNoaWZ0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZnJhbWVzRGVsdGEucHVzaChpbkRlbHRhKTtcblxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuXG4gICAgdGhpcy5fbWluRGVsdGEgPSArOTk5OTk5OTk5O1xuICAgIHRoaXMuX21heERlbHRhID0gLTk5OTk5OTk5OTtcbiAgICB0aGlzLl9hdmVyYWdlRGVsdGEgPSAwO1xuXG4gICAgZm9yIChjb25zdCBjdXJyRGVsdGEgb2YgdGhpcy5fZnJhbWVzRGVsdGEpIHtcbiAgICAgIHRoaXMuX21pbkRlbHRhID0gTWF0aC5taW4odGhpcy5fbWluRGVsdGEsIGN1cnJEZWx0YSk7XG4gICAgICB0aGlzLl9tYXhEZWx0YSA9IE1hdGgubWF4KHRoaXMuX21heERlbHRhLCBjdXJyRGVsdGEpO1xuICAgICAgdGhpcy5fYXZlcmFnZURlbHRhICs9IGN1cnJEZWx0YTtcbiAgICB9XG4gICAgdGhpcy5fYXZlcmFnZURlbHRhIC89IHRoaXMuX2ZyYW1lc0RlbHRhLmxlbmd0aDtcbiAgfVxuXG4gIGdldCBmcmFtZXNEZWx0YSgpOiBSZWFkb25seUFycmF5PG51bWJlcj4ge1xuICAgIHJldHVybiB0aGlzLl9mcmFtZXNEZWx0YTtcbiAgfVxuICBnZXQgYXZlcmFnZURlbHRhKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2F2ZXJhZ2VEZWx0YTtcbiAgfVxuICBnZXQgbWluRGVsdGEoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fbWluRGVsdGE7XG4gIH1cbiAgZ2V0IG1heERlbHRhKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX21heERlbHRhO1xuICB9XG59XG4iLAogICJleHBvcnQgY29uc3QgcHJvZ3Jlc3NGZXRjaCA9IGFzeW5jICh1cmw6IHN0cmluZywgb25Qcm9ncmVzcz86ICh0b3RhbDogbnVtYmVyKSA9PiB2b2lkKTogUHJvbWlzZTxSZXNwb25zZT4gPT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG5cbiAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keSEuZ2V0UmVhZGVyKCk7XG5cbiAgbGV0IHRvdGFsUHJvZ3Jlc3MgPSAwO1xuICBjb25zdCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgIHJldHVybiBwdW1wKCk7XG4gICAgICBmdW5jdGlvbiBwdW1wKCk6IGFueSB7XG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZCgpLnRoZW4oKHsgZG9uZSwgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgIC8vIFdoZW4gbm8gbW9yZSBkYXRhIG5lZWRzIHRvIGJlIGNvbnN1bWVkLCBjbG9zZSB0aGUgc3RyZWFtXG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob25Qcm9ncmVzcykge1xuICAgICAgICAgICAgdG90YWxQcm9ncmVzcyArPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICBvblByb2dyZXNzKHRvdGFsUHJvZ3Jlc3MpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEVucXVldWUgdGhlIG5leHQgZGF0YSBjaHVuayBpbnRvIG91ciB0YXJnZXQgc3RyZWFtXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gcHVtcCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBhd2FpdCBzdHJlYW07XG4gIHJldHVybiBuZXcgUmVzcG9uc2Uoc3RyZWFtKTtcbn07XG4iLAogICJleHBvcnQgY29uc3Qgc2xlZXAgPSBhc3luYyAoZGVsYXk6IG51bWJlcik6IFByb21pc2U8dm9pZD4gPT4ge1xuICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNhbmNlbGxhYmxlU2xlZXAgPSAoXG4gIGRlbGF5OiBudW1iZXJcbik6IHtcbiAgcHJvbWlzZTogUHJvbWlzZTx2b2lkPjtcbiAgY2FuY2VsOiAoKSA9PiB2b2lkO1xufSA9PiB7XG4gIGxldCB0aW1lb3V0SGFuZGxlOiBudW1iZXIgPSAtMTtcbiAgbGV0IHJlc29sdmVDYWxsYmFjazogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgIHJlc29sdmVDYWxsYmFjayA9IHJlc29sdmU7XG4gICAgdGltZW91dEhhbmRsZSA9IHdpbmRvdy5zZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9taXNlLFxuICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgaWYgKHRpbWVvdXRIYW5kbGUgPj0gMCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXRIYW5kbGUpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc29sdmVDYWxsYmFjaykge1xuICAgICAgICByZXNvbHZlQ2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuIiwKICAiY29uc3QgUkFORF9NQVggPSAyMTQ3NDgzNjQ4IHwgMDtcblxuZXhwb3J0IGNsYXNzIERldGVybWluaXN0aWNSbmcge1xuICBwcml2YXRlIF9zZWVkOiBudW1iZXIgPSAxIHwgMDtcblxuICByYW5kb20oKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5fc2VlZCA9PSAwKSB7XG4gICAgICB0aGlzLl9zZWVkID0gMTIzNDU5ODc2IHwgMDtcbiAgICB9XG5cbiAgICBjb25zdCBoaSA9ICh0aGlzLl9zZWVkIC8gMTI3NzczKSB8IDA7XG4gICAgY29uc3QgbG8gPSB0aGlzLl9zZWVkICUgMTI3NzczIHwgMDtcbiAgICBsZXQgeCA9ICgxNjgwNyAqIGxvIC0gMjgzNiAqIGhpKSB8IDA7XG5cbiAgICBpZiAoeCA8IDApIHtcbiAgICAgIHggKz0gMHg3ZmZmZmZmZiB8IDA7XG4gICAgfVxuXG4gICAgdGhpcy5fc2VlZCA9IHg7XG5cbiAgICByZXR1cm4gKHggJSAoUkFORF9NQVggKyAxKSkgLyAtUkFORF9NQVg7XG4gIH1cblxuICBzZXRTZWVkKGluU2VlZDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fc2VlZCA9IGluU2VlZCB8IDA7XG4gIH1cbn1cbiIsCiAgImltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG5pbXBvcnQgeyBkZWcyUmFkIH0gZnJvbSAnLi4vLi4vc3lzdGVtL21hdGgvYW5nbGVzJztcblxuZW51bSBQcm9qZWN0aW9uVHlwZSB7XG4gIHBlcnNwZWN0aXZlID0gMCxcbiAgb3J0aG9nb25hbCA9IDFcbn1cblxuaW50ZXJmYWNlIElQZXJzcGVjdGl2ZURhdGFPcHRzIHtcbiAgZm92eTogbnVtYmVyO1xuICBhc3BlY3RSYXRpbz86IG51bWJlcjtcbiAgbmVhcjogbnVtYmVyO1xuICBmYXI6IG51bWJlcjtcbn1cblxudHlwZSBJUGVyc3BlY3RpdmVEYXRhID0gUmVxdWlyZWQ8SVBlcnNwZWN0aXZlRGF0YU9wdHM+O1xuXG5pbnRlcmZhY2UgSU9ydGhvZ29uYWxEYXRhIHtcbiAgbGVmdDogbnVtYmVyO1xuICByaWdodDogbnVtYmVyO1xuICB0b3A6IG51bWJlcjtcbiAgYm90dG9tOiBudW1iZXI7XG4gIG5lYXI6IG51bWJlcjtcbiAgZmFyOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNhbWVyYSB7XG4gIGdldEV5ZSgpOiBnbG0uUmVhZG9ubHlWZWMzO1xuICBnZXRUYXJnZXQoKTogZ2xtLlJlYWRvbmx5VmVjMztcbiAgZ2V0VXBBeGlzKCk6IGdsbS5SZWFkb25seVZlYzM7XG5cbiAgZ2V0UHJvamVjdGlvbk1hdHJpeCgpOiBnbG0uUmVhZG9ubHlNYXQ0O1xuICBnZXRWaWV3TWF0cml4KCk6IGdsbS5SZWFkb25seU1hdDQ7XG4gIGdldENvbXBvc2VkTWF0cml4KCk6IGdsbS5SZWFkb25seU1hdDQ7XG5cbiAgZ2V0UGVyc3BlY3RpdmVEYXRhKCk6IFJlYWRvbmx5PElQZXJzcGVjdGl2ZURhdGEgfCB1bmRlZmluZWQ+O1xuICBnZXRPcnRob2dvbmFsRGF0YSgpOiBSZWFkb25seTxJT3J0aG9nb25hbERhdGEgfCB1bmRlZmluZWQ+O1xufVxuXG5leHBvcnQgY2xhc3MgQ2FtZXJhIGltcGxlbWVudHMgSUNhbWVyYSB7XG4gIHByaXZhdGUgX3Byb2plY3Rpb25UeXBlID0gUHJvamVjdGlvblR5cGUucGVyc3BlY3RpdmU7XG4gIHByaXZhdGUgX3BlcnNwZWN0aXZlRGF0YT86IElQZXJzcGVjdGl2ZURhdGE7XG4gIHByaXZhdGUgX29ydGhvZ29uYWxEYXRhPzogSU9ydGhvZ29uYWxEYXRhO1xuXG4gIHByaXZhdGUgX3ZpZXdwb3J0UG9zID0gZ2xtLnZlYzIuZnJvbVZhbHVlcygwLCAwKTtcbiAgcHJpdmF0ZSBfdmlld3BvcnRTaXplID0gZ2xtLnZlYzIuZnJvbVZhbHVlcygwLCAwKTtcblxuICBwcml2YXRlIF9wcm9qZWN0aW9uTWF0cml4ID0gZ2xtLm1hdDQuY3JlYXRlKCk7XG4gIHByaXZhdGUgX3ZpZXdNYXRyaXggPSBnbG0ubWF0NC5jcmVhdGUoKTtcbiAgcHJpdmF0ZSBfY29tcG9zZWRNYXRyaXggPSBnbG0ubWF0NC5jcmVhdGUoKTtcblxuICBwcml2YXRlIF9leWUgPSBnbG0udmVjMy5mcm9tVmFsdWVzKDAsIDAsIDApO1xuICBwcml2YXRlIF90YXJnZXQgPSBnbG0udmVjMy5mcm9tVmFsdWVzKDAsIDAsIDApO1xuICBwcml2YXRlIF91cEF4aXMgPSBnbG0udmVjMy5mcm9tVmFsdWVzKDAsIDAsIDApO1xuXG4gIC8vXG5cbiAgc2V0QXNQZXJzcGVjdGl2ZShpbkRhdGE6IElQZXJzcGVjdGl2ZURhdGFPcHRzKSB7XG4gICAgdGhpcy5fcHJvamVjdGlvblR5cGUgPSBQcm9qZWN0aW9uVHlwZS5wZXJzcGVjdGl2ZTtcblxuICAgIGxldCBhc3BlY3RSYXRpbyA9IGluRGF0YS5hc3BlY3RSYXRpbztcbiAgICBpZiAoYXNwZWN0UmF0aW8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgYXNwZWN0UmF0aW8gPSB0aGlzLl92aWV3cG9ydFNpemVbMF0gLyB0aGlzLl92aWV3cG9ydFNpemVbMV07XG4gICAgfVxuXG4gICAgdGhpcy5fcGVyc3BlY3RpdmVEYXRhID0ge1xuICAgICAgZm92eTogaW5EYXRhLmZvdnksXG4gICAgICBhc3BlY3RSYXRpbyxcbiAgICAgIG5lYXI6IGluRGF0YS5uZWFyLFxuICAgICAgZmFyOiBpbkRhdGEuZmFyXG4gICAgfTtcbiAgfVxuXG4gIHNldEFzT3J0aG9nb25hbChpbkRhdGE6IElPcnRob2dvbmFsRGF0YSkge1xuICAgIHRoaXMuX3Byb2plY3Rpb25UeXBlID0gUHJvamVjdGlvblR5cGUub3J0aG9nb25hbDtcbiAgICB0aGlzLl9vcnRob2dvbmFsRGF0YSA9IHsgLi4uaW5EYXRhIH07XG4gIH1cblxuICAvL1xuXG4gIHNldFZpZXdwb3J0UG9zKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy5fdmlld3BvcnRQb3NbMF0gPSB3aWR0aDtcbiAgICB0aGlzLl92aWV3cG9ydFBvc1sxXSA9IGhlaWdodDtcbiAgfVxuXG4gIGdldFZpZXdwb3J0UG9zKCk6IGdsbS5SZWFkb25seVZlYzIge1xuICAgIHJldHVybiB0aGlzLl92aWV3cG9ydFBvcztcbiAgfVxuXG4gIC8vXG5cbiAgc2V0Vmlld3BvcnRTaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy5fdmlld3BvcnRTaXplWzBdID0gd2lkdGg7XG4gICAgdGhpcy5fdmlld3BvcnRTaXplWzFdID0gaGVpZ2h0O1xuXG4gICAgaWYgKHRoaXMuX3Byb2plY3Rpb25UeXBlICE9PSBQcm9qZWN0aW9uVHlwZS5wZXJzcGVjdGl2ZSAmJiB0aGlzLl9wZXJzcGVjdGl2ZURhdGEpIHtcbiAgICAgIHRoaXMuX3BlcnNwZWN0aXZlRGF0YS5hc3BlY3RSYXRpbyA9IHRoaXMuX3ZpZXdwb3J0U2l6ZVswXSAvIHRoaXMuX3ZpZXdwb3J0U2l6ZVsxXTtcbiAgICB9XG4gIH1cblxuICBnZXRWaWV3cG9ydFNpemUoKTogZ2xtLlJlYWRvbmx5VmVjMiB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXdwb3J0U2l6ZTtcbiAgfVxuXG4gIC8vXG5cbiAgbG9va0F0KGluRXllOiBnbG0uUmVhZG9ubHlWZWMzLCBpblRhcmdldDogZ2xtLlJlYWRvbmx5VmVjMywgaW5VcEF4aXM6IGdsbS5SZWFkb25seVZlYzMpIHtcbiAgICB0aGlzLnNldEV5ZShpbkV5ZSk7XG4gICAgdGhpcy5zZXRUYXJnZXQoaW5UYXJnZXQpO1xuICAgIHRoaXMuc2V0VXBBeGlzKGluVXBBeGlzKTtcbiAgfVxuXG4gIC8vXG5cbiAgc2V0RXllKGluRXllOiBnbG0uUmVhZG9ubHlWZWMzKSB7XG4gICAgZ2xtLnZlYzMuY29weSh0aGlzLl9leWUsIGluRXllKTtcbiAgfVxuICBzZXRUYXJnZXQoaW5UYXJnZXQ6IGdsbS5SZWFkb25seVZlYzMpIHtcbiAgICBnbG0udmVjMy5jb3B5KHRoaXMuX3RhcmdldCwgaW5UYXJnZXQpO1xuICB9XG4gIHNldFVwQXhpcyhpblVwQXhpczogZ2xtLlJlYWRvbmx5VmVjMykge1xuICAgIGdsbS52ZWMzLmNvcHkodGhpcy5fdXBBeGlzLCBpblVwQXhpcyk7XG4gIH1cblxuICBnZXRFeWUoKTogZ2xtLlJlYWRvbmx5VmVjMyB7XG4gICAgcmV0dXJuIHRoaXMuX2V5ZTtcbiAgfVxuICBnZXRUYXJnZXQoKTogZ2xtLlJlYWRvbmx5VmVjMyB7XG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcbiAgfVxuICBnZXRVcEF4aXMoKTogZ2xtLlJlYWRvbmx5VmVjMyB7XG4gICAgcmV0dXJuIHRoaXMuX3VwQXhpcztcbiAgfVxuXG4gIC8vXG5cbiAgY29tcHV0ZU1hdHJpY2VzKCkge1xuICAgIGlmICh0aGlzLl9wcm9qZWN0aW9uVHlwZSA9PT0gUHJvamVjdGlvblR5cGUucGVyc3BlY3RpdmUpIHtcbiAgICAgIGNvbnN0IHsgZm92eSwgYXNwZWN0UmF0aW8sIG5lYXIsIGZhciB9ID0gdGhpcy5fcGVyc3BlY3RpdmVEYXRhITtcbiAgICAgIGdsbS5tYXQ0LnBlcnNwZWN0aXZlKHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsIGRlZzJSYWQoZm92eSksIGFzcGVjdFJhdGlvISwgbmVhciwgZmFyKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3Byb2plY3Rpb25UeXBlID09PSBQcm9qZWN0aW9uVHlwZS5vcnRob2dvbmFsKSB7XG4gICAgICBjb25zdCB7IGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyIH0gPSB0aGlzLl9vcnRob2dvbmFsRGF0YSE7XG4gICAgICBnbG0ubWF0NC5vcnRobyh0aGlzLl9wcm9qZWN0aW9uTWF0cml4LCBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20sIG5lYXIsIGZhcik7XG4gICAgfVxuXG4gICAgZ2xtLm1hdDQubG9va0F0KHRoaXMuX3ZpZXdNYXRyaXgsIHRoaXMuX2V5ZSwgdGhpcy5fdGFyZ2V0LCB0aGlzLl91cEF4aXMpO1xuXG4gICAgdGhpcy5jb21wdXRlQ29tcG9zZWRNYXRyaXgoKTtcbiAgfVxuXG4gIGNvbXB1dGVDb21wb3NlZE1hdHJpeCgpIHtcbiAgICBnbG0ubWF0NC5tdWx0aXBseSh0aGlzLl9jb21wb3NlZE1hdHJpeCwgdGhpcy5fcHJvamVjdGlvbk1hdHJpeCwgdGhpcy5fdmlld01hdHJpeCk7XG4gIH1cblxuICBzZXRQcm9qZWN0aW9uTWF0cml4KGluTWF0NDogZ2xtLlJlYWRvbmx5TWF0NCkge1xuICAgIGdsbS5tYXQ0LmNvcHkodGhpcy5fcHJvamVjdGlvbk1hdHJpeCwgaW5NYXQ0KTtcbiAgfVxuICBzZXRWaWV3TWF0cml4KGluTWF0NDogZ2xtLlJlYWRvbmx5TWF0NCkge1xuICAgIGdsbS5tYXQ0LmNvcHkodGhpcy5fdmlld01hdHJpeCwgaW5NYXQ0KTtcbiAgfVxuICBzZXRDb21wb3NlZE1hdHJpeChpbk1hdDQ6IGdsbS5SZWFkb25seU1hdDQpIHtcbiAgICBnbG0ubWF0NC5jb3B5KHRoaXMuX2NvbXBvc2VkTWF0cml4LCBpbk1hdDQpO1xuICB9XG5cbiAgZ2V0UHJvamVjdGlvbk1hdHJpeCgpOiBnbG0uUmVhZG9ubHlNYXQ0IHtcbiAgICByZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeDtcbiAgfVxuICBnZXRWaWV3TWF0cml4KCk6IGdsbS5SZWFkb25seU1hdDQge1xuICAgIHJldHVybiB0aGlzLl92aWV3TWF0cml4O1xuICB9XG4gIGdldENvbXBvc2VkTWF0cml4KCk6IGdsbS5SZWFkb25seU1hdDQge1xuICAgIHJldHVybiB0aGlzLl9jb21wb3NlZE1hdHJpeDtcbiAgfVxuXG4gIC8vXG5cbiAgZ2V0UGVyc3BlY3RpdmVEYXRhKCk6IFJlYWRvbmx5PElQZXJzcGVjdGl2ZURhdGEgfCB1bmRlZmluZWQ+IHtcbiAgICBpZiAodGhpcy5fcHJvamVjdGlvblR5cGUgIT09IFByb2plY3Rpb25UeXBlLnBlcnNwZWN0aXZlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3BlcnNwZWN0aXZlRGF0YTtcbiAgfVxuICBnZXRPcnRob2dvbmFsRGF0YSgpOiBSZWFkb25seTxJT3J0aG9nb25hbERhdGEgfCB1bmRlZmluZWQ+IHtcbiAgICBpZiAodGhpcy5fcHJvamVjdGlvblR5cGUgIT09IFByb2plY3Rpb25UeXBlLm9ydGhvZ29uYWwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGFuIG9ydGhvZ29uYWwgcHJvamVjdGlvbicpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fb3J0aG9nb25hbERhdGE7XG4gIH1cbn1cbiIsCiAgImltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG5lbnVtIEZydXN0dW1TaWRlIHtcbiAgUmlnaHQgPSAwLFxuICBMZWZ0ID0gMSxcbiAgQm90dG9tID0gMixcbiAgVG9wID0gMyxcbiAgQmFjayA9IDQsXG4gIEZyb250ID0gNVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGcnVzdHVtQ3VsbGluZyB7XG4gIGNhbGN1bGF0ZUZydXN0dW0ocHJvajogZ2xtLlJlYWRvbmx5TWF0NCwgdmlldzogZ2xtLlJlYWRvbmx5TWF0NCk6IHZvaWQ7XG4gIHNwaGVyZUluRnJ1c3R1bSh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCByYWRpdXM6IG51bWJlcik6IGJvb2xlYW47XG4gIHBvaW50SW5GcnVzdHVtKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiBib29sZWFuO1xuICBjdWJlSW5GcnVzdHVtKGluWDogbnVtYmVyLCBpblk6IG51bWJlciwgaW5aOiBudW1iZXIsIGluU2l6ZTogbnVtYmVyKTogYm9vbGVhbjtcbiAgY3ViZUluRnJ1c3R1bVZlYzMoY2VudGVyOiBnbG0uUmVhZG9ubHlWZWMzLCBpblNpemU6IG51bWJlcik6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBGcnVzdHVtQ3VsbGluZyBpbXBsZW1lbnRzIElGcnVzdHVtQ3VsbGluZyB7XG4gIHByaXZhdGUgX2ZydXN0dW0gPSBuZXcgRmxvYXQzMkFycmF5KDI0KTsgLy8gNiAqIDQgdmFsdWVzXG5cbiAgcHJpdmF0ZSBfc2V0UGxhbmUoc2lkZTogRnJ1c3R1bVNpZGUsIGxlZnQ6IGdsbS5SZWFkb25seVZlYzQsIHJpZ2h0OiBnbG0uUmVhZG9ubHlWZWM0LCBjb2VmOiBudW1iZXIpIHtcbiAgICBjb25zdCBpbmRleCA9IHNpZGUgKiA0O1xuXG4gICAgdGhpcy5fZnJ1c3R1bVtpbmRleCArIDBdID0gbGVmdFswXSArIHJpZ2h0WzBdICogY29lZjtcbiAgICB0aGlzLl9mcnVzdHVtW2luZGV4ICsgMV0gPSBsZWZ0WzFdICsgcmlnaHRbMV0gKiBjb2VmO1xuICAgIHRoaXMuX2ZydXN0dW1baW5kZXggKyAyXSA9IGxlZnRbMl0gKyByaWdodFsyXSAqIGNvZWY7XG4gICAgdGhpcy5fZnJ1c3R1bVtpbmRleCArIDNdID0gbGVmdFszXSArIHJpZ2h0WzNdICogY29lZjtcblxuICAgIGNvbnN0IG1hZ25pdHVkZSA9IE1hdGguc3FydChcbiAgICAgIHRoaXMuX2ZydXN0dW1baW5kZXggKyAwXSAqIHRoaXMuX2ZydXN0dW1baW5kZXggKyAwXSArXG4gICAgICAgIHRoaXMuX2ZydXN0dW1baW5kZXggKyAxXSAqIHRoaXMuX2ZydXN0dW1baW5kZXggKyAxXSArXG4gICAgICAgIHRoaXMuX2ZydXN0dW1baW5kZXggKyAyXSAqIHRoaXMuX2ZydXN0dW1baW5kZXggKyAyXVxuICAgICk7XG5cbiAgICBpZiAobWFnbml0dWRlID09PSAwKSByZXR1cm47XG5cbiAgICB0aGlzLl9mcnVzdHVtW2luZGV4ICsgMF0gLz0gbWFnbml0dWRlO1xuICAgIHRoaXMuX2ZydXN0dW1baW5kZXggKyAxXSAvPSBtYWduaXR1ZGU7XG4gICAgdGhpcy5fZnJ1c3R1bVtpbmRleCArIDJdIC89IG1hZ25pdHVkZTtcbiAgICB0aGlzLl9mcnVzdHVtW2luZGV4ICsgM10gLz0gbWFnbml0dWRlO1xuICB9XG5cbiAgY2FsY3VsYXRlRnJ1c3R1bShwcm9qOiBnbG0uUmVhZG9ubHlNYXQ0LCB2aWV3OiBnbG0uUmVhZG9ubHlNYXQ0KSB7XG4gICAgY29uc3QgY2xpcCA9IGdsbS5tYXQ0Lm11bHRpcGx5KGdsbS5tYXQ0LmNyZWF0ZSgpLCBwcm9qLCB2aWV3KTtcblxuICAgIC8vL1xuXG4gICAgY29uc3Qgcm93MCA9IGdsbS52ZWM0LmZyb21WYWx1ZXMoY2xpcFswXSwgY2xpcFs0XSwgY2xpcFs4XSwgY2xpcFsxMl0pO1xuICAgIGNvbnN0IHJvdzEgPSBnbG0udmVjNC5mcm9tVmFsdWVzKGNsaXBbMV0sIGNsaXBbNV0sIGNsaXBbOV0sIGNsaXBbMTNdKTtcbiAgICBjb25zdCByb3cyID0gZ2xtLnZlYzQuZnJvbVZhbHVlcyhjbGlwWzJdLCBjbGlwWzZdLCBjbGlwWzEwXSwgY2xpcFsxNF0pO1xuICAgIGNvbnN0IHJvdzMgPSBnbG0udmVjNC5mcm9tVmFsdWVzKGNsaXBbM10sIGNsaXBbN10sIGNsaXBbMTFdLCBjbGlwWzE1XSk7XG5cbiAgICB0aGlzLl9zZXRQbGFuZShGcnVzdHVtU2lkZS5SaWdodCwgcm93Mywgcm93MCwgLTEpO1xuICAgIHRoaXMuX3NldFBsYW5lKEZydXN0dW1TaWRlLkxlZnQsIHJvdzMsIHJvdzAsICsxKTtcbiAgICB0aGlzLl9zZXRQbGFuZShGcnVzdHVtU2lkZS5Cb3R0b20sIHJvdzMsIHJvdzEsICsxKTtcbiAgICB0aGlzLl9zZXRQbGFuZShGcnVzdHVtU2lkZS5Ub3AsIHJvdzMsIHJvdzEsIC0xKTtcbiAgICB0aGlzLl9zZXRQbGFuZShGcnVzdHVtU2lkZS5CYWNrLCByb3czLCByb3cyLCAtMSk7XG4gICAgdGhpcy5fc2V0UGxhbmUoRnJ1c3R1bVNpZGUuRnJvbnQsIHJvdzMsIHJvdzIsICsxKTtcbiAgfVxuXG4gIHNwaGVyZUluRnJ1c3R1bSh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCByYWRpdXM6IG51bWJlcikge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCA2OyArK2lpKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGlpICogNDtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5fZnJ1c3R1bVtpbmRleCArIDBdICogeCArXG4gICAgICAgICAgdGhpcy5fZnJ1c3R1bVtpbmRleCArIDFdICogeSArXG4gICAgICAgICAgdGhpcy5fZnJ1c3R1bVtpbmRleCArIDJdICogeiArXG4gICAgICAgICAgdGhpcy5fZnJ1c3R1bVtpbmRleCArIDNdIDw9XG4gICAgICAgIC1yYWRpdXNcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwb2ludEluRnJ1c3R1bSh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyKSB7XG4gICAgLy8gc3BoZXJlIG9mIHJhZGl1cyAwID0+IHBvaW50XG4gICAgcmV0dXJuIHRoaXMuc3BoZXJlSW5GcnVzdHVtKHgsIHksIHosIDApO1xuICB9XG5cbiAgY3ViZUluRnJ1c3R1bVZlYzMoY2VudGVyOiBnbG0uUmVhZG9ubHlWZWMzLCBpblNpemU6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLmN1YmVJbkZydXN0dW0oY2VudGVyWzBdLCBjZW50ZXJbMV0sIGNlbnRlclsyXSwgaW5TaXplKTtcbiAgfVxuXG4gIGN1YmVJbkZydXN0dW0oaW5YOiBudW1iZXIsIGluWTogbnVtYmVyLCBpblo6IG51bWJlciwgaW5TaXplOiBudW1iZXIpIHtcbiAgICBjb25zdCBoU2l6ZSA9IGluU2l6ZSAqIDAuNTtcbiAgICBjb25zdCBtaW5YID0gaW5YIC0gaFNpemU7XG4gICAgY29uc3QgbWluWSA9IGluWSAtIGhTaXplO1xuICAgIGNvbnN0IG1pblogPSBpblogLSBoU2l6ZTtcbiAgICBjb25zdCBtYXhYID0gaW5YICsgaFNpemU7XG4gICAgY29uc3QgbWF4WSA9IGluWSArIGhTaXplO1xuICAgIGNvbnN0IG1heFogPSBpblogKyBoU2l6ZTtcblxuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCA2OyArK2lpKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGlpICogNDtcbiAgICAgIGNvbnN0IHBsYW5BID0gdGhpcy5fZnJ1c3R1bVtpbmRleCArIDBdO1xuICAgICAgY29uc3QgcGxhbkIgPSB0aGlzLl9mcnVzdHVtW2luZGV4ICsgMV07XG4gICAgICBjb25zdCBwbGFuQyA9IHRoaXMuX2ZydXN0dW1baW5kZXggKyAyXTtcbiAgICAgIGNvbnN0IHBsYW5EID0gdGhpcy5fZnJ1c3R1bVtpbmRleCArIDNdO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHBsYW5BICogbWluWCArIHBsYW5CICogbWluWSArIHBsYW5DICogbWluWiArIHBsYW5EID4gMCB8fFxuICAgICAgICBwbGFuQSAqIG1heFggKyBwbGFuQiAqIG1pblkgKyBwbGFuQyAqIG1pblogKyBwbGFuRCA+IDAgfHxcbiAgICAgICAgcGxhbkEgKiBtaW5YICsgcGxhbkIgKiBtYXhZICsgcGxhbkMgKiBtaW5aICsgcGxhbkQgPiAwIHx8XG4gICAgICAgIHBsYW5BICogbWF4WCArIHBsYW5CICogbWF4WSArIHBsYW5DICogbWluWiArIHBsYW5EID4gMCB8fFxuICAgICAgICBwbGFuQSAqIG1pblggKyBwbGFuQiAqIG1pblkgKyBwbGFuQyAqIG1heFogKyBwbGFuRCA+IDAgfHxcbiAgICAgICAgcGxhbkEgKiBtYXhYICsgcGxhbkIgKiBtaW5ZICsgcGxhbkMgKiBtYXhaICsgcGxhbkQgPiAwIHx8XG4gICAgICAgIHBsYW5BICogbWluWCArIHBsYW5CICogbWF4WSArIHBsYW5DICogbWF4WiArIHBsYW5EID4gMCB8fFxuICAgICAgICBwbGFuQSAqIG1heFggKyBwbGFuQiAqIG1heFkgKyBwbGFuQyAqIG1heFogKyBwbGFuRCA+IDBcbiAgICAgICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG4iLAogICIvLyBodHRwczovL3d3dy5vcGVuZ2wub3JnL3dpa2kvR2x1UHJvamVjdF9hbmRfZ2x1VW5Qcm9qZWN0X2NvZGVcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbmV4cG9ydCBjb25zdCBzY2VuZVRvU2NyZWVuQ29vcmRpbmF0ZXMgPSAoXG4gIHNjZW5lUG9zOiBnbG0uUmVhZG9ubHlWZWMzW10sXG4gIG1vZGVsVmlldzogZ2xtLlJlYWRvbmx5TWF0NCxcbiAgcHJvamVjdGlvbjogZ2xtLlJlYWRvbmx5TWF0NCxcbiAgdmlld3BvcnQ6IGdsbS5SZWFkb25seVZlYzRcbik6IGdsbS52ZWMzW10gPT4ge1xuICBjb25zdCBjb21wb3NlZE1hdHJpeCA9IGdsbS5tYXQ0LmNyZWF0ZSgpO1xuXG4gIGdsbS5tYXQ0Lm11bHRpcGx5KGNvbXBvc2VkTWF0cml4LCBwcm9qZWN0aW9uLCBtb2RlbFZpZXcpO1xuXG4gIHJldHVybiBzY2VuZVRvU2NyZWVuQ29vcmRzRnJvbUNvbXBvc2VkKHNjZW5lUG9zLCBjb21wb3NlZE1hdHJpeCwgdmlld3BvcnQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNjZW5lVG9TY3JlZW5Db29yZHNGcm9tQ29tcG9zZWQgPSAoXG4gIGFsbFNjZW5lUG9zOiBnbG0uUmVhZG9ubHlWZWMzW10sXG4gIGNvbXBvc2VkTWF0cml4OiBnbG0uUmVhZG9ubHlNYXQ0LFxuICB2aWV3cG9ydDogZ2xtLlJlYWRvbmx5VmVjNFxuKTogZ2xtLnZlYzNbXSA9PiB7XG4gIGNvbnN0IGlucHV0VmVjNCA9IGdsbS52ZWM0LmNyZWF0ZSgpO1xuXG4gIGNvbnN0IG11bHRpcGxpZWRWZWM0ID0gZ2xtLnZlYzQuY3JlYXRlKCk7XG5cbiAgY29uc3QgcmVzdWx0czogZ2xtLnZlYzNbXSA9IFtdO1xuXG4gIGFsbFNjZW5lUG9zLmZvckVhY2goKHNjZW5lUG9zKSA9PiB7XG4gICAgaW5wdXRWZWM0WzBdID0gc2NlbmVQb3NbMF07XG4gICAgaW5wdXRWZWM0WzFdID0gc2NlbmVQb3NbMV07XG4gICAgaW5wdXRWZWM0WzJdID0gc2NlbmVQb3NbMl07XG4gICAgaW5wdXRWZWM0WzNdID0gMTtcblxuICAgIGdsbS52ZWM0LnRyYW5zZm9ybU1hdDQobXVsdGlwbGllZFZlYzQsIGlucHV0VmVjNCwgY29tcG9zZWRNYXRyaXgpO1xuXG4gICAgLy9UaGUgcmVzdWx0IG5vcm1hbGl6ZXMgYmV0d2VlbiAtMSBhbmQgMVxuICAgIGlmIChtdWx0aXBsaWVkVmVjNFszXSA9PT0gMCkge1xuICAgICAgLy9UaGUgdyB2YWx1ZVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbXVsdGlwbGllZFZlYzRbM10gPSAxIC8gbXVsdGlwbGllZFZlYzRbM107XG4gICAgLy8gUGVyc3BlY3RpdmUgZGl2aXNpb25cbiAgICBtdWx0aXBsaWVkVmVjNFswXSAqPSBtdWx0aXBsaWVkVmVjNFszXTtcbiAgICBtdWx0aXBsaWVkVmVjNFsxXSAqPSBtdWx0aXBsaWVkVmVjNFszXTtcbiAgICBtdWx0aXBsaWVkVmVjNFsyXSAqPSBtdWx0aXBsaWVkVmVjNFszXTtcblxuICAgIC8vIFdpbmRvdyBjb29yZGluYXRlc1xuICAgIC8vIE1hcCB4LCB5IHRvIHJhbmdlIDAtMVxuICAgIChtdWx0aXBsaWVkVmVjNFswXSA9IChtdWx0aXBsaWVkVmVjNFswXSAqIDAuNSArIDAuNSkgKiB2aWV3cG9ydFsyXSArIHZpZXdwb3J0WzBdKSxcbiAgICAgIChtdWx0aXBsaWVkVmVjNFsxXSA9IChtdWx0aXBsaWVkVmVjNFsxXSAqIDAuNSArIDAuNSkgKiB2aWV3cG9ydFszXSArIHZpZXdwb3J0WzFdKTtcblxuICAgIHJlc3VsdHMucHVzaChnbG0udmVjMy5jb3B5KGdsbS52ZWMzLmNyZWF0ZSgpLCBtdWx0aXBsaWVkVmVjNCBhcyBnbG0udmVjMykpO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0cztcbn07XG4iLAogICIvLyBodHRwczovL3d3dy5vcGVuZ2wub3JnL3dpa2kvR2x1UHJvamVjdF9hbmRfZ2x1VW5Qcm9qZWN0X2NvZGVcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbmV4cG9ydCBjb25zdCBzY3JlZW5Ub1NjZW5lQ29vcmRpbmF0ZXMgPSAoXG4gIGFsbFNjcmVlblBvczogZ2xtLlJlYWRvbmx5VmVjM1tdLFxuICBtb2RlbFZpZXc6IGdsbS5SZWFkb25seU1hdDQsXG4gIHByb2plY3Rpb246IGdsbS5SZWFkb25seU1hdDQsXG4gIHZpZXdwb3J0OiBnbG0uUmVhZG9ubHlWZWM0XG4pOiBnbG0udmVjM1tdID0+IHtcbiAgY29uc3QgY29tcG9zZWRNYXRyaXg6IGdsbS5SZWFkb25seU1hdDQgPSBnbG0ubWF0NC5tdWx0aXBseShnbG0ubWF0NC5jcmVhdGUoKSwgcHJvamVjdGlvbiwgbW9kZWxWaWV3KTtcbiAgcmV0dXJuIHNjcmVlblRvU2NlbmVDb29yZGluYXRlc0Zyb21Db21wb3NlZChhbGxTY3JlZW5Qb3MsIGNvbXBvc2VkTWF0cml4LCB2aWV3cG9ydCk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2NyZWVuVG9TY2VuZUNvb3JkaW5hdGVzRnJvbUNvbXBvc2VkID0gKFxuICBhbGxTY3JlZW5Qb3M6IGdsbS5SZWFkb25seVZlYzNbXSxcbiAgY29tcG9zZWRNYXRyaXg6IGdsbS5SZWFkb25seU1hdDQsXG4gIHZpZXdwb3J0OiBnbG0uUmVhZG9ubHlWZWM0XG4pOiBnbG0udmVjM1tdID0+IHtcbiAgY29uc3QgaW52ZXJ0ZWRDb21wb3NlZE1hdHJpeDogZ2xtLlJlYWRvbmx5TWF0NCA9IGdsbS5tYXQ0LmludmVydChnbG0ubWF0NC5jcmVhdGUoKSwgY29tcG9zZWRNYXRyaXgpO1xuXG4gIHJldHVybiBzY3JlZW5Ub1NjZW5lQ29vcmRpbmF0ZXNGcm9tSW52Q29tcG9zZWQoYWxsU2NyZWVuUG9zLCBpbnZlcnRlZENvbXBvc2VkTWF0cml4LCB2aWV3cG9ydCk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2NyZWVuVG9TY2VuZUNvb3JkaW5hdGVzRnJvbUludkNvbXBvc2VkID0gKFxuICBhbGxTY3JlZW5Qb3M6IGdsbS5SZWFkb25seVZlYzNbXSxcbiAgaW52ZXJ0ZWRDb21wb3NlZE1hdHJpeDogZ2xtLlJlYWRvbmx5TWF0NCxcbiAgdmlld3BvcnQ6IGdsbS5SZWFkb25seVZlYzRcbik6IGdsbS52ZWMzW10gPT4ge1xuICBjb25zdCByZXN1bHRzOiBnbG0udmVjM1tdID0gW107XG5cbiAgY29uc3QgbXVsdGlwbGllZFZlYzQgPSBnbG0udmVjNC5jcmVhdGUoKTtcblxuICBhbGxTY3JlZW5Qb3MuZm9yRWFjaCgoc2NyZWVuUG9zKSA9PiB7XG4gICAgbXVsdGlwbGllZFZlYzRbMF0gPSAoKHNjcmVlblBvc1swXSAtIHZpZXdwb3J0WzBdKSAvIHZpZXdwb3J0WzJdKSAqIDIuMCAtIDEuMDtcbiAgICBtdWx0aXBsaWVkVmVjNFsxXSA9ICgoc2NyZWVuUG9zWzFdIC0gdmlld3BvcnRbMV0pIC8gdmlld3BvcnRbM10pICogMi4wIC0gMS4wO1xuICAgIG11bHRpcGxpZWRWZWM0WzJdID0gMi4wICogc2NyZWVuUG9zWzJdIC0gMS4wO1xuICAgIG11bHRpcGxpZWRWZWM0WzNdID0gMS4wO1xuXG4gICAgZ2xtLnZlYzQudHJhbnNmb3JtTWF0NChtdWx0aXBsaWVkVmVjNCwgbXVsdGlwbGllZFZlYzQsIGludmVydGVkQ29tcG9zZWRNYXRyaXgpO1xuXG4gICAgLy9UaGUgcmVzdWx0IG5vcm1hbGl6ZXMgYmV0d2VlbiAtMSBhbmQgMVxuICAgIGlmIChtdWx0aXBsaWVkVmVjNFszXSA9PT0gMCkge1xuICAgICAgLy8gVGhlIHcgdmFsdWVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtdWx0aXBsaWVkVmVjNFszXSA9IDEgLyBtdWx0aXBsaWVkVmVjNFszXTtcbiAgICAvLyBQZXJzcGVjdGl2ZSBkaXZpc2lvblxuICAgIG11bHRpcGxpZWRWZWM0WzBdICo9IG11bHRpcGxpZWRWZWM0WzNdO1xuICAgIG11bHRpcGxpZWRWZWM0WzFdICo9IG11bHRpcGxpZWRWZWM0WzNdO1xuICAgIG11bHRpcGxpZWRWZWM0WzJdICo9IG11bHRpcGxpZWRWZWM0WzNdO1xuXG4gICAgcmVzdWx0cy5wdXNoKGdsbS52ZWMzLmNvcHkoZ2xtLnZlYzMuY3JlYXRlKCksIG11bHRpcGxpZWRWZWM0IGFzIGdsbS52ZWMzKSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHRzO1xufTtcbiIsCiAgImV4cG9ydCBjbGFzcyBXZWJHTENvbnRleHQge1xuICBwcml2YXRlIHN0YXRpYyBfZ2w6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBzdGF0aWMgX2V4dGVuc2lvbkxvc2VDb250ZXh0OiBXRUJHTF9sb3NlX2NvbnRleHQgfCBudWxsID0gbnVsbDtcblxuICBzdGF0aWMgaW5pdGlhbGl6ZShjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgY29uc3QgcmVuZGVyaW5nQ29udGV4dEF0dHJpYnM6IFdlYkdMQ29udGV4dEF0dHJpYnV0ZXMgPSB7XG4gICAgICAvLyBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBjYW52YXMgY29udGFpbnMgYW4gYWxwaGEgYnVmZmVyLlxuICAgICAgYWxwaGE6IGZhbHNlLFxuXG4gICAgICAvLyBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRvIHBlcmZvcm0gYW50aS1hbGlhc2luZy5cbiAgICAgIGFudGlhbGlhczogZmFsc2UsXG5cbiAgICAgIC8vIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgdGhhdCB0aGUgZHJhd2luZyBidWZmZXIgaGFzIGEgZGVwdGhcbiAgICAgIC8vIGJ1ZmZlciBvZiBhdCBsZWFzdCAxNiBiaXRzLlxuICAgICAgZGVwdGg6IHRydWUsXG5cbiAgICAgIC8vIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgYSBjb250ZXh0IHdpbGwgYmUgY3JlYXRlZCBpZiB0aGVcbiAgICAgIC8vIHN5c3RlbSBwZXJmb3JtYW5jZSBpcyBsb3cuXG4gICAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBmYWxzZSxcblxuICAgICAgLy8gQSBoaW50IHRvIHRoZSB1c2VyIGFnZW50IGluZGljYXRpbmcgd2hhdCBjb25maWd1cmF0aW9uIG9mIEdQVSBpc1xuICAgICAgLy8gc3VpdGFibGUgZm9yIHRoZSBXZWJHTCBjb250ZXh0LiBQb3NzaWJsZSB2YWx1ZXMgYXJlOlxuICAgICAgLy8gXCJkZWZhdWx0XCI6XG4gICAgICAvLyAgICAgTGV0IHRoZSB1c2VyIGFnZW50IGRlY2lkZSB3aGljaCBHUFUgY29uZmlndXJhdGlvbiBpcyBtb3N0XG4gICAgICAvLyAgICAgc3VpdGFibGUuIFRoaXMgaXMgdGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICAvLyBcImhpZ2gtcGVyZm9ybWFuY2VcIjpcbiAgICAgIC8vICAgICBQcmlvcml0aXplcyByZW5kZXJpbmcgcGVyZm9ybWFuY2Ugb3ZlciBwb3dlciBjb25zdW1wdGlvbi5cbiAgICAgIC8vIFwibG93LXBvd2VyXCI6XG4gICAgICAvLyAgICAgUHJpb3JpdGl6ZXMgcG93ZXIgc2F2aW5nIG92ZXIgcmVuZGVyaW5nIHBlcmZvcm1hbmNlLlxuICAgICAgcG93ZXJQcmVmZXJlbmNlOiAnaGlnaC1wZXJmb3JtYW5jZScsXG5cbiAgICAgIC8vIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgdGhhdCB0aGUgcGFnZSBjb21wb3NpdG9yIHdpbGwgYXNzdW1lIHRoZVxuICAgICAgLy8gZHJhd2luZyBidWZmZXIgY29udGFpbnMgY29sb3JzIHdpdGggcHJlLW11bHRpcGxpZWQgYWxwaGEuXG4gICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IHRydWUsIC8vIHNsb3dlciBmcmFtZXJhdGUgd2hlbiBmYWxzZVxuXG4gICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgdHJ1ZSB0aGUgYnVmZmVycyB3aWxsIG5vdCBiZSBjbGVhcmVkIGFuZCB3aWxsXG4gICAgICAvLyBwcmVzZXJ2ZSB0aGVpciB2YWx1ZXMgdW50aWwgY2xlYXJlZCBvciBvdmVyd3JpdHRlbiBieSB0aGUgYXV0aG9yLlxuICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB0cnVlLFxuXG4gICAgICAvLyBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIHRoYXQgdGhlIGRyYXdpbmcgYnVmZmVyIGhhcyBhXG4gICAgICAvLyBzdGVuY2lsIGJ1ZmZlciBvZiBhdCBsZWFzdCA4IGJpdHMuXG4gICAgICBzdGVuY2lsOiBmYWxzZVxuICAgIH07XG5cbiAgICBXZWJHTENvbnRleHQuX2dsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIHJlbmRlcmluZ0NvbnRleHRBdHRyaWJzKTtcblxuICAgIGlmICghV2ViR0xDb250ZXh0Ll9nbCkgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgY3JlYXRlIHdlYmdsIGNvbnRleHQnKTtcblxuICAgIFdlYkdMQ29udGV4dC5fZXh0ZW5zaW9uTG9zZUNvbnRleHQgPSBXZWJHTENvbnRleHQuX2dsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG5cbiAgICBXZWJHTENvbnRleHQuX2dsLmdldEV4dGVuc2lvbignRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCcpO1xuICAgIFdlYkdMQ29udGV4dC5fZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfZmxvYXRfYmxlbmQnKTtcbiAgfVxuXG4gIC8vXG4gIC8vXG4gIC8vXG5cbiAgc3RhdGljIGdldENvbnRleHQoKSB7XG4gICAgaWYgKCFXZWJHTENvbnRleHQuX2dsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3dlYmdsIGNvbnRleHQgbm90IGluaXRpYWxpemVkJyk7XG4gICAgfVxuICAgIHJldHVybiBXZWJHTENvbnRleHQuX2dsO1xuICB9XG5cbiAgLy9cbiAgLy9cbiAgLy9cblxuICBzdGF0aWMgZ2V0RXh0ZW5zaW9uTG9zZUNvbnRleHQoKSB7XG4gICAgcmV0dXJuIFdlYkdMQ29udGV4dC5fZXh0ZW5zaW9uTG9zZUNvbnRleHQ7XG4gIH1cblxuICBzdGF0aWMgZ2V0RXh0ZW5zaW9uTG9zZUNvbnRleHRTdHJpY3QoKSB7XG4gICAgaWYgKCFXZWJHTENvbnRleHQuX2V4dGVuc2lvbkxvc2VDb250ZXh0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2xvc2UgY29udGV4dCBleHRlbnNpb24gbm90IGF2YWlsYWJsZScpO1xuICAgIH1cblxuICAgIHJldHVybiBXZWJHTENvbnRleHQuX2V4dGVuc2lvbkxvc2VDb250ZXh0O1xuICB9XG59XG4iLAogICJpbXBvcnQgeyBXZWJHTENvbnRleHQgfSBmcm9tICcuL1dlYkdMQ29udGV4dCc7XG5cbmV4cG9ydCBlbnVtIEN1YmVNYXBUeXBlIHtcbiAgcG9zaXRpdmVYLFxuICBuZWdhdGl2ZVgsXG4gIHBvc2l0aXZlWSxcbiAgbmVnYXRpdmVZLFxuICBwb3NpdGl2ZVosXG4gIG5lZ2F0aXZlWlxufVxuXG5leHBvcnQgY29uc3QgZ2V0Q3ViZU1hcFR5cGUgPSAoaW5UeXBlOiBDdWJlTWFwVHlwZSk6IG51bWJlciA9PiB7XG4gIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcbiAgc3dpdGNoIChpblR5cGUpIHtcbiAgICBjYXNlIEN1YmVNYXBUeXBlLnBvc2l0aXZlWDpcbiAgICAgIHJldHVybiBnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1g7XG4gICAgY2FzZSBDdWJlTWFwVHlwZS5uZWdhdGl2ZVg6XG4gICAgICByZXR1cm4gZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YO1xuICAgIGNhc2UgQ3ViZU1hcFR5cGUucG9zaXRpdmVZOlxuICAgICAgcmV0dXJuIGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWTtcbiAgICBjYXNlIEN1YmVNYXBUeXBlLm5lZ2F0aXZlWTpcbiAgICAgIHJldHVybiBnbC5URVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1k7XG4gICAgY2FzZSBDdWJlTWFwVHlwZS5wb3NpdGl2ZVo6XG4gICAgICByZXR1cm4gZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aO1xuICAgIGNhc2UgQ3ViZU1hcFR5cGUubmVnYXRpdmVaOlxuICAgICAgcmV0dXJuIGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWjtcbiAgfVxuICAvLyB0aHJvdyBuZXcgRXJyb3IoJ2N1YmUgbWFwOiBpbnZhbGlkIHR5cGUnKTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVuYm91bmRDdWJlTWFwIHtcbiAgaW5pdGlhbGl6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQ7XG4gIHJhd0JpbmQoKTogdm9pZDtcbiAgYmluZChpbkNhbGxiYWNrOiAoYm91bmQ6IElCb3VuZEN1YmVNYXApID0+IHZvaWQpOiB2b2lkO1xuICBnZXRSYXdPYmplY3QoKTogV2ViR0xUZXh0dXJlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElCb3VuZEN1YmVNYXAge1xuICBhbGxvY2F0ZSgpOiB2b2lkO1xuICBsb2FkRnJvbU1lbW9yeShpblR5cGU6IEN1YmVNYXBUeXBlLCBpblBpeGVsczogVWludDhBcnJheSk6IHZvaWQ7XG4gIGNvbXBsZXRlKCk6IHZvaWQ7XG4gIGdldFJhd09iamVjdCgpOiBXZWJHTFRleHR1cmU7XG59XG5cbmV4cG9ydCBjbGFzcyBDdWJlTWFwIGltcGxlbWVudHMgSVVuYm91bmRDdWJlTWFwLCBJQm91bmRDdWJlTWFwIHtcbiAgcHJpdmF0ZSBfd2lkdGg6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX2hlaWdodDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfbWluQnVmZmVyU2l6ZTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfdGV4dHVyZTogV2ViR0xUZXh0dXJlIHwgbnVsbCA9IG51bGw7XG5cbiAgaW5pdGlhbGl6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh3aWR0aCA8IDEpIHRocm93IG5ldyBFcnJvcihgY3ViZSBtYXA6IHdpZHRoIGlzIDwgMSwgaW5wdXQ6ICR7d2lkdGh9YCk7XG4gICAgaWYgKGhlaWdodCA8IDEpIHRocm93IG5ldyBFcnJvcihgY3ViZSBtYXA6IGhlaWdodCBpcyA8IDEsIGlucHV0OiAke2hlaWdodH1gKTtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG4gICAgdGhpcy5fdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLl9taW5CdWZmZXJTaXplID0gdGhpcy5fd2lkdGggKiB0aGlzLl9oZWlnaHQgKiA0O1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG4gICAgZ2wuZGVsZXRlVGV4dHVyZSh0aGlzLl90ZXh0dXJlKTtcbiAgfVxuXG4gIHJhd0JpbmQoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl90ZXh0dXJlKSB0aHJvdyBuZXcgRXJyb3IoJ2N1YmUgbWFwOiBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCwgdGhpcy5fdGV4dHVyZSk7XG4gIH1cblxuICBiaW5kKGluQ2FsbGJhY2s6IChib3VuZDogSUJvdW5kQ3ViZU1hcCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMucmF3QmluZCgpO1xuXG4gICAgaW5DYWxsYmFjayh0aGlzKTtcblxuICAgIEN1YmVNYXAudW5iaW5kKCk7XG4gIH1cblxuICBzdGF0aWMgdW5iaW5kKCk6IHZvaWQge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIG51bGwpO1xuICB9XG5cbiAgbG9hZEZyb21NZW1vcnkoaW5UeXBlOiBDdWJlTWFwVHlwZSwgaW5QaXhlbHM6IFVpbnQ4QXJyYXkpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX3RleHR1cmUpIHRocm93IG5ldyBFcnJvcignY3ViZSBtYXA6IG5vdCBpbml0aWFsaXplZCcpO1xuICAgIGlmIChpblBpeGVscy5sZW5ndGggPCB0aGlzLl9taW5CdWZmZXJTaXplKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBjdWJlIG1hcDogbWlzcy1tYXRjaGluZyBwaXhlbHMgYnVmZmVyIHNpemUsIGlucHV0OiAke2luUGl4ZWxzLmxlbmd0aH1gKTtcblxuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIGNvbnN0IGxldmVsID0gMDtcbiAgICBjb25zdCBpbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgY29uc3QgYm9yZGVyID0gMDtcbiAgICBjb25zdCBzcmNGb3JtYXQgPSBnbC5SR0JBO1xuICAgIGNvbnN0IHNyY1R5cGUgPSBnbC5VTlNJR05FRF9CWVRFO1xuXG4gICAgZ2wudGV4SW1hZ2UyRChcbiAgICAgIGdldEN1YmVNYXBUeXBlKGluVHlwZSksXG4gICAgICBsZXZlbCxcbiAgICAgIGludGVybmFsRm9ybWF0LFxuICAgICAgdGhpcy5fd2lkdGgsXG4gICAgICB0aGlzLl9oZWlnaHQsXG4gICAgICBib3JkZXIsXG4gICAgICBzcmNGb3JtYXQsXG4gICAgICBzcmNUeXBlLFxuICAgICAgaW5QaXhlbHNcbiAgICApO1xuICB9XG5cbiAgYWxsb2NhdGUoKTogdm9pZCB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgY29uc3QgbGV2ZWwgPSAwO1xuICAgIGNvbnN0IGludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTtcbiAgICBjb25zdCBib3JkZXIgPSAwO1xuICAgIGNvbnN0IHNyY0Zvcm1hdCA9IGdsLlJHQkE7XG4gICAgY29uc3Qgc3JjVHlwZSA9IGdsLlVOU0lHTkVEX0JZVEU7XG5cbiAgICBjb25zdCBwaXhlbHMgPSBuZXcgVWludDhBcnJheSh0aGlzLl93aWR0aCAqIHRoaXMuX2hlaWdodCAqIDQpO1xuXG4gICAgW1xuICAgICAgQ3ViZU1hcFR5cGUubmVnYXRpdmVYLFxuICAgICAgQ3ViZU1hcFR5cGUubmVnYXRpdmVZLFxuICAgICAgQ3ViZU1hcFR5cGUubmVnYXRpdmVaLFxuICAgICAgQ3ViZU1hcFR5cGUucG9zaXRpdmVYLFxuICAgICAgQ3ViZU1hcFR5cGUucG9zaXRpdmVZLFxuICAgICAgQ3ViZU1hcFR5cGUucG9zaXRpdmVaXG4gICAgXS5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgICBnbC50ZXhJbWFnZTJEKFxuICAgICAgICBnZXRDdWJlTWFwVHlwZSh0eXBlKSxcbiAgICAgICAgbGV2ZWwsXG4gICAgICAgIGludGVybmFsRm9ybWF0LFxuICAgICAgICB0aGlzLl93aWR0aCxcbiAgICAgICAgdGhpcy5faGVpZ2h0LFxuICAgICAgICBib3JkZXIsXG4gICAgICAgIHNyY0Zvcm1hdCxcbiAgICAgICAgc3JjVHlwZSxcbiAgICAgICAgcGl4ZWxzXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgY29tcGxldGUoKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV9DVUJFX01BUCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUl9NSVBNQVBfTElORUFSKTtcbiAgfVxuXG4gIGdldFdpZHRoKCk6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLl90ZXh0dXJlKSB0aHJvdyBuZXcgRXJyb3IoJ2N1YmUgbWFwOiBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgfVxuXG4gIGdldEhlaWdodCgpOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5fdGV4dHVyZSkgdGhyb3cgbmV3IEVycm9yKCdjdWJlIG1hcDogbm90IGluaXRpYWxpemVkJyk7XG5cbiAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICB9XG5cbiAgZ2V0UmF3T2JqZWN0KCkge1xuICAgIGlmICghdGhpcy5fdGV4dHVyZSkgdGhyb3cgbmV3IEVycm9yKCd0ZXh0dXJlIG5vdCBpbml0aWFsaXplZCcpO1xuXG4gICAgLy8gVE9ETzogdGhpcyBpcyB1Z2x5XG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gIH1cbn1cbiIsCiAgImltcG9ydCB7IFdlYkdMQ29udGV4dCB9IGZyb20gJy4vV2ViR0xDb250ZXh0JztcblxuZXhwb3J0IGludGVyZmFjZSBJVW5ib3VuZERhdGFUZXh0dXJlIHtcbiAgaW5pdGlhbGl6ZShkYXRhOiBudW1iZXJbXSB8IG51bWJlcik6IHZvaWQ7XG4gIHJhd0JpbmQoKTogdm9pZDtcbiAgcHJlQmluZChpbkNhbGxiYWNrOiAoYm91bmQ6IElCb3VuZERhdGFUZXh0dXJlKSA9PiB2b2lkKTogdm9pZDtcbiAgYmluZChpbkNhbGxiYWNrOiAoYm91bmQ6IElCb3VuZERhdGFUZXh0dXJlKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQm91bmREYXRhVGV4dHVyZSBleHRlbmRzIElVbmJvdW5kRGF0YVRleHR1cmUge1xuICBhbGxvY2F0ZShkYXRhOiBudW1iZXJbXSB8IG51bWJlcik6IHZvaWQ7XG4gIHVwZGF0ZShzdGFydDogbnVtYmVyLCBkYXRhOiBudW1iZXJbXSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhVGV4dHVyZSBpbXBsZW1lbnRzIElCb3VuZERhdGFUZXh0dXJlIHtcbiAgcHJpdmF0ZSBfdGV4dHVyZTogV2ViR0xUZXh0dXJlIHwgbnVsbCA9IG51bGw7XG5cbiAgcHJpdmF0ZSBfYnVmZmVyOiBGbG9hdDMyQXJyYXkgfCB1bmRlZmluZWQ7XG5cbiAgLy8gaW5pdGlhbGl6ZShkYXRhOiBudW1iZXJbXSA9IFtdLCBudW1Db21wb25lbnRzOiBudW1iZXIgPSAxKSB7XG4gIGluaXRpYWxpemUoZGF0YTogbnVtYmVyW10gfCBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5fdGV4dHVyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdkYXRhIHRleHR1cmUgYWxyZWFkeSBpbml0aWFsaXplZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIHRoaXMuX3RleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgaWYgKCF0aGlzLl90ZXh0dXJlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGEgdGV4dHVyZSBmYWlsZWQgdG8gYmUgY3JlYXRlZCcpO1xuICAgIH1cblxuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xuXG4gICAgLy8gd2UgZG9uJ3Qgd2FudCBhbnkgZmlsdGVyaW5nXG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcblxuICAgIC8vIHRoaXMudXBkYXRlKGRhdGEsIG51bUNvbXBvbmVudHMpO1xuICAgIHRoaXMuYWxsb2NhdGUoZGF0YSk7XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcbiAgICBnbC5kZWxldGVUZXh0dXJlKHRoaXMuX3RleHR1cmUpO1xuICB9XG5cbiAgLy8gdXBkYXRlKGRhdGE6IG51bWJlcltdLCBudW1Db21wb25lbnRzOiBudW1iZXIgPSAxKSB7XG4gIGFsbG9jYXRlKGRhdGE6IG51bWJlcltdIHwgbnVtYmVyKSB7XG4gICAgaWYgKCF0aGlzLl90ZXh0dXJlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGEgdGV4dHVyZSBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICB9XG4gICAgY29uc3QgZGF0YVNpemUgPSBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YS5sZW5ndGggOiBkYXRhO1xuICAgIGlmIChkYXRhU2l6ZSA8PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RleHR1cmU6IHdpZHRoIG11c3QgYmUgcG9zaXRpdmUnKTtcbiAgICB9XG4gICAgaWYgKGRhdGFTaXplID4gMjA0OCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBkYXRhIHRleHR1cmUgbWF4IHNpemUgaXMgMjA0OCAoaW5wdXQgd2FzICR7ZGF0YVNpemV9KWApO1xuICAgIH1cblxuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xuXG4gICAgLy8gZG9uZSBmb3IgdHlwZSBzYWZldHkgY29tcGxpYW5jZSByZWFzb25zXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIC8vIC0+IG5ldyBGbG9hdDMyQXJyYXkobnVtYmVyW10pXG4gICAgICB0aGlzLl9idWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAtPiBuZXcgRmxvYXQzMkFycmF5KG51bWJlcilcbiAgICAgIHRoaXMuX2J1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YSk7XG4gICAgfVxuXG4gICAgLy8gLy8gZXhwYW5kIHRoZSBkYXRhIHRvIDQgdmFsdWVzIHBlciBwaXhlbC5cbiAgICAvLyBjb25zdCBudW1FbGVtZW50cyA9IGRhdGEubGVuZ3RoIC8gbnVtQ29tcG9uZW50cztcbiAgICAvLyBjb25zdCBleHBhbmRlZERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KG51bUVsZW1lbnRzICogNCk7XG4gICAgLy8gZm9yIChsZXQgaWkgPSAwOyBpaSA8IG51bUVsZW1lbnRzOyArK2lpKSB7XG4gICAgLy8gICBjb25zdCBzcmNPZmZzZXQgPSBpaSAqIG51bUNvbXBvbmVudHM7XG4gICAgLy8gICBjb25zdCBkc3RPZmZzZXQgPSBpaSAqIDQ7XG4gICAgLy8gICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgbnVtQ29tcG9uZW50czsgKytqailcbiAgICAvLyAgICAgZXhwYW5kZWREYXRhW2RzdE9mZnNldCArIGpqXSA9IGRhdGFbc3JjT2Zmc2V0ICsgampdO1xuICAgIC8vIH1cblxuICAgIGNvbnN0IGxldmVsID0gMDtcbiAgICBjb25zdCBpbnRlcm5hbEZvcm1hdCA9IGdsLlIzMkY7XG4gICAgY29uc3Qgd2lkdGggPSBkYXRhU2l6ZTtcbiAgICBjb25zdCBoZWlnaHQgPSAxO1xuICAgIGNvbnN0IGJvcmRlciA9IDA7XG4gICAgY29uc3QgZm9ybWF0ID0gZ2wuUkVEO1xuICAgIGNvbnN0IHR5cGUgPSBnbC5GTE9BVDtcbiAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIGxldmVsLCBpbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgYm9yZGVyLCBmb3JtYXQsIHR5cGUsIHRoaXMuX2J1ZmZlcik7XG4gIH1cblxuICB1cGRhdGUoc3RhcnQ6IG51bWJlciwgZGF0YTogbnVtYmVyW10pIHtcbiAgICBpZiAoIXRoaXMuX3RleHR1cmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZGF0YSB0ZXh0dXJlIG5vdCBpbml0aWFsaXplZCcpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuX2J1ZmZlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdkYXRhIHRleHR1cmUgdXBkYXRlIGJ1dCBub3QgcHJldmlvdXNseSBhbGxvY2F0ZWQnKTtcbiAgICB9XG4gICAgaWYgKHN0YXJ0ICsgZGF0YS5sZW5ndGggPiB0aGlzLl9idWZmZXIubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBkYXRhIHRleHR1cmUgdXBkYXRlIGJ1dCBzaXplIGlzIGxhcmdlciAoc3RhcnQ6ICR7c3RhcnR9LCBsZW5ndGg6ICR7ZGF0YS5sZW5ndGh9LCBtYXg6ICR7dGhpcy5fYnVmZmVyLmxlbmd0aH0pYFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG5cbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLl90ZXh0dXJlKTtcblxuICAgIC8vIHRoaXMuX2J1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YSk7XG5cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZGF0YS5sZW5ndGg7ICsraWkpIHtcbiAgICAgIHRoaXMuX2J1ZmZlcltpaV0gPSBkYXRhW2lpXTtcbiAgICB9XG5cbiAgICBjb25zdCBsZXZlbCA9IDA7XG4gICAgLy8gY29uc3QgaW50ZXJuYWxGb3JtYXQgPSBnbC5SMzJGO1xuICAgIGNvbnN0IHdpZHRoID0gZGF0YS5sZW5ndGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gMTtcbiAgICAvLyBjb25zdCBib3JkZXIgPSAwO1xuICAgIGNvbnN0IGZvcm1hdCA9IGdsLlJFRDtcbiAgICBjb25zdCB0eXBlID0gZ2wuRkxPQVQ7XG5cbiAgICBjb25zdCB4b2Zmc2V0ID0gc3RhcnQ7XG4gICAgY29uc3QgeW9mZnNldCA9IDA7IC8vIG11c3Qgc3RheSAwXG4gICAgY29uc3Qgc3JjT2Zmc2V0ID0gMDtcblxuICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgbGV2ZWwsIHhvZmZzZXQsIHlvZmZzZXQsIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgdHlwZSwgdGhpcy5fYnVmZmVyLCBzcmNPZmZzZXQpO1xuICB9XG5cbiAgcmF3QmluZCgpIHtcbiAgICBpZiAoIXRoaXMuX3RleHR1cmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZGF0YSB0ZXh0dXJlIG5vdCBpbml0aWFsaXplZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xuICB9XG5cbiAgcHJlQmluZChpbkNhbGxiYWNrOiAoYm91bmQ6IElCb3VuZERhdGFUZXh0dXJlKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5yYXdCaW5kKCk7XG4gICAgaW5DYWxsYmFjayh0aGlzKTtcbiAgfVxuXG4gIGJpbmQoaW5DYWxsYmFjazogKGJvdW5kOiBJQm91bmREYXRhVGV4dHVyZSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMucHJlQmluZChpbkNhbGxiYWNrKTtcbiAgICBEYXRhVGV4dHVyZS51bmJpbmQoKTtcbiAgfVxuXG4gIHN0YXRpYyB1bmJpbmQoKTogdm9pZCB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XG4gIH1cbn1cbiIsCiAgImltcG9ydCB7IFdlYkdMQ29udGV4dCB9IGZyb20gJy4vV2ViR0xDb250ZXh0JztcblxuZXhwb3J0IGludGVyZmFjZSBJVW5ib3VuZERhdGFUZXh0dXJlVmVjNCB7XG4gIGluaXRpYWxpemUoZGF0YTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl1bXSk6IHZvaWQ7XG4gIHJhd0JpbmQoKTogdm9pZDtcbiAgcHJlQmluZChpbkNhbGxiYWNrOiAoYm91bmQ6IElCb3VuZERhdGFUZXh0dXJlVmVjNCkgPT4gdm9pZCk6IHZvaWQ7XG4gIGJpbmQoaW5DYWxsYmFjazogKGJvdW5kOiBJQm91bmREYXRhVGV4dHVyZVZlYzQpID0+IHZvaWQpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElCb3VuZERhdGFUZXh0dXJlVmVjNCBleHRlbmRzIElVbmJvdW5kRGF0YVRleHR1cmVWZWM0IHtcbiAgYWxsb2NhdGUoZGF0YTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl1bXSk6IHZvaWQ7XG4gIHVwZGF0ZShzdGFydDogbnVtYmVyLCBkYXRhOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXVtdKTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGFUZXh0dXJlVmVjNCBpbXBsZW1lbnRzIElCb3VuZERhdGFUZXh0dXJlVmVjNCB7XG4gIHByaXZhdGUgX3RleHR1cmU6IFdlYkdMVGV4dHVyZSB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgX2J1ZmZlcjogVWludDhBcnJheSB8IHVuZGVmaW5lZDtcblxuICAvLyBpbml0aWFsaXplKGRhdGE6IG51bWJlcltdID0gW10sIG51bUNvbXBvbmVudHM6IG51bWJlciA9IDEpIHtcbiAgaW5pdGlhbGl6ZShkYXRhOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXVtdID0gW10pIHtcbiAgICBpZiAodGhpcy5fdGV4dHVyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdkYXRhIHRleHR1cmUgYWxyZWFkeSBpbml0aWFsaXplZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIHRoaXMuX3RleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgaWYgKCF0aGlzLl90ZXh0dXJlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGEgdGV4dHVyZSBmYWlsZWQgdG8gYmUgY3JlYXRlZCcpO1xuICAgIH1cblxuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xuXG4gICAgLy8gd2UgZG9uJ3Qgd2FudCBhbnkgZmlsdGVyaW5nXG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcblxuICAgIC8vIHRoaXMudXBkYXRlKGRhdGEsIG51bUNvbXBvbmVudHMpO1xuICAgIHRoaXMuYWxsb2NhdGUoZGF0YSk7XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcbiAgICBnbC5kZWxldGVUZXh0dXJlKHRoaXMuX3RleHR1cmUpO1xuICB9XG5cbiAgLy8gdXBkYXRlKGRhdGE6IG51bWJlcltdLCBudW1Db21wb25lbnRzOiBudW1iZXIgPSAxKSB7XG4gIGFsbG9jYXRlKGRhdGE6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdW10pIHtcbiAgICBpZiAoIXRoaXMuX3RleHR1cmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZGF0YSB0ZXh0dXJlIG5vdCBpbml0aWFsaXplZCcpO1xuICAgIH1cbiAgICBpZiAoZGF0YS5sZW5ndGggPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0ZXh0dXJlOiB3aWR0aCBtdXN0IGJlIHBvc2l0aXZlJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSk7XG5cbiAgICB0aGlzLl9idWZmZXIgPSBuZXcgVWludDhBcnJheShkYXRhLmZsYXQoKSk7XG5cbiAgICAvLyAvLyBleHBhbmQgdGhlIGRhdGEgdG8gNCB2YWx1ZXMgcGVyIHBpeGVsLlxuICAgIC8vIGNvbnN0IG51bUVsZW1lbnRzID0gZGF0YS5sZW5ndGggLyBudW1Db21wb25lbnRzO1xuICAgIC8vIGNvbnN0IGV4cGFuZGVkRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkobnVtRWxlbWVudHMgKiA0KTtcbiAgICAvLyBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbnVtRWxlbWVudHM7ICsraWkpIHtcbiAgICAvLyAgIGNvbnN0IHNyY09mZnNldCA9IGlpICogbnVtQ29tcG9uZW50cztcbiAgICAvLyAgIGNvbnN0IGRzdE9mZnNldCA9IGlpICogNDtcbiAgICAvLyAgIGZvciAobGV0IGpqID0gMDsgamogPCBudW1Db21wb25lbnRzOyArK2pqKVxuICAgIC8vICAgICBleHBhbmRlZERhdGFbZHN0T2Zmc2V0ICsgampdID0gZGF0YVtzcmNPZmZzZXQgKyBqal07XG4gICAgLy8gfVxuXG4gICAgY29uc3QgbGV2ZWwgPSAwO1xuICAgIGNvbnN0IGludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTtcbiAgICBjb25zdCB3aWR0aCA9IGRhdGEubGVuZ3RoO1xuICAgIGNvbnN0IGhlaWdodCA9IDE7XG4gICAgY29uc3QgYm9yZGVyID0gMDtcbiAgICBjb25zdCBmb3JtYXQgPSBnbC5SR0JBO1xuICAgIGNvbnN0IHR5cGUgPSBnbC5VTlNJR05FRF9CWVRFO1xuICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgbGV2ZWwsIGludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCBib3JkZXIsIGZvcm1hdCwgdHlwZSwgdGhpcy5fYnVmZmVyKTtcbiAgfVxuXG4gIHVwZGF0ZShzdGFydDogbnVtYmVyLCBkYXRhOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXVtdKSB7XG4gICAgaWYgKCF0aGlzLl90ZXh0dXJlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGEgdGV4dHVyZSBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLl9idWZmZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZGF0YSB0ZXh0dXJlIHVwZGF0ZSBidXQgbm90IHByZXZpb3VzbHkgYWxsb2NhdGVkJyk7XG4gICAgfVxuICAgIGlmIChzdGFydCArIGRhdGEubGVuZ3RoID4gdGhpcy5fYnVmZmVyLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgZGF0YSB0ZXh0dXJlIHVwZGF0ZSBidXQgc2l6ZSBpcyBsYXJnZXIgKHN0YXJ0OiAke3N0YXJ0fSwgbGVuZ3RoOiAke2RhdGEubGVuZ3RofSwgbWF4OiAke3RoaXMuX2J1ZmZlci5sZW5ndGh9KWBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSk7XG5cbiAgICAvLyB0aGlzLl9idWZmZXIgPSBuZXcgVWludDhBcnJheShkYXRhLmZsYXQoKSk7XG5cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZGF0YS5sZW5ndGg7ICsraWkpIHtcbiAgICAgIHRoaXMuX2J1ZmZlcltpaSAqIDQgKyAwXSA9IGRhdGFbaWldWzBdO1xuICAgICAgdGhpcy5fYnVmZmVyW2lpICogNCArIDFdID0gZGF0YVtpaV1bMV07XG4gICAgICB0aGlzLl9idWZmZXJbaWkgKiA0ICsgMl0gPSBkYXRhW2lpXVsyXTtcbiAgICAgIHRoaXMuX2J1ZmZlcltpaSAqIDQgKyAzXSA9IGRhdGFbaWldWzNdO1xuICAgIH1cblxuICAgIGNvbnN0IGxldmVsID0gMDtcbiAgICBjb25zdCB3aWR0aCA9IGRhdGEubGVuZ3RoO1xuICAgIGNvbnN0IGhlaWdodCA9IDE7XG4gICAgY29uc3QgZm9ybWF0ID0gZ2wuUkdCQTtcbiAgICBjb25zdCB0eXBlID0gZ2wuVU5TSUdORURfQllURTtcblxuICAgIGNvbnN0IHhvZmZzZXQgPSBzdGFydDtcbiAgICBjb25zdCB5b2Zmc2V0ID0gMDsgLy8gbXVzdCBzdGF5IDBcbiAgICBjb25zdCBzcmNPZmZzZXQgPSAwO1xuXG4gICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCBsZXZlbCwgeG9mZnNldCwgeW9mZnNldCwgd2lkdGgsIGhlaWdodCwgZm9ybWF0LCB0eXBlLCB0aGlzLl9idWZmZXIsIHNyY09mZnNldCk7XG4gIH1cblxuICByYXdCaW5kKCkge1xuICAgIGlmICghdGhpcy5fdGV4dHVyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdkYXRhIHRleHR1cmUgbm90IGluaXRpYWxpemVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSk7XG4gIH1cblxuICBwcmVCaW5kKGluQ2FsbGJhY2s6IChib3VuZDogSUJvdW5kRGF0YVRleHR1cmVWZWM0KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5yYXdCaW5kKCk7XG4gICAgaW5DYWxsYmFjayh0aGlzKTtcbiAgfVxuXG4gIGJpbmQoaW5DYWxsYmFjazogKGJvdW5kOiBJQm91bmREYXRhVGV4dHVyZVZlYzQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnByZUJpbmQoaW5DYWxsYmFjayk7XG4gICAgRGF0YVRleHR1cmVWZWM0LnVuYmluZCgpO1xuICB9XG5cbiAgc3RhdGljIHVuYmluZCgpOiB2b2lkIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG5cbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcbiAgfVxufVxuIiwKICAiaW1wb3J0IHsgV2ViR0xDb250ZXh0IH0gZnJvbSAnLi9XZWJHTENvbnRleHQnO1xuXG5leHBvcnQgY29uc3QgY2hlY2tFcnJvciA9ICgpID0+IHtcbiAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuICBjb25zdCBlcnJvcklkID0gZ2wuZ2V0RXJyb3IoKTtcblxuICBzd2l0Y2ggKGVycm9ySWQpIHtcbiAgICAvLyBHTF9OT19FUlJPUlxuICAgIC8vICAgTm8gZXJyb3IgaGFzIGJlZW4gcmVjb3JkZWQuIFRoZSB2YWx1ZSBvZiB0aGlzIHN5bWJvbGljIGNvbnN0YW50IGlzIGd1YXJhbnRlZWQgdG8gYmUgMC5cbiAgICBjYXNlIGdsLklOVkFMSURfRU5VTTpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2dsLklOVkFMSURfRU5VTVxcbkFuIHVuYWNjZXB0YWJsZSB2YWx1ZSBpcyBzcGVjaWZpZWQgZm9yIGFuIGVudW1lcmF0ZWQgYXJndW1lbnQuIFRoZSBvZmZlbmRpbmcgY29tbWFuZCBpcyBpZ25vcmVkIGFuZCBoYXMgbm8gb3RoZXIgc2lkZSBlZmZlY3QgdGhhbiB0byBzZXQgdGhlIGVycm9yIGZsYWcuJ1xuICAgICAgKTtcbiAgICBjYXNlIGdsLklOVkFMSURfVkFMVUU6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdnbC5JTlZBTElEX1ZBTFVFXFxuQSBudW1lcmljIGFyZ3VtZW50IGlzIG91dCBvZiByYW5nZS4gVGhlIG9mZmVuZGluZyBjb21tYW5kIGlzIGlnbm9yZWQgYW5kIGhhcyBubyBvdGhlciBzaWRlIGVmZmVjdCB0aGFuIHRvIHNldCB0aGUgZXJyb3IgZmxhZy4nXG4gICAgICApO1xuICAgIGNhc2UgZ2wuSU5WQUxJRF9PUEVSQVRJT046XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdnbC5JTlZBTElEX09QRVJBVElPTlxcblRoZSBzcGVjaWZpZWQgb3BlcmF0aW9uIGlzIG5vdCBhbGxvd2VkIGluIHRoZSBjdXJyZW50IHN0YXRlLiBUaGUgb2ZmZW5kaW5nIGNvbW1hbmQgaXMgaWdub3JlZCBhbmQgaGFzIG5vIG90aGVyIHNpZGUgZWZmZWN0IHRoYW4gdG8gc2V0IHRoZSBlcnJvciBmbGFnLidcbiAgICAgICk7XG4gICAgY2FzZSBnbC5JTlZBTElEX0ZSQU1FQlVGRkVSX09QRVJBVElPTjpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2dsLklOVkFMSURfRlJBTUVCVUZGRVJfT1BFUkFUSU9OXFxuVGhlIGZyYW1lYnVmZmVyIG9iamVjdCBpcyBub3QgY29tcGxldGUuIFRoZSBvZmZlbmRpbmcgY29tbWFuZCBpcyBpZ25vcmVkIGFuZCBoYXMgbm8gb3RoZXIgc2lkZSBlZmZlY3QgdGhhbiB0byBzZXQgdGhlIGVycm9yIGZsYWcuJ1xuICAgICAgKTtcbiAgICBjYXNlIGdsLk9VVF9PRl9NRU1PUlk6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdnbC5PVVRfT0ZfTUVNT1JZXFxuVGhlcmUgaXMgbm90IGVub3VnaCBtZW1vcnkgbGVmdCB0byBleGVjdXRlIHRoZSBjb21tYW5kLiBUaGUgc3RhdGUgb2YgdGhlIEdMIGlzIHVuZGVmaW5lZCwgZXhjZXB0IGZvciB0aGUgc3RhdGUgb2YgdGhlIGVycm9yIGZsYWdzLCBhZnRlciB0aGlzIGVycm9yIGlzIHJlY29yZGVkLidcbiAgICAgICk7XG4gICAgY2FzZSBnbC5DT05URVhUX0xPU1RfV0VCR0w6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdnbC5DT05URVhUX0xPU1RfV0VCR0xcXG4gSWYgdGhlIFdlYkdMIGNvbnRleHQgaXMgbG9zdCwgdGhpcyBlcnJvciBpcyByZXR1cm5lZCBvbiB0aGUgZmlyc3QgY2FsbCB0byBnZXRFcnJvci4gQWZ0ZXJ3YXJkcyBhbmQgdW50aWwgdGhlIGNvbnRleHQgaGFzIGJlZW4gcmVzdG9yZWQsIGl0IHJldHVybnMgZ2wuTk9fRVJST1IuJ1xuICAgICAgKTtcbiAgICAvLyBjYXNlIGdsLlNUQUNLX1VOREVSRkxPVzpcbiAgICAvLyAgIHRocm93IG5ldyBFcnJvcihcIkFuIGF0dGVtcHQgaGFzIGJlZW4gbWFkZSB0byBwZXJmb3JtIGFuIG9wZXJhdGlvbiB0aGF0IHdvdWxkIGNhdXNlIGFuIGludGVybmFsIHN0YWNrIHRvIHVuZGVyZmxvdy5cIilcbiAgICAvLyBjYXNlIGdsLlNUQUNLX09WRVJGTE9XOlxuICAgIC8vICAgdGhyb3cgbmV3IEVycm9yKFwiQW4gYXR0ZW1wdCBoYXMgYmVlbiBtYWRlIHRvIHBlcmZvcm0gYW4gb3BlcmF0aW9uIHRoYXQgd291bGQgY2F1c2UgYW4gaW50ZXJuYWwgc3RhY2sgdG8gb3ZlcmZsb3cuXCIpXG4gIH1cbn07XG4iLAogICJpbXBvcnQgeyBXZWJHTENvbnRleHQgfSBmcm9tICcuL1dlYkdMQ29udGV4dCc7XG5cbmV4cG9ydCBjbGFzcyBGZW5jZVN5bmMge1xuICBwcml2YXRlIF9zeW5jOiBXZWJHTFN5bmMgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl9zeW5jKSB7XG4gICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJmZW5jZSBub3Qgc3RhcnRlZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuICAgIGdsLmRlbGV0ZVN5bmModGhpcy5fc3luYyk7XG4gICAgdGhpcy5fc3luYyA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlzU3RhcnRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fc3luYyAhPT0gdW5kZWZpbmVkO1xuICB9XG5cbiAgc3RhcnQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3N5bmMpIHtcbiAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcImZlbmNlIGFscmVhZHkgc3RhcnRlZFwiKTtcbiAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgIH1cbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG4gICAgY29uc3QgdG1wU3luYyA9IGdsLmZlbmNlU3luYyhnbC5TWU5DX0dQVV9DT01NQU5EU19DT01QTEVURSwgMCk7XG4gICAgaWYgKHRtcFN5bmMgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IGNyZWF0ZSBhIHdlYmdsIGZlbmNlJyk7XG4gICAgfVxuICAgIHRoaXMuX3N5bmMgPSB0bXBTeW5jO1xuICAgIGdsLmZsdXNoKCk7XG4gICAgZ2wuZmluaXNoKCk7XG4gIH1cblxuICBpc1NpZ25hbGVkKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5fc3luYykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmZW5jZSBub3Qgc3RhcnRlZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcbiAgICBjb25zdCBzaWduYWxlZCA9IGdsLmdldFN5bmNQYXJhbWV0ZXIodGhpcy5fc3luYywgZ2wuU1lOQ19TVEFUVVMpO1xuICAgIHJldHVybiBzaWduYWxlZCA9PT0gZ2wuU0lHTkFMRUQ7XG4gIH1cblxuICB3YWl0KHRpbWVvdXROYW5vU2VjOiBudW1iZXIpOiAnZG9uZScgfCAndGltZWQtb3V0JyB7XG4gICAgaWYgKCF0aGlzLl9zeW5jKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZlbmNlIG5vdCBzdGFydGVkJyk7XG4gICAgfVxuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIGNvbnN0IGJpdGZsYWdzID0gMDtcbiAgICBjb25zdCBzdGF0dXMgPSBnbC5jbGllbnRXYWl0U3luYyh0aGlzLl9zeW5jLCBiaXRmbGFncywgdGltZW91dE5hbm9TZWMpO1xuXG4gICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgIGNhc2UgZ2wuVElNRU9VVF9FWFBJUkVEOlxuICAgICAgICAvLyBpdCdzIG5vdCBkb25lLCBjaGVjayBhZ2FpbiBuZXh0IHRpbWVcbiAgICAgICAgcmV0dXJuICd0aW1lZC1vdXQnO1xuICAgICAgY2FzZSBnbC5XQUlUX0ZBSUxFRDpcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKCdmZW5jZS53YWl0IC0+IHNob3VsZCBuZXZlciBnZXQgaGVyZScpO1xuICAgICAgICBjb25zb2xlLndhcm4oJ2ZlbmNlLndhaXQgLT4gc2hvdWxkIG5ldmVyIGdldCBoZXJlJyk7XG4gICAgICAgIC8vIHJldHVybiAndGltZWQtb3V0JztcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIHJldHVybiAnZG9uZSc7XG4gICAgICBjYXNlIGdsLkFMUkVBRFlfU0lHTkFMRUQ6XG4gICAgICBjYXNlIGdsLkNPTkRJVElPTl9TQVRJU0ZJRUQ6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuICdkb25lJztcbiAgICB9XG4gIH1cbn1cbiIsCiAgImltcG9ydCB7IFdlYkdMQ29udGV4dCB9IGZyb20gJy4vV2ViR0xDb250ZXh0JztcbmltcG9ydCB7IElCb3VuZFRleHR1cmUgfSBmcm9tICcuL1RleHR1cmUnO1xuaW1wb3J0IHsgSUJvdW5kUmVuZGVyQnVmZmVyIH0gZnJvbSAnLi9SZW5kZXJCdWZmZXInO1xuaW1wb3J0IHsgQ3ViZU1hcFR5cGUsIElCb3VuZEN1YmVNYXAsIGdldEN1YmVNYXBUeXBlIH0gZnJvbSAnLi9DdWJlTWFwJztcblxuZXhwb3J0IGludGVyZmFjZSBJVW5ib3VuZEZyYW1lQnVmZmVyIHtcbiAgcmF3QmluZCgpOiB2b2lkO1xuICBiaW5kKGluQ2FsbGJhY2s6IChib3VuZDogSUJvdW5kRnJhbWVCdWZmZXIpID0+IHZvaWQpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElCb3VuZEZyYW1lQnVmZmVyIHtcbiAgYXR0YWNoVGV4dHVyZSh0ZXh0dXJlOiBJQm91bmRUZXh0dXJlKTogdm9pZDtcbiAgYXR0YWNoRGVwdGhUZXh0dXJlKHRleHR1cmU6IElCb3VuZFRleHR1cmUpOiB2b2lkO1xuICBhdHRhY2hSZW5kZXJCdWZmZXIodGV4dHVyZTogSUJvdW5kUmVuZGVyQnVmZmVyKTogdm9pZDtcbiAgYXR0YWNoQ3ViZU1hcCh0ZXh0dXJlOiBJQm91bmRDdWJlTWFwLCB0eXBlOiBDdWJlTWFwVHlwZSk6IHZvaWQ7XG4gIGdldFBpeGVscyh4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIG91dERzdDogVWludDhBcnJheSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBGcmFtZUJ1ZmZlciBpbXBsZW1lbnRzIElVbmJvdW5kRnJhbWVCdWZmZXIsIElCb3VuZEZyYW1lQnVmZmVyIHtcbiAgcHJpdmF0ZSBfZnJhbWVCdWZmZXI6IFdlYkdMRnJhbWVidWZmZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgY29uc3QgdG1wRmJvID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBpZiAodG1wRmJvID09PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoJ251bGwgZnJhbWUgYnVmZmVyIG9iamVjdCcpO1xuICAgIHRoaXMuX2ZyYW1lQnVmZmVyID0gdG1wRmJvO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG4gICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fZnJhbWVCdWZmZXIpO1xuICB9XG5cbiAgcmF3QmluZCgpIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLl9mcmFtZUJ1ZmZlcik7XG4gIH1cblxuICBiaW5kKGluQ2FsbGJhY2s6IChib3VuZDogSUJvdW5kRnJhbWVCdWZmZXIpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnJhd0JpbmQoKTtcblxuICAgIGluQ2FsbGJhY2sodGhpcyk7XG5cbiAgICBGcmFtZUJ1ZmZlci51bmJpbmQoKTtcbiAgfVxuXG4gIHN0YXRpYyB1bmJpbmQoKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgfVxuXG4gIGF0dGFjaFRleHR1cmUodGV4dHVyZTogSUJvdW5kVGV4dHVyZSkge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIC8vIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5fZnJhbWVCdWZmZXIpO1xuXG4gICAgLy8gdGV4dHVyZS5yYXdCaW5kKCk7XG5cbiAgICBjb25zdCBtaXBtYXBMZXZlbCA9IDA7XG5cbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRleHR1cmUuZ2V0UmF3T2JqZWN0KCksIG1pcG1hcExldmVsKTtcbiAgfVxuXG4gIGF0dGFjaERlcHRoVGV4dHVyZSh0ZXh0dXJlOiBJQm91bmRUZXh0dXJlKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgLy8gZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLl9mcmFtZUJ1ZmZlcik7XG5cbiAgICAvLyB0ZXh0dXJlLnJhd0JpbmQoKTtcblxuICAgIGNvbnN0IG1pcG1hcExldmVsID0gMDtcblxuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5URVhUVVJFXzJELCB0ZXh0dXJlLmdldFJhd09iamVjdCgpLCBtaXBtYXBMZXZlbCk7XG4gIH1cblxuICBhdHRhY2hSZW5kZXJCdWZmZXIodGV4dHVyZTogSUJvdW5kUmVuZGVyQnVmZmVyKTogdm9pZCB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgdGV4dHVyZS5nZXRSYXdPYmplY3QoKSk7XG4gIH1cblxuICBhdHRhY2hDdWJlTWFwKHRleHR1cmU6IElCb3VuZEN1YmVNYXAsIHR5cGU6IEN1YmVNYXBUeXBlKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgLy8gZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLl9mcmFtZUJ1ZmZlcik7XG5cbiAgICAvLyB0ZXh0dXJlLnJhd0JpbmQoKTtcblxuICAgIGNvbnN0IG1pcG1hcExldmVsID0gMDtcblxuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKFxuICAgICAgZ2wuRlJBTUVCVUZGRVIsXG4gICAgICBnbC5DT0xPUl9BVFRBQ0hNRU5UMCxcbiAgICAgIGdldEN1YmVNYXBUeXBlKHR5cGUpLFxuICAgICAgdGV4dHVyZS5nZXRSYXdPYmplY3QoKSxcbiAgICAgIG1pcG1hcExldmVsXG4gICAgKTtcbiAgfVxuXG4gIGdldFBpeGVscyh4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIG91dERzdDogVWludDhBcnJheSk6IHZvaWQge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcbiAgICBnbC5yZWFkUGl4ZWxzKHgsIHksIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG91dERzdCk7XG4gIH1cbn1cbiIsCiAgImltcG9ydCB7IFdlYkdMQ29udGV4dCB9IGZyb20gJy4vV2ViR0xDb250ZXh0JztcbmltcG9ydCB7IElVbmJvdW5kU2hhZGVyIH0gZnJvbSAnLi9TaGFkZXJQcm9ncmFtJztcblxuZXhwb3J0IGNvbnN0IEJ5dGVzUGVyUGl4ZWwgPSA0OyAvLyBmbG9hdCAoZmxvYXQzMiA9IDQgYnl0ZXMpXG5cbmV4cG9ydCBlbnVtIEF0dHJpYnV0ZVR5cGUge1xuICBmbG9hdCxcbiAgdmVjMmYsXG4gIHZlYzNmLFxuICB2ZWM0ZixcbiAgbWF0M2YsXG4gIG1hdDRmXG59XG5cbmNvbnN0IGdldEF0dHJUeXBlU2l6ZSA9IChpblR5cGU6IEF0dHJpYnV0ZVR5cGUpID0+IHtcbiAgc3dpdGNoIChpblR5cGUpIHtcbiAgICBjYXNlIEF0dHJpYnV0ZVR5cGUuZmxvYXQ6XG4gICAgICByZXR1cm4gMTtcbiAgICBjYXNlIEF0dHJpYnV0ZVR5cGUudmVjMmY6XG4gICAgICByZXR1cm4gMjtcbiAgICBjYXNlIEF0dHJpYnV0ZVR5cGUudmVjM2Y6XG4gICAgICByZXR1cm4gMztcbiAgICBjYXNlIEF0dHJpYnV0ZVR5cGUudmVjNGY6XG4gICAgICByZXR1cm4gNDtcbiAgICBjYXNlIEF0dHJpYnV0ZVR5cGUubWF0M2Y6XG4gICAgICByZXR1cm4gOTtcbiAgICBjYXNlIEF0dHJpYnV0ZVR5cGUubWF0NGY6XG4gICAgICByZXR1cm4gMTY7XG4gIH1cbn07XG5cbmV4cG9ydCBlbnVtIFByaW1pdGl2ZVR5cGUge1xuICBsaW5lcyxcbiAgbGluZVN0cmlwLFxuICBsaW5lTG9vcCxcbiAgdHJpYW5nbGVzLFxuICB0cmlhbmdsZVN0cmlwLFxuICB0cmlhbmdsZUZhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZib0F0dHIge1xuICBuYW1lOiBzdHJpbmc7XG4gIHR5cGU6IEF0dHJpYnV0ZVR5cGU7XG4gIGluZGV4OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmJvRGVmaW5pdGlvbiB7XG4gIGF0dHJzOiBWYm9BdHRyW107XG4gIHN0cmlkZT86IG51bWJlcjtcbiAgaW5zdGFuY2VkOiBib29sZWFuO1xuICBtb2RlPzogJ3N0YXRpYycgfCAnZHluYW1pYycgfCAnc3RyZWFtaW5nJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZW9tZXRyeURlZmluaXRpb24ge1xuICB2Ym9zOiBWYm9EZWZpbml0aW9uW107XG4gIHByaW1pdGl2ZVR5cGU6IFByaW1pdGl2ZVR5cGU7XG59XG5cbmNvbnN0IF9lbnN1cmVGbG9hdEJ1ZmZlciA9ICh2ZXJ0aWNlczogUmVhZG9ubHlBcnJheTxudW1iZXI+IHwgUmVhZG9ubHk8RmxvYXQzMkFycmF5Pik6IFJlYWRvbmx5PEZsb2F0MzJBcnJheT4gPT4ge1xuICBpZiAodmVydGljZXMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpIHtcbiAgICByZXR1cm4gdmVydGljZXM7XG4gIH1cbiAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpO1xufTtcblxuaW50ZXJmYWNlIElWYm9EYXRhIHtcbiAgb2JqZWN0OiBXZWJHTEJ1ZmZlcjtcbiAgbWF4U2l6ZTogbnVtYmVyO1xuICBtb2RlOiAnc3RhdGljJyB8ICdkeW5hbWljJyB8ICdzdHJlYW1pbmcnO1xufVxuXG5jb25zdCBfZ2V0QnVmZmVyVXNhZ2UgPSAoaW5Nb2RlOiAnc3RhdGljJyB8ICdkeW5hbWljJyB8ICdzdHJlYW1pbmcnKSA9PiB7XG4gIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICBpZiAoaW5Nb2RlID09PSAnZHluYW1pYycpIHtcbiAgICByZXR1cm4gZ2wuRFlOQU1JQ19EUkFXO1xuICB9XG4gIGlmIChpbk1vZGUgPT09ICdzdHJlYW1pbmcnKSB7XG4gICAgcmV0dXJuIGdsLlNUUkVBTV9EUkFXO1xuICB9XG4gIHJldHVybiBnbC5TVEFUSUNfRFJBVztcbn07XG5cbmV4cG9ydCBjbGFzcyBHZW9tZXRyeSB7XG4gIHByaXZhdGUgX2RlZjogR2VvbWV0cnlEZWZpbml0aW9uO1xuICBwcml2YXRlIF92YW86IFdlYkdMVmVydGV4QXJyYXlPYmplY3RPRVM7XG4gIHByaXZhdGUgX3Zib3M6IElWYm9EYXRhW107XG4gIHByaXZhdGUgX3ByaW1pdGl2ZVR5cGU6IG51bWJlcjtcbiAgcHJpdmF0ZSBfcHJpbWl0aXZlU3RhcnQ6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX3ByaW1pdGl2ZUNvdW50OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9pbnN0YW5jZUNvdW50OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9pc0luc3RhbmNlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHNoYWRlcjogSVVuYm91bmRTaGFkZXIsIGRlZjogR2VvbWV0cnlEZWZpbml0aW9uKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgaWYgKGRlZi52Ym9zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdlbXB0eSB2Ym8gZGVmaW5pdGlvbicpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgdmJvIG9mIGRlZi52Ym9zKSB7XG4gICAgICBpZiAodmJvLmF0dHJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2VtcHR5IHZibyBhdHRyaWJ1dGUgZGVmaW5pdGlvbicpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGF0dHIgb2YgdmJvLmF0dHJzKSB7XG4gICAgICAgIGlmICghc2hhZGVyLmhhc0F0dHJpYnV0ZShhdHRyLm5hbWUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBhdHRyaWJ1dGUgbm90IGZvdW5kLCBuYW1lPVwiJHthdHRyLm5hbWV9XCJgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2RlZiA9IGRlZjtcblxuICAgIHN3aXRjaCAoZGVmLnByaW1pdGl2ZVR5cGUpIHtcbiAgICAgIGNhc2UgUHJpbWl0aXZlVHlwZS5saW5lczpcbiAgICAgICAgdGhpcy5fcHJpbWl0aXZlVHlwZSA9IGdsLkxJTkVTO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUHJpbWl0aXZlVHlwZS5saW5lU3RyaXA6XG4gICAgICAgIHRoaXMuX3ByaW1pdGl2ZVR5cGUgPSBnbC5MSU5FX1NUUklQO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUHJpbWl0aXZlVHlwZS5saW5lTG9vcDpcbiAgICAgICAgdGhpcy5fcHJpbWl0aXZlVHlwZSA9IGdsLkxJTkVfTE9PUDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFByaW1pdGl2ZVR5cGUudHJpYW5nbGVzOlxuICAgICAgICB0aGlzLl9wcmltaXRpdmVUeXBlID0gZ2wuVFJJQU5HTEVTO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUHJpbWl0aXZlVHlwZS50cmlhbmdsZVN0cmlwOlxuICAgICAgICB0aGlzLl9wcmltaXRpdmVUeXBlID0gZ2wuVFJJQU5HTEVfU1RSSVA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcmltaXRpdmVUeXBlLnRyaWFuZ2xlRmFuOlxuICAgICAgICB0aGlzLl9wcmltaXRpdmVUeXBlID0gZ2wuVFJJQU5HTEVfRkFOO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigncHJpbWl0aXZlIHR5cGUgbm90IGZvdW5kJyk7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3VmFvID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcbiAgICBpZiAoIW5ld1Zhbykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmYWlsIG8gY3JlYXRlIGEgdmFvIHVuaXQnKTtcbiAgICB9XG5cbiAgICB0aGlzLl92YW8gPSBuZXdWYW87XG4gICAgZ2wuYmluZFZlcnRleEFycmF5KHRoaXMuX3Zhbyk7XG5cbiAgICAvL1xuXG4gICAgdGhpcy5fdmJvcyA9IFtdO1xuICAgIGZvciAoY29uc3QgdmJvRGVmIG9mIHRoaXMuX2RlZi52Ym9zKSB7XG4gICAgICBjb25zdCBuZXdWYm8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgIGlmICghbmV3VmJvKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZmFpbCBvIGNyZWF0ZSBhIHZibyB1bml0Jyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3Zib3MucHVzaCh7XG4gICAgICAgIG9iamVjdDogbmV3VmJvLFxuICAgICAgICBtYXhTaXplOiAwLFxuICAgICAgICBtb2RlOiB2Ym9EZWYubW9kZSB8fCAnc3RhdGljJ1xuICAgICAgfSk7XG5cbiAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBuZXdWYm8pO1xuXG4gICAgICBsZXQgc3RyaWRlID0gdmJvRGVmLnN0cmlkZSB8fCAwO1xuICAgICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgICAgLy8gYXV0byBkZXRlcm1pbmUgc3RyaWRlIHZhbHVlXG4gICAgICAgIGZvciAoY29uc3QgYXR0ciBvZiB2Ym9EZWYuYXR0cnMpIHtcbiAgICAgICAgICBzd2l0Y2ggKGF0dHIudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBBdHRyaWJ1dGVUeXBlLmZsb2F0OlxuICAgICAgICAgICAgICBzdHJpZGUgKz0gMTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEF0dHJpYnV0ZVR5cGUudmVjMmY6XG4gICAgICAgICAgICAgIHN0cmlkZSArPSAyO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXR0cmlidXRlVHlwZS52ZWMzZjpcbiAgICAgICAgICAgICAgc3RyaWRlICs9IDM7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBdHRyaWJ1dGVUeXBlLnZlYzRmOlxuICAgICAgICAgICAgICBzdHJpZGUgKz0gNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEF0dHJpYnV0ZVR5cGUubWF0M2Y6XG4gICAgICAgICAgICAgIHN0cmlkZSArPSA5O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXR0cmlidXRlVHlwZS5tYXQ0ZjpcbiAgICAgICAgICAgICAgc3RyaWRlICs9IDE2O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RyaWRlICo9IEJ5dGVzUGVyUGl4ZWw7XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgYXR0ciBvZiB2Ym9EZWYuYXR0cnMpIHtcbiAgICAgICAgbGV0IHJvd1NpemUgPSAxO1xuICAgICAgICBsZXQgdG90YWxSb3dzID0gMTtcbiAgICAgICAgc3dpdGNoIChhdHRyLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIEF0dHJpYnV0ZVR5cGUuZmxvYXQ6XG4gICAgICAgICAgICByb3dTaXplID0gMTtcbiAgICAgICAgICAgIHRvdGFsUm93cyA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEF0dHJpYnV0ZVR5cGUudmVjMmY6XG4gICAgICAgICAgICByb3dTaXplID0gMjtcbiAgICAgICAgICAgIHRvdGFsUm93cyA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEF0dHJpYnV0ZVR5cGUudmVjM2Y6XG4gICAgICAgICAgICByb3dTaXplID0gMztcbiAgICAgICAgICAgIHRvdGFsUm93cyA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEF0dHJpYnV0ZVR5cGUudmVjNGY6XG4gICAgICAgICAgICByb3dTaXplID0gNDtcbiAgICAgICAgICAgIHRvdGFsUm93cyA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEF0dHJpYnV0ZVR5cGUubWF0M2Y6XG4gICAgICAgICAgICByb3dTaXplID0gMztcbiAgICAgICAgICAgIHRvdGFsUm93cyA9IDM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEF0dHJpYnV0ZVR5cGUubWF0NGY6XG4gICAgICAgICAgICByb3dTaXplID0gNDtcbiAgICAgICAgICAgIHRvdGFsUm93cyA9IDQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF0dHJMb2NhdGlvbiA9IHNoYWRlci5nZXRBdHRyaWJ1dGUoYXR0ci5uYW1lKTtcblxuICAgICAgICAvLyBUT0RPOiBjaGVjayBpZiB0aGUgaW5kZXggaXMgMCBvbiBrPjAgYW5kIGFzc2VydC90aHJvdyBvbiBpdFxuXG4gICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0b3RhbFJvd3M7ICsraWkpIHtcbiAgICAgICAgICBjb25zdCBhdHRySWQgPSBhdHRyTG9jYXRpb24gKyBpaTtcbiAgICAgICAgICBjb25zdCByb3dJbmRleCA9IChhdHRyLmluZGV4ICsgaWkgKiByb3dTaXplKSAqIEJ5dGVzUGVyUGl4ZWw7XG5cbiAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhdHRySWQpO1xuICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXR0cklkLCByb3dTaXplLCBnbC5GTE9BVCwgZmFsc2UsIHN0cmlkZSwgcm93SW5kZXgpO1xuXG4gICAgICAgICAgaWYgKHZib0RlZi5pbnN0YW5jZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IoYXR0cklkLCAxKTtcbiAgICAgICAgICAgIHRoaXMuX2lzSW5zdGFuY2VkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuXG4gICAgZ2wuYmluZFZlcnRleEFycmF5KG51bGwpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG5cbiAgICBmb3IgKGNvbnN0IHZibyBvZiB0aGlzLl92Ym9zKSB7XG4gICAgICBnbC5kZWxldGVCdWZmZXIodmJvLm9iamVjdCk7XG4gICAgfVxuICAgIHRoaXMuX3Zib3MubGVuZ3RoID0gMDtcblxuICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5KHRoaXMuX3Zhbyk7XG4gIH1cblxuICBzZXRCdWZmZXJTaXplKGluSW5kZXg6IG51bWJlciwgaW5TaXplOiBudW1iZXIpIHtcbiAgICBpZiAoaW5JbmRleCA8IDAgfHwgaW5JbmRleCA+PSB0aGlzLl92Ym9zLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBubyB2Ym8gYXZhaWxhYmxlIHRvIHRoYXQgaW5kZXggKGlucHV0OiAke2luSW5kZXh9KWApO1xuICAgIH1cblxuICAgIGlmIChpblNpemUgPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB2Ym8gbXVzdCBiZSA+IDAgKGlucHV0OiAke2luU2l6ZX0pYCk7XG4gICAgfVxuXG4gICAgY29uc3QgY3VyclZibyA9IHRoaXMuX3Zib3NbaW5JbmRleF07XG5cbiAgICBpZiAoaW5TaXplIDwgY3VyclZiby5tYXhTaXplKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY3VyclZiby5tYXhTaXplID0gaW5TaXplO1xuXG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGN1cnJWYm8ub2JqZWN0KTtcbiAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgaW5TaXplLCBfZ2V0QnVmZmVyVXNhZ2UoY3VyclZiby5tb2RlKSk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xuICB9XG5cbiAgc2V0RmxvYXRCdWZmZXJTaXplKGluZGV4OiBudW1iZXIsIGluU2l6ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5zZXRCdWZmZXJTaXplKGluZGV4LCBpblNpemUgKiA0KTtcbiAgfVxuXG4gIGFsbG9jYXRlQnVmZmVyKGluSW5kZXg6IG51bWJlciwgaW5WZXJ0aWNlczogUmVhZG9ubHlBcnJheTxudW1iZXI+IHwgUmVhZG9ubHk8RmxvYXQzMkFycmF5PiwgaW5TaXplOiBudW1iZXIpIHtcbiAgICBpZiAoaW5JbmRleCA8IDAgfHwgaW5JbmRleCA+PSB0aGlzLl92Ym9zLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBubyB2Ym8gYXZhaWxhYmxlIHRvIHRoYXQgaW5kZXggKGlucHV0OiAke2luSW5kZXh9LCB0b3RhbCB2Ym9zOiAke3RoaXMuX3Zib3MubGVuZ3RofSlgKTtcbiAgICB9XG5cbiAgICBpZiAoaW5TaXplIDw9IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgc2l6ZSBtdXN0IGJlID4gMCAoaW5wdXQ6ICR7aW5TaXplfSlgKTtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyVmJvID0gdGhpcy5fdmJvc1tpbkluZGV4XTtcblxuICAgIGlmIChpblNpemUgPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB2Ym8gbXVzdCBiZSA+IDAgKGlucHV0OiAke2luU2l6ZX0pYCk7XG4gICAgfVxuXG4gICAgY3VyclZiby5tYXhTaXplID0gaW5TaXplO1xuXG4gICAgY29uc3QgYnVmZmVyID0gX2Vuc3VyZUZsb2F0QnVmZmVyKGluVmVydGljZXMpO1xuXG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGN1cnJWYm8ub2JqZWN0KTtcbiAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgYnVmZmVyLCBfZ2V0QnVmZmVyVXNhZ2UoY3VyclZiby5tb2RlKSwgMCwgaW5TaXplKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XG4gIH1cblxuICB1cGRhdGVCdWZmZXIoXG4gICAgaW5JbmRleDogbnVtYmVyLFxuICAgIGluVmVydGljZXM6IFJlYWRvbmx5QXJyYXk8bnVtYmVyPiB8IFJlYWRvbmx5PEZsb2F0MzJBcnJheT4sXG4gICAgaW5TaXplOiBudW1iZXIsXG4gICAgaW5TdGFydE9mZnNldD86IG51bWJlclxuICApIHtcbiAgICBpZiAoaW5JbmRleCA8IDAgfHwgaW5JbmRleCA+PSB0aGlzLl92Ym9zLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBubyB2Ym8gYXZhaWxhYmxlIHRvIHRoYXQgaW5kZXggKGlucHV0OiAke2luSW5kZXh9LCB0b3RhbCB2Ym9zOiAke3RoaXMuX3Zib3MubGVuZ3RofSlgKTtcbiAgICB9XG5cbiAgICBpZiAoaW5TaXplIDw9IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgc2l6ZSBtdXN0IGJlID4gMCAoaW5wdXQ6ICR7aW5TaXplfSlgKTtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyVmJvID0gdGhpcy5fdmJvc1tpbkluZGV4XTtcblxuICAgIGlmIChpblN0YXJ0T2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChpblN0YXJ0T2Zmc2V0IDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG9mZnNldCBtdXN0IGJlID49IDAgKGlucHV0OiAke2luU3RhcnRPZmZzZXR9KWApO1xuICAgICAgfVxuICAgICAgY29uc3QgZW5kSW5kZXggPSBpblN0YXJ0T2Zmc2V0ICsgaW5TaXplO1xuICAgICAgaWYgKGVuZEluZGV4ID4gY3VyclZiby5tYXhTaXplKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgb2Zmc2V0ICsgc2l6ZSA+IHRvIHZibyBtYXggc2l6ZSAoaW5wdXQ6ICR7ZW5kSW5kZXh9LCBtYXggc2l6ZTogJHtjdXJyVmJvLm1heFNpemV9KWApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaW5TaXplID4gY3VyclZiby5tYXhTaXplKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHNpemUgbXVzdCBiZSA8IHRvIHZibyBtYXggc2l6ZSAoaW5wdXQ6ICR7aW5TaXplfSwgbWF4IHNpemU6ICR7Y3VyclZiby5tYXhTaXplfSlgKTtcbiAgICB9XG5cbiAgICBjb25zdCBidWZmZXIgPSBfZW5zdXJlRmxvYXRCdWZmZXIoaW5WZXJ0aWNlcyk7XG5cbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG5cbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgY3VyclZiby5vYmplY3QpO1xuICAgIGdsLmJ1ZmZlclN1YkRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBpblN0YXJ0T2Zmc2V0ID8/IDAsIGJ1ZmZlciwgMCwgaW5TaXplKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuX3ByaW1pdGl2ZUNvdW50ID09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5faXNJbnN0YW5jZWQgJiYgdGhpcy5faW5zdGFuY2VDb3VudCA9PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuYmluZFZlcnRleEFycmF5KHRoaXMuX3Zhbyk7XG5cbiAgICBpZiAodGhpcy5faXNJbnN0YW5jZWQgPT09IHRydWUpIHtcbiAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQodGhpcy5fcHJpbWl0aXZlVHlwZSwgdGhpcy5fcHJpbWl0aXZlU3RhcnQsIHRoaXMuX3ByaW1pdGl2ZUNvdW50LCB0aGlzLl9pbnN0YW5jZUNvdW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2wuZHJhd0FycmF5cyh0aGlzLl9wcmltaXRpdmVUeXBlLCB0aGlzLl9wcmltaXRpdmVTdGFydCwgdGhpcy5fcHJpbWl0aXZlQ291bnQpO1xuICAgIH1cblxuICAgIGdsLmJpbmRWZXJ0ZXhBcnJheShudWxsKTtcbiAgfVxuXG4gIHNldFByaW1pdGl2ZVN0YXJ0KHN0YXJ0OiBudW1iZXIpIHtcbiAgICB0aGlzLl9wcmltaXRpdmVTdGFydCA9IHN0YXJ0O1xuICB9XG5cbiAgc2V0UHJpbWl0aXZlQ291bnQoY291bnQ6IG51bWJlcikge1xuICAgIHRoaXMuX3ByaW1pdGl2ZUNvdW50ID0gY291bnQ7XG4gIH1cblxuICBzZXRJbnN0YW5jZWRDb3VudChjb3VudDogbnVtYmVyKSB7XG4gICAgdGhpcy5faW5zdGFuY2VDb3VudCA9IGNvdW50O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHZW9tZXRyeUJ1aWxkZXIge1xuICBwcml2YXRlIF9kZWY6IEdlb21ldHJ5RGVmaW5pdGlvbiA9IHtcbiAgICB2Ym9zOiBbXSxcbiAgICBwcmltaXRpdmVUeXBlOiBQcmltaXRpdmVUeXBlLmxpbmVzXG4gIH07XG5cbiAgcmVzZXQoKTogdGhpcyB7XG4gICAgdGhpcy5fZGVmID0ge1xuICAgICAgdmJvczogW10sXG4gICAgICBwcmltaXRpdmVUeXBlOiBQcmltaXRpdmVUeXBlLmxpbmVzXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldERlZigpOiBHZW9tZXRyeURlZmluaXRpb24ge1xuICAgIHJldHVybiB0aGlzLl9kZWY7XG4gIH1cblxuICBzZXRQcmltaXRpdmVUeXBlKFxuICAgIGluUHJpbWl0aXZlOiAnbGluZXMnIHwgJ2xpbmVTdHJpcCcgfCAnbGluZUxvb3AnIHwgJ3RyaWFuZ2xlcycgfCAndHJpYW5nbGVTdHJpcCcgfCAndHJpYW5nbGVGYW4nXG4gICk6IHRoaXMge1xuICAgIHRoaXMuX2RlZi5wcmltaXRpdmVUeXBlID0gUHJpbWl0aXZlVHlwZVtpblByaW1pdGl2ZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYWRkVmJvKCk6IHRoaXMge1xuICAgIHRoaXMuX2RlZi52Ym9zLnB1c2goe1xuICAgICAgYXR0cnM6IFtdLFxuICAgICAgLy8gc3RyaWRlOiAwLFxuICAgICAgaW5zdGFuY2VkOiBmYWxzZVxuICAgICAgLy8gZHluYW1pYzogZmFsc2UsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2V0VmJvQXNJbnN0YW5jZWQoKTogdGhpcyB7XG4gICAgdGhpcy5fZ2V0TGFzdFZibygpLmluc3RhbmNlZCA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2V0VmJvQXNEeW5hbWljKCk6IHRoaXMge1xuICAgIHRoaXMuX2dldExhc3RWYm8oKS5tb2RlID0gJ2R5bmFtaWMnO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHNldFZib0FzU3RyZWFtaW5nKCk6IHRoaXMge1xuICAgIHRoaXMuX2dldExhc3RWYm8oKS5tb2RlID0gJ3N0cmVhbWluZyc7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2V0U3RyaWRlKGluU3RyaWRlOiBudW1iZXIpOiB0aGlzIHtcbiAgICB0aGlzLl9nZXRMYXN0VmJvKCkuc3RyaWRlID0gaW5TdHJpZGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYWRkVmJvQXR0cmlidXRlKGluTmFtZTogc3RyaW5nLCBpblR5cGU6ICdmbG9hdCcgfCAndmVjMmYnIHwgJ3ZlYzNmJyB8ICd2ZWM0ZicgfCAnbWF0M2YnIHwgJ21hdDRmJyk6IHRoaXMge1xuICAgIGNvbnN0IGN1cnJWYm8gPSB0aGlzLl9nZXRMYXN0VmJvKCk7XG4gICAgY29uc3QgbGFzdEF0dHIgPSBjdXJyVmJvLmF0dHJzLmxlbmd0aCA+IDAgPyBjdXJyVmJvLmF0dHJzW2N1cnJWYm8uYXR0cnMubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgIGN1cnJWYm8uYXR0cnMucHVzaCh7XG4gICAgICBuYW1lOiBpbk5hbWUsXG4gICAgICB0eXBlOiBBdHRyaWJ1dGVUeXBlW2luVHlwZV0sXG4gICAgICBpbmRleDogbGFzdEF0dHIgPyBsYXN0QXR0ci5pbmRleCArIGdldEF0dHJUeXBlU2l6ZShsYXN0QXR0ci50eXBlKSA6IDBcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHByaXZhdGUgX2dldExhc3RWYm8oKTogVmJvRGVmaW5pdGlvbiB7XG4gICAgaWYgKHRoaXMuX2RlZi52Ym9zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBWQk8gc2V0dXAnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2RlZi52Ym9zW3RoaXMuX2RlZi52Ym9zLmxlbmd0aCAtIDFdO1xuICB9XG59XG4iLAogICJcbmltcG9ydCB7IFdlYkdMQ29udGV4dCB9IGZyb20gJy4vV2ViR0xDb250ZXh0JztcblxuZXhwb3J0IGludGVyZmFjZSBJVW5ib3VuZFJlbmRlckJ1ZmZlciB7XG4gIGRpc3Bvc2UoKTogdm9pZDtcbiAgcmF3QmluZCgpOiB2b2lkO1xuICBwcmVCaW5kKGluQ2FsbGJhY2s6IChib3VuZDogSUJvdW5kUmVuZGVyQnVmZmVyKSA9PiB2b2lkKTogdm9pZFxuICBiaW5kKGluQ2FsbGJhY2s6IChib3VuZDogSUJvdW5kUmVuZGVyQnVmZmVyKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQm91bmRSZW5kZXJCdWZmZXIge1xuICBzZXRTaXplKHR5cGU6ICdkZXB0aDE2JyB8ICdkZXB0aDI0JyB8ICdkZXB0aDMyZicsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZDtcbiAgZ2V0UmF3T2JqZWN0KCk6IFdlYkdMUmVuZGVyYnVmZmVyO1xufVxuXG5leHBvcnQgY2xhc3MgUmVuZGVyQnVmZmVyIGltcGxlbWVudHMgSVVuYm91bmRSZW5kZXJCdWZmZXIsIElCb3VuZFJlbmRlckJ1ZmZlciB7XG5cbiAgcHJpdmF0ZSBfYnVmZmVyOiBXZWJHTFJlbmRlcmJ1ZmZlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG5cbiAgICBjb25zdCB0bXBCdWYgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICBpZiAodG1wQnVmID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ251bGwgcmVuZGVyIGJ1ZmZlciBvYmplY3QnKTtcbiAgICB9XG4gICAgdGhpcy5fYnVmZmVyID0gdG1wQnVmO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG4gICAgZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKHRoaXMuX2J1ZmZlcik7XG4gIH1cblxuXG4gIHJhd0JpbmQoKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB0aGlzLl9idWZmZXIpO1xuICB9XG5cbiAgcHJlQmluZChpbkNhbGxiYWNrOiAoYm91bmQ6IElCb3VuZFJlbmRlckJ1ZmZlcikgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMucmF3QmluZCgpO1xuICAgIGluQ2FsbGJhY2sodGhpcyk7XG4gIH1cblxuICBiaW5kKGluQ2FsbGJhY2s6IChib3VuZDogSUJvdW5kUmVuZGVyQnVmZmVyKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5wcmVCaW5kKGluQ2FsbGJhY2spO1xuICAgIFJlbmRlckJ1ZmZlci51bmJpbmQoKTtcbiAgfVxuXG4gIHN0YXRpYyB1bmJpbmQoKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIG51bGwpO1xuICB9XG5cbiAgc2V0U2l6ZSh0eXBlOiAnZGVwdGgxNicgfCAnZGVwdGgyNCcgfCAnZGVwdGgzMmYnLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIGxldCBpbnRlcm5hbEZvcm1hdDogbnVtYmVyID0gZ2wuREVQVEhfQ09NUE9ORU5UMzJGO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnZGVwdGgxNic6IHtcbiAgICAgICAgaW50ZXJuYWxGb3JtYXQgPSBnbC5ERVBUSF9DT01QT05FTlQxNjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdkZXB0aDI0Jzoge1xuICAgICAgICBpbnRlcm5hbEZvcm1hdCA9IGdsLkRFUFRIX0NPTVBPTkVOVDE2O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgZ2V0UmF3T2JqZWN0KCk6IFdlYkdMUmVuZGVyYnVmZmVyIHtcbiAgICByZXR1cm4gdGhpcy5fYnVmZmVyO1xuICB9XG59XG5cbiIsCiAgImltcG9ydCB7IElVbmJvdW5kVGV4dHVyZUFycmF5IH0gZnJvbSAnLi9UZXh0dXJlQXJyYXknO1xuaW1wb3J0IHsgSVVuYm91bmRDdWJlTWFwIH0gZnJvbSAnLi9DdWJlTWFwJztcbmltcG9ydCB7IElVbmJvdW5kVGV4dHVyZSB9IGZyb20gJy4vVGV4dHVyZSc7XG5pbXBvcnQgeyBJVW5ib3VuZERhdGFUZXh0dXJlIH0gZnJvbSAnLi9EYXRhVGV4dHVyZSc7XG5pbXBvcnQgeyBJVW5ib3VuZERhdGFUZXh0dXJlVmVjNCB9IGZyb20gJy4vRGF0YVRleHR1cmVWZWM0JztcbmltcG9ydCB7IFdlYkdMQ29udGV4dCB9IGZyb20gJy4vV2ViR0xDb250ZXh0JztcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNoYWRlclByb2dyYW1PcHRzIHtcbiAgdmVydGV4U3JjOiBzdHJpbmc7XG4gIGZyYWdtZW50U3JjOiBzdHJpbmc7XG4gIGF0dHJpYnV0ZXM6IHN0cmluZ1tdO1xuICB1bmlmb3Jtczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVuYm91bmRTaGFkZXIge1xuICBpc0JvdW5kKCk6IGJvb2xlYW47XG4gIGhhc0F0dHJpYnV0ZShuYW1lOiBzdHJpbmcpOiBib29sZWFuO1xuICBnZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nKTogbnVtYmVyO1xuICBnZXRVbmlmb3JtKG5hbWU6IHN0cmluZyk6IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xuICBiaW5kKGluQ2FsbGJhY2s6IChib3VuZDogSUJvdW5kU2hhZGVyKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQm91bmRTaGFkZXIge1xuICBzZXRUZXh0dXJlVW5pZm9ybShcbiAgICBpbk5hbWU6IHN0cmluZyxcbiAgICBpblRleHR1cmU6IElVbmJvdW5kVGV4dHVyZSB8IElVbmJvdW5kVGV4dHVyZUFycmF5IHwgSVVuYm91bmRDdWJlTWFwIHwgSVVuYm91bmREYXRhVGV4dHVyZSB8IElVbmJvdW5kRGF0YVRleHR1cmVWZWM0LFxuICAgIGluSW5kZXg6IG51bWJlclxuICApOiB2b2lkO1xuICBzZXRJbnRlZ2VyMVVuaWZvcm0oaW5OYW1lOiBzdHJpbmcsIGluVmFsdWU6IG51bWJlcik6IHZvaWQ7XG4gIHNldEludGVnZXIyVW5pZm9ybShpbk5hbWU6IHN0cmluZywgaW5WYWx1ZVg6IG51bWJlciwgaW5WYWx1ZVk6IG51bWJlcik6IHZvaWQ7XG4gIHNldEludGVnZXIzVW5pZm9ybShpbk5hbWU6IHN0cmluZywgaW5WYWx1ZVg6IG51bWJlciwgaW5WYWx1ZVk6IG51bWJlciwgaW5WYWx1ZVo6IG51bWJlcik6IHZvaWQ7XG4gIHNldEZsb2F0MVVuaWZvcm0oaW5OYW1lOiBzdHJpbmcsIGluVmFsdWU6IG51bWJlcik6IHZvaWQ7XG4gIHNldEZsb2F0MlVuaWZvcm0oaW5OYW1lOiBzdHJpbmcsIGluVmFsdWVYOiBudW1iZXIsIGluVmFsdWVZOiBudW1iZXIpOiB2b2lkO1xuICBzZXRGbG9hdDNVbmlmb3JtKGluTmFtZTogc3RyaW5nLCBpblZhbHVlWDogbnVtYmVyLCBpblZhbHVlWTogbnVtYmVyLCBpblZhbHVlWjogbnVtYmVyKTogdm9pZDtcbiAgc2V0TWF0cml4M1VuaWZvcm0oaW5OYW1lOiBzdHJpbmcsIGluTWF0cml4OiBnbG0uUmVhZG9ubHlNYXQzKTogdm9pZDtcbiAgc2V0TWF0cml4NFVuaWZvcm0oaW5OYW1lOiBzdHJpbmcsIGluTWF0cml4OiBnbG0uUmVhZG9ubHlNYXQ0KTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIFNoYWRlclByb2dyYW0ge1xuICBwcml2YXRlIHN0YXRpYyBfaXNCb3VuZDogU2hhZGVyUHJvZ3JhbSB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgX25hbWU6IHN0cmluZztcblxuICBwcml2YXRlIF9wcm9ncmFtOiBXZWJHTFByb2dyYW07XG5cbiAgcHJpdmF0ZSBfYXR0cmlidXRlcyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gIHByaXZhdGUgX3VuaWZvcm1zID0gbmV3IE1hcDxzdHJpbmcsIFdlYkdMVW5pZm9ybUxvY2F0aW9uPigpO1xuXG4gIGNvbnN0cnVjdG9yKGluTmFtZTogc3RyaW5nLCBvcHQ6IElTaGFkZXJQcm9ncmFtT3B0cykge1xuICAgIHRoaXMuX25hbWUgPSBpbk5hbWU7XG5cbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG5cbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSB0aGlzLl9nZXRTaGFkZXIob3B0LnZlcnRleFNyYywgZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSB0aGlzLl9nZXRTaGFkZXIob3B0LmZyYWdtZW50U3JjLCBnbC5GUkFHTUVOVF9TSEFERVIpO1xuXG4gICAgLy9cblxuICAgIGNvbnN0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCBjcmVhdGUgYSBzaGFkZXIgcHJvZ3JhbScpO1xuICAgIH1cblxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wuZGVsZXRlU2hhZGVyKHZlcnRleFNoYWRlcik7IC8vIGZyZWUgdXAgbm93IHVudXNlZCBtZW1vcnlcbiAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpOyAvLyBmcmVlIHVwIG5vdyB1bnVzZWQgbWVtb3J5XG5cbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAvLyBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBsaW5raW5nXG4gICAgICBjb25zdCBsYXN0RXJyb3IgPSBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKTtcblxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZWQgc2hhZGVycywgRXJyb3IgbGlua2luZzonICsgbGFzdEVycm9yKTtcbiAgICB9XG5cbiAgICB0aGlzLl9wcm9ncmFtID0gcHJvZ3JhbTtcblxuICAgIC8vIHRoaXMuX2dldEF0dHJpYkFuZExvY2F0aW9uKG9wdC5hdHRyaWJ1dGVzLCBvcHQudW5pZm9ybXMpO1xuXG4gICAgLy8gdGhpcy5yYXdCaW5kKCk7XG4gICAgdGhpcy5iaW5kKCgpID0+IHtcbiAgICAgIHRoaXMuX2dldEF0dHJpYnV0ZXMob3B0LmF0dHJpYnV0ZXMpO1xuICAgICAgdGhpcy5fZ2V0VW5pZm9ybXMob3B0LnVuaWZvcm1zKTtcbiAgICB9KTtcbiAgICAvLyBTaGFkZXJQcm9ncmFtLnVuYmluZCgpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG4gICAgZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLl9wcm9ncmFtKTtcbiAgfVxuXG4gIC8vIHJhd0JpbmQoKSB7XG4gIC8vICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gIC8vICAgZ2wudXNlUHJvZ3JhbSh0aGlzLl9wcm9ncmFtKTtcbiAgLy8gfVxuXG4gIGJpbmQoaW5DYWxsYmFjazogKGJvdW5kOiBJQm91bmRTaGFkZXIpID0+IHZvaWQpIHtcbiAgICBpZiAoU2hhZGVyUHJvZ3JhbS5faXNCb3VuZCAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBEb3VibGUgc2hhZGVyIGJpbmRpbmcgKGJvdW5kOiAke1NoYWRlclByb2dyYW0uX2lzQm91bmQuX25hbWV9LCBiaW5kaW5nOiAke3RoaXMuX25hbWV9KWApO1xuICAgIH1cblxuICAgIFNoYWRlclByb2dyYW0uX2lzQm91bmQgPSB0aGlzO1xuICAgIC8vIHRoaXMucmF3QmluZCgpO1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcbiAgICBnbC51c2VQcm9ncmFtKHRoaXMuX3Byb2dyYW0pO1xuXG4gICAgaW5DYWxsYmFjayh0aGlzKTtcblxuICAgIFNoYWRlclByb2dyYW0udW5iaW5kKCk7XG4gIH1cblxuICBzdGF0aWMgdW5iaW5kKCkge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIGdsLnVzZVByb2dyYW0obnVsbCk7XG4gICAgU2hhZGVyUHJvZ3JhbS5faXNCb3VuZCA9IG51bGw7XG4gIH1cblxuICBpc0JvdW5kKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBTaGFkZXJQcm9ncmFtLl9pc0JvdW5kID09PSB0aGlzO1xuICB9XG5cbiAgaGFzQXR0cmlidXRlKG5hbWU6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLl9hdHRyaWJ1dGVzLmhhcyhuYW1lKTtcbiAgfVxuXG4gIGdldEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSB0aGlzLl9hdHRyaWJ1dGVzLmdldChuYW1lKTtcbiAgICBpZiAoYXR0cmlidXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgYXR0cmlidXRlIG5vdCBmb3VuZDogJHtuYW1lfWApO1xuICAgIH1cblxuICAgIHJldHVybiBhdHRyaWJ1dGU7XG4gIH1cblxuICBnZXRVbmlmb3JtKG5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IHVuaWZvcm0gPSB0aGlzLl91bmlmb3Jtcy5nZXQobmFtZSk7XG4gICAgaWYgKHVuaWZvcm0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmlmb3JtIG5vdCBmb3VuZDogJHtuYW1lfWApO1xuICAgIH1cblxuICAgIHJldHVybiB1bmlmb3JtO1xuICB9XG5cbiAgc2V0VGV4dHVyZVVuaWZvcm0oXG4gICAgaW5OYW1lOiBzdHJpbmcsXG4gICAgaW5UZXh0dXJlOiBJVW5ib3VuZFRleHR1cmUgfCBJVW5ib3VuZFRleHR1cmVBcnJheSB8IElVbmJvdW5kQ3ViZU1hcCB8IElVbmJvdW5kRGF0YVRleHR1cmUgfCBJVW5ib3VuZERhdGFUZXh0dXJlVmVjNCxcbiAgICBpbkluZGV4OiBudW1iZXJcbiAgKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGluSW5kZXgpO1xuICAgIGdsLnVuaWZvcm0xaSh0aGlzLmdldFVuaWZvcm0oaW5OYW1lKSwgaW5JbmRleCk7XG4gICAgaW5UZXh0dXJlLnJhd0JpbmQoKTtcbiAgfVxuXG4gIHNldEludGVnZXIxVW5pZm9ybShpbk5hbWU6IHN0cmluZywgaW5WYWx1ZTogbnVtYmVyKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuICAgIGdsLnVuaWZvcm0xaSh0aGlzLmdldFVuaWZvcm0oaW5OYW1lKSwgaW5WYWx1ZSk7XG4gIH1cblxuICBzZXRJbnRlZ2VyMlVuaWZvcm0oaW5OYW1lOiBzdHJpbmcsIGluVmFsdWVYOiBudW1iZXIsIGluVmFsdWVZOiBudW1iZXIpIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG4gICAgZ2wudW5pZm9ybTJpKHRoaXMuZ2V0VW5pZm9ybShpbk5hbWUpLCBpblZhbHVlWCwgaW5WYWx1ZVkpO1xuICB9XG5cbiAgc2V0SW50ZWdlcjNVbmlmb3JtKGluTmFtZTogc3RyaW5nLCBpblZhbHVlWDogbnVtYmVyLCBpblZhbHVlWTogbnVtYmVyLCBpblZhbHVlWjogbnVtYmVyKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuICAgIGdsLnVuaWZvcm0zaSh0aGlzLmdldFVuaWZvcm0oaW5OYW1lKSwgaW5WYWx1ZVgsIGluVmFsdWVZLCBpblZhbHVlWik7XG4gIH1cblxuICBzZXRGbG9hdDFVbmlmb3JtKGluTmFtZTogc3RyaW5nLCBpblZhbHVlOiBudW1iZXIpIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG4gICAgZ2wudW5pZm9ybTFmKHRoaXMuZ2V0VW5pZm9ybShpbk5hbWUpLCBpblZhbHVlKTtcbiAgfVxuXG4gIHNldEZsb2F0MlVuaWZvcm0oaW5OYW1lOiBzdHJpbmcsIGluVmFsdWVYOiBudW1iZXIsIGluVmFsdWVZOiBudW1iZXIpIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG4gICAgZ2wudW5pZm9ybTJmKHRoaXMuZ2V0VW5pZm9ybShpbk5hbWUpLCBpblZhbHVlWCwgaW5WYWx1ZVkpO1xuICB9XG5cbiAgc2V0RmxvYXQzVW5pZm9ybShpbk5hbWU6IHN0cmluZywgaW5WYWx1ZVg6IG51bWJlciwgaW5WYWx1ZVk6IG51bWJlciwgaW5WYWx1ZVo6IG51bWJlcikge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcbiAgICBnbC51bmlmb3JtM2YodGhpcy5nZXRVbmlmb3JtKGluTmFtZSksIGluVmFsdWVYLCBpblZhbHVlWSwgaW5WYWx1ZVopO1xuICB9XG5cbiAgc2V0TWF0cml4M1VuaWZvcm0oaW5OYW1lOiBzdHJpbmcsIGluTWF0cml4OiBnbG0uUmVhZG9ubHlNYXQzKTogdm9pZCB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5nZXRVbmlmb3JtKGluTmFtZSksIGZhbHNlLCBpbk1hdHJpeCBhcyBnbG0ubWF0Myk7XG4gIH1cblxuICBzZXRNYXRyaXg0VW5pZm9ybShpbk5hbWU6IHN0cmluZywgaW5NYXRyaXg6IGdsbS5SZWFkb25seU1hdDQpIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG4gICAgZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmdldFVuaWZvcm0oaW5OYW1lKSwgZmFsc2UsIGluTWF0cml4IGFzIGdsbS5tYXQ0KTtcbiAgfVxuXG4gIHByaXZhdGUgX2dldEF0dHJpYnV0ZXMoYXR0cmlidXRlczogc3RyaW5nW10pIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG5cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXR0cmlidXRlcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5fcHJvZ3JhbSwgYXR0cmlidXRlc1tpaV0pO1xuXG4gICAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgYXR0cmlidXRlIG5vdCBmb3VuZCA9PiAke2F0dHJpYnV0ZXNbaWldfWApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9hdHRyaWJ1dGVzLnNldChhdHRyaWJ1dGVzW2lpXSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2dldFVuaWZvcm1zKHVuaWZvcm1zOiBzdHJpbmdbXSkge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB1bmlmb3Jtcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuX3Byb2dyYW0sIHVuaWZvcm1zW2lpXSk7XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVuaWZvcm0gbm90IGZvdW5kID0+ICR7dW5pZm9ybXNbaWldfWApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl91bmlmb3Jtcy5zZXQodW5pZm9ybXNbaWldLCB2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLy9cblxuICBwcml2YXRlIF9nZXRTaGFkZXIoc3JjOiBzdHJpbmcsIHR5cGU6IG51bWJlcikge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcbiAgICBpZiAoIXNoYWRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgY3JlYXRlIGEgc2hhZGVyJyk7XG4gICAgfVxuXG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3JjKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgbGV0IGVycm9yX3N0ciA9IGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKTtcbiAgICAgIGlmICghZXJyb3Jfc3RyKSBlcnJvcl9zdHIgPSAnZmFpbGVkIHRvIGNvbXBpbGUgYSBzaGFkZXInO1xuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3Jfc3RyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhZGVyO1xuICB9XG59XG4iLAogICJpbXBvcnQgeyBXZWJHTENvbnRleHQgfSBmcm9tICcuL1dlYkdMQ29udGV4dCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVuYm91bmRUZXh0dXJlIHtcbiAgaW5pdGlhbGl6ZSgpOiB2b2lkO1xuICByYXdCaW5kKCk6IHZvaWQ7XG4gIHByZUJpbmQoaW5DYWxsYmFjazogKGJvdW5kOiBJQm91bmRUZXh0dXJlKSA9PiB2b2lkKTogdm9pZDtcbiAgYmluZChpbkNhbGxiYWNrOiAoYm91bmQ6IElCb3VuZFRleHR1cmUpID0+IHZvaWQpOiB2b2lkO1xuICBnZXRXaWR0aCgpOiBudW1iZXI7XG4gIGdldEhlaWdodCgpOiBudW1iZXI7XG4gIGdldFJhd09iamVjdCgpOiBXZWJHTFRleHR1cmU7XG59XG5cbmV4cG9ydCBlbnVtIFRleHR1cmVGaWx0ZXIge1xuICBwaXhlbGF0ZWQgPSAwLFxuICBsaW5lYXIgPSAxLFxuICBtaXBtYXAgPSAyXG59XG5cbmV4cG9ydCBlbnVtIFRleHR1cmVSZXBlYXQge1xuICBub1JlcGVhdCA9IDAsXG4gIHJlcGVhdCA9IDFcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQm91bmRUZXh0dXJlIHtcbiAgbG9hZEZyb21JbWFnZShpbkltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCBtb2RlPzogVGV4dHVyZUZpbHRlciwgcmVwZWF0PzogVGV4dHVyZVJlcGVhdCk6IHZvaWQ7XG4gIGxvYWRGcm9tTWVtb3J5KFxuICAgIGluV2lkdGg6IG51bWJlcixcbiAgICBpbkhlaWdodDogbnVtYmVyLFxuICAgIGluUGl4ZWxzOiBVaW50OEFycmF5LFxuICAgIG1vZGU/OiBUZXh0dXJlRmlsdGVyLFxuICAgIHJlcGVhdD86IFRleHR1cmVSZXBlYXRcbiAgKTogdm9pZDtcbiAgYWxsb2NhdGUoaW5XaWR0aDogbnVtYmVyLCBpbkhlaWdodDogbnVtYmVyLCBtb2RlPzogVGV4dHVyZUZpbHRlciwgcmVwZWF0PzogVGV4dHVyZVJlcGVhdCk6IHZvaWQ7XG4gIGFsbG9jYXRlRGVwdGgoaW5XaWR0aDogbnVtYmVyLCBpbkhlaWdodDogbnVtYmVyLCBtb2RlPzogVGV4dHVyZUZpbHRlciwgcmVwZWF0PzogVGV4dHVyZVJlcGVhdCk6IHZvaWQ7XG4gIHJlc2l6ZShpbldpZHRoOiBudW1iZXIsIGluSGVpZ2h0OiBudW1iZXIsIG1vZGU/OiBUZXh0dXJlRmlsdGVyLCByZXBlYXQ/OiBUZXh0dXJlUmVwZWF0KTogdm9pZDtcbiAgZ2V0UmF3T2JqZWN0KCk6IFdlYkdMVGV4dHVyZTtcbn1cblxuZXhwb3J0IGNsYXNzIFRleHR1cmUgaW1wbGVtZW50cyBJVW5ib3VuZFRleHR1cmUsIElCb3VuZFRleHR1cmUge1xuICBwcml2YXRlIF93aWR0aDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfaGVpZ2h0OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF90ZXh0dXJlOiBXZWJHTFRleHR1cmUgfCBudWxsID0gbnVsbDtcblxuICBpbml0aWFsaXplKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl90ZXh0dXJlKSB0aHJvdyBuZXcgRXJyb3IoJ3RleHR1cmU6IGFscmVhZHkgaW5pdGlhbGl6ZWQnKTtcblxuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcbiAgICB0aGlzLl90ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICB9XG5cbiAgcmF3QmluZCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX3RleHR1cmUpIHRocm93IG5ldyBFcnJvcigndGV4dHVyZTogbm90IGluaXRpYWxpemVkJyk7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xuICB9XG5cbiAgcHJlQmluZChpbkNhbGxiYWNrOiAoYm91bmQ6IElCb3VuZFRleHR1cmUpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnJhd0JpbmQoKTtcbiAgICBpbkNhbGxiYWNrKHRoaXMpO1xuICB9XG5cbiAgYmluZChpbkNhbGxiYWNrOiAoYm91bmQ6IElCb3VuZFRleHR1cmUpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnByZUJpbmQoaW5DYWxsYmFjayk7XG4gICAgVGV4dHVyZS51bmJpbmQoKTtcbiAgfVxuXG4gIHN0YXRpYyB1bmJpbmQoKTogdm9pZCB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XG4gIH1cblxuICBsb2FkRnJvbUltYWdlKFxuICAgIGluSW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQsXG4gICAgbW9kZTogVGV4dHVyZUZpbHRlciA9IFRleHR1cmVGaWx0ZXIucGl4ZWxhdGVkLFxuICAgIHJlcGVhdDogVGV4dHVyZVJlcGVhdCA9IFRleHR1cmVSZXBlYXQubm9SZXBlYXRcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5fYWxsb2NhdGUoaW5JbWFnZS53aWR0aCwgaW5JbWFnZS5oZWlnaHQsIGluSW1hZ2UsIG1vZGUsIHJlcGVhdCk7XG4gIH1cblxuICBsb2FkRnJvbU1lbW9yeShcbiAgICBpbldpZHRoOiBudW1iZXIsXG4gICAgaW5IZWlnaHQ6IG51bWJlcixcbiAgICBpblBpeGVsczogVWludDhBcnJheSxcbiAgICBtb2RlOiBUZXh0dXJlRmlsdGVyID0gVGV4dHVyZUZpbHRlci5waXhlbGF0ZWQsXG4gICAgcmVwZWF0OiBUZXh0dXJlUmVwZWF0ID0gVGV4dHVyZVJlcGVhdC5ub1JlcGVhdFxuICApOiB2b2lkIHtcbiAgICB0aGlzLl9hbGxvY2F0ZShpbldpZHRoLCBpbkhlaWdodCwgaW5QaXhlbHMsIG1vZGUsIHJlcGVhdCk7XG4gIH1cblxuICBhbGxvY2F0ZShcbiAgICBpbldpZHRoOiBudW1iZXIsXG4gICAgaW5IZWlnaHQ6IG51bWJlcixcbiAgICBtb2RlOiBUZXh0dXJlRmlsdGVyID0gVGV4dHVyZUZpbHRlci5waXhlbGF0ZWQsXG4gICAgcmVwZWF0OiBUZXh0dXJlUmVwZWF0ID0gVGV4dHVyZVJlcGVhdC5ub1JlcGVhdFxuICApOiB2b2lkIHtcbiAgICB0aGlzLl9hbGxvY2F0ZShpbldpZHRoLCBpbkhlaWdodCwgbnVsbCwgbW9kZSwgcmVwZWF0KTtcbiAgfVxuXG4gIGFsbG9jYXRlRGVwdGgoXG4gICAgaW5XaWR0aDogbnVtYmVyLFxuICAgIGluSGVpZ2h0OiBudW1iZXIsXG4gICAgbW9kZTogVGV4dHVyZUZpbHRlciA9IFRleHR1cmVGaWx0ZXIucGl4ZWxhdGVkLFxuICAgIHJlcGVhdDogVGV4dHVyZVJlcGVhdCA9IFRleHR1cmVSZXBlYXQubm9SZXBlYXRcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5fYWxsb2NhdGUoaW5XaWR0aCwgaW5IZWlnaHQsIG51bGwsIG1vZGUsIHJlcGVhdCwgdHJ1ZSk7XG4gIH1cblxuICByZXNpemUoXG4gICAgaW5XaWR0aDogbnVtYmVyLFxuICAgIGluSGVpZ2h0OiBudW1iZXIsXG4gICAgbW9kZTogVGV4dHVyZUZpbHRlciA9IFRleHR1cmVGaWx0ZXIucGl4ZWxhdGVkLFxuICAgIHJlcGVhdDogVGV4dHVyZVJlcGVhdCA9IFRleHR1cmVSZXBlYXQubm9SZXBlYXRcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5fYWxsb2NhdGUoaW5XaWR0aCwgaW5IZWlnaHQsIG51bGwsIG1vZGUsIHJlcGVhdCk7XG4gIH1cblxuICBwcml2YXRlIF9hbGxvY2F0ZShcbiAgICBpbldpZHRoOiBudW1iZXIsXG4gICAgaW5IZWlnaHQ6IG51bWJlcixcbiAgICBpblBpeGVsczogVWludDhBcnJheSB8IEhUTUxJbWFnZUVsZW1lbnQgfCBudWxsID0gbnVsbCxcbiAgICBtb2RlOiBUZXh0dXJlRmlsdGVyID0gVGV4dHVyZUZpbHRlci5waXhlbGF0ZWQsXG4gICAgcmVwZWF0OiBUZXh0dXJlUmVwZWF0ID0gVGV4dHVyZVJlcGVhdC5ub1JlcGVhdCxcbiAgICBpc0RlcHRoVGV4dHVyZTogYm9vbGVhbiA9IGZhbHNlXG4gICk6IHZvaWQge1xuICAgIGlmICghdGhpcy5fdGV4dHVyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0ZXh0dXJlOiBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICB9XG4gICAgaWYgKGluV2lkdGggPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0ZXh0dXJlOiB3aWR0aCBtdXN0IGJlIHBvc2l0aXZlJyk7XG4gICAgfVxuICAgIGlmIChpbkhlaWdodCA8PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RleHR1cmU6IGhlaWdodCBtdXN0IGJlIHBvc2l0aXZlJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgdGhpcy5fd2lkdGggPSBpbldpZHRoO1xuICAgIHRoaXMuX2hlaWdodCA9IGluSGVpZ2h0O1xuXG4gICAgY29uc3QgbGV2ZWwgPSAwO1xuICAgIGNvbnN0IGludGVybmFsRm9ybWF0ID0gaXNEZXB0aFRleHR1cmUgPyBnbC5ERVBUSF9DT01QT05FTlQzMkYgOiBnbC5SR0JBO1xuICAgIGNvbnN0IGJvcmRlciA9IDA7XG4gICAgY29uc3Qgc3JjRm9ybWF0ID0gaXNEZXB0aFRleHR1cmUgPyBnbC5ERVBUSF9DT01QT05FTlQgOiBnbC5SR0JBO1xuICAgIGNvbnN0IHNyY1R5cGUgPSBpc0RlcHRoVGV4dHVyZSA/IGdsLkZMT0FUIDogZ2wuVU5TSUdORURfQllURTtcblxuICAgIGlmIChpblBpeGVscyBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgbGV2ZWwsIGludGVybmFsRm9ybWF0LCBzcmNGb3JtYXQsIHNyY1R5cGUsIGluUGl4ZWxzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCBsZXZlbCwgaW50ZXJuYWxGb3JtYXQsIGluV2lkdGgsIGluSGVpZ2h0LCBib3JkZXIsIHNyY0Zvcm1hdCwgc3JjVHlwZSwgaW5QaXhlbHMpO1xuICAgIH1cblxuICAgIGlmIChyZXBlYXQgPT09IFRleHR1cmVSZXBlYXQubm9SZXBlYXQpIHtcbiAgICAgIC8vIHdyYXBwaW5nIHRvIGNsYW1wIHRvIGVkZ2VcbiAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgfSBlbHNlIGlmIChyZXBlYXQgPT09IFRleHR1cmVSZXBlYXQucmVwZWF0KSB7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5SRVBFQVQpO1xuICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuUkVQRUFUKTtcbiAgICB9XG5cbiAgICBpZiAobW9kZSA9PT0gVGV4dHVyZUZpbHRlci5waXhlbGF0ZWQpIHtcbiAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcbiAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKTtcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFRleHR1cmVGaWx0ZXIubGluZWFyKSB7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gVGV4dHVyZUZpbHRlci5taXBtYXApIHtcbiAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xuICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUl9NSVBNQVBfTElORUFSKTtcbiAgICB9XG4gIH1cblxuICBnZXRXaWR0aCgpOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5fdGV4dHVyZSkgdGhyb3cgbmV3IEVycm9yKCd0ZXh0dXJlIG5vdCBpbml0aWFsaXplZCcpO1xuXG4gICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICB9XG5cbiAgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLl90ZXh0dXJlKSB0aHJvdyBuZXcgRXJyb3IoJ3RleHR1cmUgbm90IGluaXRpYWxpemVkJyk7XG5cbiAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICB9XG5cbiAgZ2V0UmF3T2JqZWN0KCkge1xuICAgIGlmICghdGhpcy5fdGV4dHVyZSkgdGhyb3cgbmV3IEVycm9yKCd0ZXh0dXJlIG5vdCBpbml0aWFsaXplZCcpO1xuXG4gICAgLy8gVE9ETzogdGhpcyBpcyB1Z2x5XG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gIH1cbn1cbiIsCiAgImltcG9ydCB7IFRleHR1cmVGaWx0ZXIsIFRleHR1cmVSZXBlYXQgfSBmcm9tICcuL1RleHR1cmUnO1xuaW1wb3J0IHsgV2ViR0xDb250ZXh0IH0gZnJvbSAnLi9XZWJHTENvbnRleHQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElVbmJvdW5kVGV4dHVyZUFycmF5IHtcbiAgaW5pdGlhbGl6ZSgpOiB2b2lkO1xuICByYXdCaW5kKCk6IHZvaWQ7XG4gIHByZUJpbmQoaW5DYWxsYmFjazogKGJvdW5kOiBJQm91bmRUZXh0dXJlQXJyYXkpID0+IHZvaWQpOiB2b2lkO1xuICBiaW5kKGluQ2FsbGJhY2s6IChib3VuZDogSUJvdW5kVGV4dHVyZUFycmF5KSA9PiB2b2lkKTogdm9pZDtcbiAgZ2V0V2lkdGgoKTogbnVtYmVyO1xuICBnZXRIZWlnaHQoKTogbnVtYmVyO1xuICBnZXRSYXdPYmplY3QoKTogV2ViR0xUZXh0dXJlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElCb3VuZFRleHR1cmVBcnJheSB7XG4gIGxvYWRGcm9tSW1hZ2UoXG4gICAgaW5XaWR0aDogbnVtYmVyLFxuICAgIGluSGVpZ2h0OiBudW1iZXIsXG4gICAgaW5Ub3RhbExheWVyczogbnVtYmVyLFxuICAgIGluSW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQsXG4gICAgbW9kZT86IFRleHR1cmVGaWx0ZXIsXG4gICAgcmVwZWF0PzogVGV4dHVyZVJlcGVhdFxuICApOiB2b2lkO1xuICBsb2FkRnJvbU1lbW9yeShcbiAgICBpbldpZHRoOiBudW1iZXIsXG4gICAgaW5IZWlnaHQ6IG51bWJlcixcbiAgICBpblRvdGFsTGF5ZXJzOiBudW1iZXIsXG4gICAgaW5QaXhlbHM6IFVpbnQ4QXJyYXksXG4gICAgbW9kZT86IFRleHR1cmVGaWx0ZXIsXG4gICAgcmVwZWF0PzogVGV4dHVyZVJlcGVhdFxuICApOiB2b2lkO1xuICBnZXRSYXdPYmplY3QoKTogV2ViR0xUZXh0dXJlO1xufVxuXG5leHBvcnQgY2xhc3MgVGV4dHVyZUFycmF5IGltcGxlbWVudHMgSVVuYm91bmRUZXh0dXJlQXJyYXksIElCb3VuZFRleHR1cmVBcnJheSB7XG4gIHByaXZhdGUgX3dpZHRoOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9oZWlnaHQ6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX3RleHR1cmU6IFdlYkdMVGV4dHVyZSB8IG51bGwgPSBudWxsO1xuXG4gIGluaXRpYWxpemUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3RleHR1cmUpIHRocm93IG5ldyBFcnJvcigndGV4dHVyZTogYWxyZWFkeSBpbml0aWFsaXplZCcpO1xuXG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuICAgIHRoaXMuX3RleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcbiAgICBnbC5kZWxldGVUZXh0dXJlKHRoaXMuX3RleHR1cmUpO1xuICB9XG5cbiAgcmF3QmluZCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX3RleHR1cmUpIHRocm93IG5ldyBFcnJvcigndGV4dHVyZTogbm90IGluaXRpYWxpemVkJyk7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkRfQVJSQVksIHRoaXMuX3RleHR1cmUpO1xuICB9XG5cbiAgcHJlQmluZChpbkNhbGxiYWNrOiAoYm91bmQ6IElCb3VuZFRleHR1cmVBcnJheSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMucmF3QmluZCgpO1xuICAgIGluQ2FsbGJhY2sodGhpcyk7XG4gIH1cblxuICBiaW5kKGluQ2FsbGJhY2s6IChib3VuZDogSUJvdW5kVGV4dHVyZUFycmF5KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5wcmVCaW5kKGluQ2FsbGJhY2spO1xuICAgIFRleHR1cmVBcnJheS51bmJpbmQoKTtcbiAgfVxuXG4gIHN0YXRpYyB1bmJpbmQoKTogdm9pZCB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRF9BUlJBWSwgbnVsbCk7XG4gIH1cblxuICBsb2FkRnJvbUltYWdlKFxuICAgIGluV2lkdGg6IG51bWJlcixcbiAgICBpbkhlaWdodDogbnVtYmVyLFxuICAgIGluVG90YWxMYXllcnM6IG51bWJlcixcbiAgICBpbkltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LFxuICAgIG1vZGU6IFRleHR1cmVGaWx0ZXIgPSBUZXh0dXJlRmlsdGVyLnBpeGVsYXRlZCxcbiAgICByZXBlYXQ6IFRleHR1cmVSZXBlYXQgPSBUZXh0dXJlUmVwZWF0Lm5vUmVwZWF0XG4gICk6IHZvaWQge1xuICAgIHRoaXMuX2FsbG9jYXRlKGluV2lkdGgsIGluSGVpZ2h0LCBpblRvdGFsTGF5ZXJzLCBpbkltYWdlLCBtb2RlLCByZXBlYXQpO1xuICB9XG5cbiAgbG9hZEZyb21NZW1vcnkoXG4gICAgaW5XaWR0aDogbnVtYmVyLFxuICAgIGluSGVpZ2h0OiBudW1iZXIsXG4gICAgaW5Ub3RhbExheWVyczogbnVtYmVyLFxuICAgIGluUGl4ZWxzOiBVaW50OEFycmF5LFxuICAgIG1vZGU6IFRleHR1cmVGaWx0ZXIgPSBUZXh0dXJlRmlsdGVyLnBpeGVsYXRlZCxcbiAgICByZXBlYXQ6IFRleHR1cmVSZXBlYXQgPSBUZXh0dXJlUmVwZWF0Lm5vUmVwZWF0XG4gICk6IHZvaWQge1xuICAgIHRoaXMuX2FsbG9jYXRlKGluV2lkdGgsIGluSGVpZ2h0LCBpblRvdGFsTGF5ZXJzLCBpblBpeGVscywgbW9kZSwgcmVwZWF0KTtcbiAgfVxuXG4gIHByaXZhdGUgX2FsbG9jYXRlKFxuICAgIGluV2lkdGg6IG51bWJlcixcbiAgICBpbkhlaWdodDogbnVtYmVyLFxuICAgIGluVG90YWxMYXllcnM6IG51bWJlcixcbiAgICBpblBpeGVsczogVWludDhBcnJheSB8IEhUTUxJbWFnZUVsZW1lbnQgfCBudWxsID0gbnVsbCxcbiAgICBtb2RlOiBUZXh0dXJlRmlsdGVyID0gVGV4dHVyZUZpbHRlci5waXhlbGF0ZWQsXG4gICAgcmVwZWF0OiBUZXh0dXJlUmVwZWF0ID0gVGV4dHVyZVJlcGVhdC5ub1JlcGVhdFxuICApOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX3RleHR1cmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndGV4dHVyZTogbm90IGluaXRpYWxpemVkJyk7XG4gICAgfVxuICAgIGlmIChpbldpZHRoIDw9IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndGV4dHVyZTogd2lkdGggbXVzdCBiZSBwb3NpdGl2ZScpO1xuICAgIH1cbiAgICBpZiAoaW5IZWlnaHQgPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0ZXh0dXJlOiBoZWlnaHQgbXVzdCBiZSBwb3NpdGl2ZScpO1xuICAgIH1cblxuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIHRoaXMuX3dpZHRoID0gaW5XaWR0aDtcbiAgICB0aGlzLl9oZWlnaHQgPSBpbkhlaWdodDtcblxuICAgIGNvbnN0IGxldmVsID0gMDtcbiAgICBjb25zdCBpbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgY29uc3QgYm9yZGVyID0gMDtcbiAgICBjb25zdCBzcmNGb3JtYXQgPSBnbC5SR0JBO1xuICAgIGNvbnN0IHNyY1R5cGUgPSBnbC5VTlNJR05FRF9CWVRFO1xuXG4gICAgaWYgKGluUGl4ZWxzIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgZ2wudGV4SW1hZ2UzRChcbiAgICAgICAgZ2wuVEVYVFVSRV8yRF9BUlJBWSxcbiAgICAgICAgbGV2ZWwsXG4gICAgICAgIGludGVybmFsRm9ybWF0LFxuICAgICAgICBpbldpZHRoLFxuICAgICAgICBpbkhlaWdodCxcbiAgICAgICAgaW5Ub3RhbExheWVycyxcbiAgICAgICAgYm9yZGVyLFxuICAgICAgICBzcmNGb3JtYXQsXG4gICAgICAgIHNyY1R5cGUsXG4gICAgICAgIGluUGl4ZWxzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC50ZXhJbWFnZTNEKFxuICAgICAgICBnbC5URVhUVVJFXzJEX0FSUkFZLFxuICAgICAgICBsZXZlbCxcbiAgICAgICAgaW50ZXJuYWxGb3JtYXQsXG4gICAgICAgIGluV2lkdGgsXG4gICAgICAgIGluSGVpZ2h0LFxuICAgICAgICBpblRvdGFsTGF5ZXJzLFxuICAgICAgICBib3JkZXIsXG4gICAgICAgIHNyY0Zvcm1hdCxcbiAgICAgICAgc3JjVHlwZSxcbiAgICAgICAgaW5QaXhlbHNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHJlcGVhdCA9PT0gVGV4dHVyZVJlcGVhdC5ub1JlcGVhdCkge1xuICAgICAgLy8gd3JhcHBpbmcgdG8gY2xhbXAgdG8gZWRnZVxuICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJEX0FSUkFZLCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkRfQVJSQVksIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICB9IGVsc2UgaWYgKHJlcGVhdCA9PT0gVGV4dHVyZVJlcGVhdC5yZXBlYXQpIHtcbiAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRF9BUlJBWSwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLlJFUEVBVCk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkRfQVJSQVksIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5SRVBFQVQpO1xuICAgIH1cblxuICAgIGlmIChtb2RlID09PSBUZXh0dXJlRmlsdGVyLnBpeGVsYXRlZCkge1xuICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJEX0FSUkFZLCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJEX0FSUkFZLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gVGV4dHVyZUZpbHRlci5saW5lYXIpIHtcbiAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRF9BUlJBWSwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJEX0FSUkFZLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgfSBlbHNlIGlmIChtb2RlID09PSBUZXh0dXJlRmlsdGVyLm1pcG1hcCkge1xuICAgICAgZ2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV8yRF9BUlJBWSk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkRfQVJSQVksIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkRfQVJSQVksIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSX01JUE1BUF9MSU5FQVIpO1xuICAgIH1cbiAgfVxuXG4gIGdldFdpZHRoKCk6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLl90ZXh0dXJlKSB0aHJvdyBuZXcgRXJyb3IoJ3RleHR1cmUgbm90IGluaXRpYWxpemVkJyk7XG5cbiAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gIH1cblxuICBnZXRIZWlnaHQoKTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMuX3RleHR1cmUpIHRocm93IG5ldyBFcnJvcigndGV4dHVyZSBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gIH1cblxuICBnZXRSYXdPYmplY3QoKSB7XG4gICAgaWYgKCF0aGlzLl90ZXh0dXJlKSB0aHJvdyBuZXcgRXJyb3IoJ3RleHR1cmUgbm90IGluaXRpYWxpemVkJyk7XG5cbiAgICAvLyBUT0RPOiB0aGlzIGlzIHVnbHlcbiAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgfVxufVxuIiwKICAiZXhwb3J0IGRlZmF1bHQgYFxuI3ZlcnNpb24gMzAwIGVzXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxudW5pZm9ybSBtYXQ0IHVfY29tcG9zZWRNYXRyaXg7XG5cbmluIHZlYzMgYV92ZXJ0ZXhfcG9zaXRpb247XG5pbiB2ZWMzIGFfdmVydGV4X25vcm1hbDtcblxuaW4gdmVjMyBhX29mZnNldF9jZW50ZXI7XG5pbiB2ZWM0IGFfb2Zmc2V0X29yaWVudGF0aW9uO1xuaW4gdmVjMyBhX29mZnNldF9jb2xvcjtcbmluIHZlYzMgYV9vZmZzZXRfc2NhbGU7XG5cbmZsYXQgb3V0IHZlYzQgdl9jb2xvcjtcbm91dCB2ZWMzIHZfd29ybGRTcGFjZVBvc2l0aW9uO1xub3V0IHZlYzMgdl93b3JsZFNwYWNlTm9ybWFsO1xuXG5cbnZlYzMgYXBwbHlfcXVhdF90b192ZWMzKHZlYzMgcG9zaXRpb24sIHZlYzQgcSlcbntcbiAgdmVjMyB2ID0gcG9zaXRpb24ueHl6O1xuICByZXR1cm4gdiArIDIuMCAqIGNyb3NzKHEueHl6LCBjcm9zcyhxLnh5eiwgdikgKyBxLncgKiB2KTtcbn1cblxudm9pZCBtYWluKHZvaWQpXG57XG5cdHZlYzMgd29ybGRTcGFjZVBvc2l0aW9uID0gYV9vZmZzZXRfY2VudGVyICsgYXBwbHlfcXVhdF90b192ZWMzKGFfdmVydGV4X3Bvc2l0aW9uICogYV9vZmZzZXRfc2NhbGUsIGFfb2Zmc2V0X29yaWVudGF0aW9uKTtcblx0dmVjMyB3b3JsZFNwYWNlTm9ybWFsID0gYXBwbHlfcXVhdF90b192ZWMzKGFfdmVydGV4X25vcm1hbCwgYV9vZmZzZXRfb3JpZW50YXRpb24pO1xuXG4gIGdsX1Bvc2l0aW9uID0gdV9jb21wb3NlZE1hdHJpeCAqIHZlYzQod29ybGRTcGFjZVBvc2l0aW9uLCAxLjApO1xuXG4gIHZfY29sb3IgPSB2ZWM0KGFfb2Zmc2V0X2NvbG9yLCAxLjApO1xuICB2X3dvcmxkU3BhY2VQb3NpdGlvbiA9IHdvcmxkU3BhY2VQb3NpdGlvbjtcbiAgdl93b3JsZFNwYWNlTm9ybWFsID0gd29ybGRTcGFjZU5vcm1hbDtcbn1cbmAudHJpbSgpOyIsCiAgImV4cG9ydCBkZWZhdWx0IGBcbiN2ZXJzaW9uIDMwMCBlc1xuXG5wcmVjaXNpb24gbG93cCBmbG9hdDtcblxudW5pZm9ybSB2ZWMzIHVfbGlnaHRQb3M7XG5cbmZsYXQgaW4gdmVjNCB2X2NvbG9yO1xuaW4gdmVjMyB2X3dvcmxkU3BhY2VQb3NpdGlvbjtcbmluIHZlYzMgdl93b3JsZFNwYWNlTm9ybWFsO1xuXG5vdXQgdmVjNCBvX2NvbG9yO1xuXG4vL1xuLy9cbi8vXG5cbmNvbnN0IGZsb2F0IGtfYW1iaWFudENvZWYgPSAwLjE7XG5cbmNvbnN0IHZlYzMga19zcGVjQ29sb3IgPSB2ZWMzKDEuMCwgMS4wLCAxLjApO1xuXG52ZWMzIF9nZXRMaWdodENvbG9yKHZlYzQgY3VycmVudENvbG9yKVxue1xuICB2ZWMzIG5vcm1hbCA9IG5vcm1hbGl6ZSh2X3dvcmxkU3BhY2VOb3JtYWwpO1xuICB2ZWMzIGxpZ2h0RGlyID0gbm9ybWFsaXplKHVfbGlnaHRQb3MgLSB2X3dvcmxkU3BhY2VQb3NpdGlvbik7XG5cbiAgZmxvYXQgZGlmZnVzZUNvZWYgPSBtYXgoZG90KGxpZ2h0RGlyLCB2X3dvcmxkU3BhY2VOb3JtYWwueHl6KSwgMC4wKTtcbiAgZmxvYXQgc3BlY3VsYXJDb2VmID0gMC4wO1xuXG4gIC8vIGlmIChkaWZmdXNlQ29lZiA+IDAuMCAmJiB2X3NraXBTcGVjdWxhciA8IDAuNSlcbiAgLy8ge1xuICAvLyAgIC8vIHNwZWN1bGFyXG5cbiAgLy8gICB2ZWMzIHJlZmxlY3REaXIgPSByZWZsZWN0KC1saWdodERpciwgbm9ybWFsKTtcbiAgLy8gICB2ZWMzIHZpZXdEaXIgPSBub3JtYWxpemUodV9saWdodFBvcyAtIHZfd29ybGRTcGFjZVBvc2l0aW9uKTtcblxuICAvLyAgIGZsb2F0IHNwZWNBbmdsZSA9IG1heChkb3QocmVmbGVjdERpciwgdmlld0RpciksIDAuMCk7XG4gIC8vICAgc3BlY3VsYXJDb2VmID0gcG93KHNwZWNBbmdsZSwgMzIuMCk7XG4gIC8vIH1cblxuICB2ZWMzIGRpZmZ1c2VDb2xvciA9IGN1cnJlbnRDb2xvci5yZ2IgKiAoa19hbWJpYW50Q29lZiArIGRpZmZ1c2VDb2VmKTtcbiAgdmVjMyBzcGVjdWxhckNvbG9yID0ga19zcGVjQ29sb3IgKiBzcGVjdWxhckNvZWYgKiBjdXJyZW50Q29sb3IuYTtcblxuICByZXR1cm4gZGlmZnVzZUNvbG9yICsgc3BlY3VsYXJDb2xvcjtcbn1cblxuLy9cbi8vXG4vL1xuXG52b2lkIG1haW4odm9pZClcbntcbiAgb19jb2xvciA9IHZlYzQoX2dldExpZ2h0Q29sb3Iodl9jb2xvciksIDEuMCk7XG59XG5gLnRyaW0oKTsiLAogICJpbXBvcnQgKiBhcyB3ZWJnbDIgZnJvbSAnLi4vLi4vLi4vZ3JhcGhpY3Mvd2ViZ2wyJztcbmltcG9ydCB7IElDYW1lcmEgfSBmcm9tICcuLi8uLi8uLi9ncmFwaGljcy9jYW1lcmEnO1xuXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgc3RhY2tSZW5kZXJlclZlcnRleCBmcm9tICcuL3NoYWRlcnMvZ2VvbWV0cnktcmVuZGVyZXIuZ2xzbC52ZXJ0Jztcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBzdGFja1JlbmRlcmVyRnJhZ21lbnQgZnJvbSAnLi9zaGFkZXJzL2dlb21ldHJ5LXJlbmRlcmVyLmdsc2wuZnJhZyc7XG5cbmltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG5jb25zdCBrX2J1ZmZlclNpemUgPSAxNCAqIDEwMjQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVZlcnRleCB7XG4gIHBvczogZ2xtLnZlYzM7XG4gIG5vcm1hbDogZ2xtLnZlYzM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUdlb21ldHJ5UmVuZGVyZXIge1xuICBwdXNoKFxuICAgIGluUG9pbnRBOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluUXVhdDogZ2xtLlJlYWRvbmx5UXVhdCxcbiAgICBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluU2NhbGU6IGdsbS5SZWFkb25seVZlYzNcbiAgKTogdm9pZDtcbiAgZmx1c2goaW5DYW1lcmE6IElDYW1lcmEpOiB2b2lkO1xuICBjbGVhcigpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgR2VvbWV0cnlSZW5kZXJlciBpbXBsZW1lbnRzIElHZW9tZXRyeVJlbmRlcmVyIHtcbiAgcHJpdmF0ZSBfc2hhZGVyOiB3ZWJnbDIuSVVuYm91bmRTaGFkZXI7XG4gIHByaXZhdGUgX2dlb21ldHJ5OiB3ZWJnbDIuR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5O1xuXG4gIHByaXZhdGUgX2J1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoa19idWZmZXJTaXplKTtcbiAgcHJpdmF0ZSBfY3VycmVudFNpemU6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fc2hhZGVyID0gbmV3IHdlYmdsMi5TaGFkZXJQcm9ncmFtKCdHZW9tZXRyeVJlbmRlcmVyJywge1xuICAgICAgdmVydGV4U3JjOiBzdGFja1JlbmRlcmVyVmVydGV4LFxuICAgICAgZnJhZ21lbnRTcmM6IHN0YWNrUmVuZGVyZXJGcmFnbWVudCxcbiAgICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgJ2FfdmVydGV4X3Bvc2l0aW9uJyxcbiAgICAgICAgJ2FfdmVydGV4X25vcm1hbCcsXG4gICAgICAgICdhX29mZnNldF9jZW50ZXInLFxuICAgICAgICAnYV9vZmZzZXRfb3JpZW50YXRpb24nLFxuICAgICAgICAnYV9vZmZzZXRfY29sb3InLFxuICAgICAgICAnYV9vZmZzZXRfc2NhbGUnXG4gICAgICBdLFxuICAgICAgdW5pZm9ybXM6IFsndV9jb21wb3NlZE1hdHJpeCcsICd1X2xpZ2h0UG9zJ11cbiAgICB9KTtcblxuICAgIGNvbnN0IGdlb0J1aWxkZXIgPSBuZXcgd2ViZ2wyLkdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeUJ1aWxkZXIoKTtcbiAgICBnZW9CdWlsZGVyXG4gICAgICAucmVzZXQoKVxuICAgICAgLnNldFByaW1pdGl2ZVR5cGUoJ3RyaWFuZ2xlcycpXG4gICAgICAuYWRkVmJvKClcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2FfdmVydGV4X3Bvc2l0aW9uJywgJ3ZlYzNmJylcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2FfdmVydGV4X25vcm1hbCcsICd2ZWMzZicpXG4gICAgICAvLyAuc2V0U3RyaWRlKDMgKiA0ICogNilcbiAgICAgIC5hZGRWYm8oKVxuICAgICAgLnNldFZib0FzU3RyZWFtaW5nKClcbiAgICAgIC5zZXRWYm9Bc0luc3RhbmNlZCgpXG4gICAgICAuYWRkVmJvQXR0cmlidXRlKCdhX29mZnNldF9jZW50ZXInLCAndmVjM2YnKVxuICAgICAgLmFkZFZib0F0dHJpYnV0ZSgnYV9vZmZzZXRfb3JpZW50YXRpb24nLCAndmVjNGYnKVxuICAgICAgLmFkZFZib0F0dHJpYnV0ZSgnYV9vZmZzZXRfY29sb3InLCAndmVjM2YnKVxuICAgICAgLmFkZFZib0F0dHJpYnV0ZSgnYV9vZmZzZXRfc2NhbGUnLCAndmVjM2YnKTtcblxuICAgIHRoaXMuX2dlb21ldHJ5ID0gbmV3IHdlYmdsMi5HZW9tZXRyeVdyYXBwZXIuR2VvbWV0cnkodGhpcy5fc2hhZGVyLCBnZW9CdWlsZGVyLmdldERlZigpKTtcbiAgICB0aGlzLl9nZW9tZXRyeS5zZXRGbG9hdEJ1ZmZlclNpemUoMSwga19idWZmZXJTaXplKTtcbiAgfVxuXG4gIHNldEdlb21ldHJ5VmVydGljZXModmVydGljZXM6IElWZXJ0ZXhbXSkge1xuICAgIGNvbnN0IGJ1ZiA9IG5ldyBGbG9hdDMyQXJyYXkoWy4uLnZlcnRpY2VzLm1hcCgodmFsKSA9PiBbLi4udmFsLnBvcywgLi4udmFsLm5vcm1hbF0pLmZsYXQoKV0pO1xuICAgIC8vIGNvbnN0IGJ1ZiA9IG5ldyBGbG9hdDMyQXJyYXkoWy4uLnZlcnRpY2VzLm1hcCh2YWwgPT4gWy4uLnZhbC5wb3NdKS5mbGF0KCldKTtcbiAgICB0aGlzLl9nZW9tZXRyeS5hbGxvY2F0ZUJ1ZmZlcigwLCBidWYsIGJ1Zi5sZW5ndGgpO1xuICAgIHRoaXMuX2dlb21ldHJ5LnNldFByaW1pdGl2ZUNvdW50KGJ1Zi5sZW5ndGggLyA2KTtcbiAgfVxuXG4gIHB1c2goaW5Qb2ludEE6IGdsbS5SZWFkb25seVZlYzMsIGluUXVhdDogZ2xtLlJlYWRvbmx5UXVhdCwgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMywgaW5TY2FsZTogZ2xtLlJlYWRvbmx5VmVjMykge1xuICAgIGlmICh0aGlzLl9jdXJyZW50U2l6ZSArIDEzID49IHRoaXMuX2J1ZmZlci5sZW5ndGgpIHtcbiAgICAgIGlmICh0aGlzLl9zaGFkZXIuaXNCb3VuZCgpKSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5Qb2ludEFbMF07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5Qb2ludEFbMV07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5Qb2ludEFbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5RdWF0WzBdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IGluUXVhdFsxXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpblF1YXRbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5RdWF0WzNdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IGluQ29sb3JbMF07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5Db2xvclsxXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpbkNvbG9yWzJdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IGluU2NhbGVbMF07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5TY2FsZVsxXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpblNjYWxlWzJdO1xuICAgIC8vIHRoaXMuX2N1cnJlbnRTaXplICs9IDY7XG4gIH1cblxuICBmbHVzaChpbkNhbWVyYTogSUNhbWVyYSkge1xuICAgIGlmICghdGhpcy5jYW5SZW5kZXIoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3NoYWRlci5iaW5kKChib3VuZCkgPT4ge1xuICAgICAgYm91bmQuc2V0TWF0cml4NFVuaWZvcm0oJ3VfY29tcG9zZWRNYXRyaXgnLCBpbkNhbWVyYS5nZXRDb21wb3NlZE1hdHJpeCgpKTtcbiAgICAgIGNvbnN0IGV5ZVBvcyA9IGluQ2FtZXJhLmdldEV5ZSgpO1xuICAgICAgYm91bmQuc2V0RmxvYXQzVW5pZm9ybSgndV9saWdodFBvcycsIGV5ZVBvc1swXSwgZXllUG9zWzFdLCBleWVQb3NbMl0pO1xuXG4gICAgICB0aGlzLl9mbHVzaCgpO1xuICAgIH0pO1xuICB9XG5cbiAgc2FmZVJlbmRlcihpbkNhbWVyYTogSUNhbWVyYSwgaW5DYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgIHRoaXMuX3NoYWRlci5iaW5kKChib3VuZCkgPT4ge1xuICAgICAgYm91bmQuc2V0TWF0cml4NFVuaWZvcm0oJ3VfY29tcG9zZWRNYXRyaXgnLCBpbkNhbWVyYS5nZXRDb21wb3NlZE1hdHJpeCgpKTtcbiAgICAgIGNvbnN0IGV5ZVBvcyA9IGluQ2FtZXJhLmdldEV5ZSgpO1xuICAgICAgYm91bmQuc2V0RmxvYXQzVW5pZm9ybSgndV9saWdodFBvcycsIGV5ZVBvc1swXSwgZXllUG9zWzFdLCBleWVQb3NbMl0pO1xuXG4gICAgICBpbkNhbGxiYWNrKCk7XG5cbiAgICAgIHRoaXMuX2ZsdXNoKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9mbHVzaCgpIHtcbiAgICB0aGlzLl9nZW9tZXRyeS51cGRhdGVCdWZmZXIoMSwgdGhpcy5fYnVmZmVyLCB0aGlzLl9jdXJyZW50U2l6ZSwgMCk7XG4gICAgdGhpcy5fZ2VvbWV0cnkuc2V0SW5zdGFuY2VkQ291bnQodGhpcy5fY3VycmVudFNpemUgLyAxMyk7XG5cbiAgICB0aGlzLl9nZW9tZXRyeS5yZW5kZXIoKTtcblxuICAgIHRoaXMuY2xlYXIoKTtcbiAgfVxuXG4gIGNhblJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudFNpemUgPiAwO1xuICB9XG5cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5fY3VycmVudFNpemUgPSAwO1xuICB9XG59XG4iLAogICJleHBvcnQgZGVmYXVsdCBgXG4jdmVyc2lvbiAzMDAgZXNcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG51bmlmb3JtIG1hdDQgdV9jb21wb3NlZE1hdHJpeDtcblxuaW4gdmVjMyBhX3ZlcnRleF9wb3NpdGlvbjtcblxuaW4gdmVjMyBhX29mZnNldF9jZW50ZXI7XG5pbiB2ZWM0IGFfb2Zmc2V0X29yaWVudGF0aW9uO1xuaW4gdmVjMyBhX29mZnNldF9jb2xvcjtcbmluIHZlYzMgYV9vZmZzZXRfc2NhbGU7XG5cbmZsYXQgb3V0IHZlYzQgdl9jb2xvcjtcblxudmVjMyBhcHBseV9xdWF0X3RvX3ZlYzModmVjMyBwb3NpdGlvbiwgdmVjNCBxKVxue1xuICB2ZWMzIHYgPSBwb3NpdGlvbi54eXo7XG4gIHJldHVybiB2ICsgMi4wICogY3Jvc3MocS54eXosIGNyb3NzKHEueHl6LCB2KSArIHEudyAqIHYpO1xufVxuXG52b2lkIG1haW4odm9pZClcbntcblx0dmVjMyB3b3JsZFNwYWNlUG9zaXRpb24gPSBhX29mZnNldF9jZW50ZXIgKyBhcHBseV9xdWF0X3RvX3ZlYzMoYV92ZXJ0ZXhfcG9zaXRpb24gKiBhX29mZnNldF9zY2FsZSwgYV9vZmZzZXRfb3JpZW50YXRpb24pO1xuXG4gIGdsX1Bvc2l0aW9uID0gdV9jb21wb3NlZE1hdHJpeCAqIHZlYzQod29ybGRTcGFjZVBvc2l0aW9uLCAxLjApO1xuXG4gIHZfY29sb3IgPSB2ZWM0KGFfb2Zmc2V0X2NvbG9yLCAxLjApO1xufVxuYC50cmltKCk7IiwKICAiZXhwb3J0IGRlZmF1bHQgYFxuI3ZlcnNpb24gMzAwIGVzXG5cbnByZWNpc2lvbiBsb3dwIGZsb2F0O1xuXG5mbGF0IGluIHZlYzQgdl9jb2xvcjtcblxub3V0IHZlYzQgb19jb2xvcjtcblxudm9pZCBtYWluKHZvaWQpXG57XG4gIG9fY29sb3IgPSB2ZWM0KHZfY29sb3IucmJnLCAxLjApO1xufVxuYC50cmltKCk7IiwKICAiaW1wb3J0ICogYXMgd2ViZ2wyIGZyb20gJy4uLy4uLy4uL2dyYXBoaWNzL3dlYmdsMic7XG5pbXBvcnQgeyBJQ2FtZXJhIH0gZnJvbSAnLi4vLi4vLi4vZ3JhcGhpY3MvY2FtZXJhJztcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHN0YWNrUmVuZGVyZXJWZXJ0ZXggZnJvbSAnLi9zaGFkZXJzL2dlb21ldHJ5LXJlbmRlcmVyLWZsYXQuZ2xzbC52ZXJ0Jztcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBzdGFja1JlbmRlcmVyRnJhZ21lbnQgZnJvbSAnLi9zaGFkZXJzL2dlb21ldHJ5LXJlbmRlcmVyLWZsYXQuZ2xzbC5mcmFnJztcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbmNvbnN0IGtfYnVmZmVyU2l6ZSA9IDE0ICogMTAyNDtcblxuZXhwb3J0IGludGVyZmFjZSBJRmxhdFZlcnRleCB7XG4gIHBvczogZ2xtLnZlYzM7XG4gIC8vIG5vcm1hbDogZ2xtLnZlYzM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUdlb21ldHJ5UmVuZGVyZXJGbGF0IHtcbiAgcHVzaChcbiAgICBpblBvaW50QTogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBpblF1YXQ6IGdsbS5SZWFkb25seVF1YXQsXG4gICAgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBpblNjYWxlOiBnbG0uUmVhZG9ubHlWZWMzXG4gICk6IHZvaWQ7XG4gIGZsdXNoKGluQ2FtZXJhOiBJQ2FtZXJhKTogdm9pZDtcbiAgY2xlYXIoKTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIEdlb21ldHJ5UmVuZGVyZXJGbGF0IGltcGxlbWVudHMgSUdlb21ldHJ5UmVuZGVyZXJGbGF0IHtcbiAgcHJpdmF0ZSBfc2hhZGVyOiB3ZWJnbDIuSVVuYm91bmRTaGFkZXI7XG4gIHByaXZhdGUgX2dlb21ldHJ5OiB3ZWJnbDIuR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5O1xuXG4gIHByaXZhdGUgX2J1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoa19idWZmZXJTaXplKTtcbiAgcHJpdmF0ZSBfY3VycmVudFNpemU6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fc2hhZGVyID0gbmV3IHdlYmdsMi5TaGFkZXJQcm9ncmFtKCdHZW9tZXRyeVJlbmRlcmVyRmxhdCcsIHtcbiAgICAgIHZlcnRleFNyYzogc3RhY2tSZW5kZXJlclZlcnRleCxcbiAgICAgIGZyYWdtZW50U3JjOiBzdGFja1JlbmRlcmVyRnJhZ21lbnQsXG4gICAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgICdhX3ZlcnRleF9wb3NpdGlvbicsXG4gICAgICAgIC8vICdhX3ZlcnRleF9ub3JtYWwnLFxuICAgICAgICAnYV9vZmZzZXRfY2VudGVyJyxcbiAgICAgICAgJ2Ffb2Zmc2V0X29yaWVudGF0aW9uJyxcbiAgICAgICAgJ2Ffb2Zmc2V0X2NvbG9yJyxcbiAgICAgICAgJ2Ffb2Zmc2V0X3NjYWxlJ1xuICAgICAgXSxcbiAgICAgIHVuaWZvcm1zOiBbXG4gICAgICAgICd1X2NvbXBvc2VkTWF0cml4J1xuICAgICAgICAvLyAndV9saWdodFBvcydcbiAgICAgIF1cbiAgICB9KTtcblxuICAgIGNvbnN0IGdlb0J1aWxkZXIgPSBuZXcgd2ViZ2wyLkdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeUJ1aWxkZXIoKTtcbiAgICBnZW9CdWlsZGVyXG4gICAgICAucmVzZXQoKVxuICAgICAgLnNldFByaW1pdGl2ZVR5cGUoJ3RyaWFuZ2xlcycpXG4gICAgICAuYWRkVmJvKClcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2FfdmVydGV4X3Bvc2l0aW9uJywgJ3ZlYzNmJylcbiAgICAgIC8vIC5hZGRWYm9BdHRyaWJ1dGUoJ2FfdmVydGV4X25vcm1hbCcsICd2ZWMzZicpXG4gICAgICAvLyAuc2V0U3RyaWRlKDMgKiA0ICogNilcbiAgICAgIC5hZGRWYm8oKVxuICAgICAgLnNldFZib0FzU3RyZWFtaW5nKClcbiAgICAgIC5zZXRWYm9Bc0luc3RhbmNlZCgpXG4gICAgICAuYWRkVmJvQXR0cmlidXRlKCdhX29mZnNldF9jZW50ZXInLCAndmVjM2YnKVxuICAgICAgLmFkZFZib0F0dHJpYnV0ZSgnYV9vZmZzZXRfb3JpZW50YXRpb24nLCAndmVjNGYnKVxuICAgICAgLmFkZFZib0F0dHJpYnV0ZSgnYV9vZmZzZXRfY29sb3InLCAndmVjM2YnKVxuICAgICAgLmFkZFZib0F0dHJpYnV0ZSgnYV9vZmZzZXRfc2NhbGUnLCAndmVjM2YnKTtcblxuICAgIHRoaXMuX2dlb21ldHJ5ID0gbmV3IHdlYmdsMi5HZW9tZXRyeVdyYXBwZXIuR2VvbWV0cnkodGhpcy5fc2hhZGVyLCBnZW9CdWlsZGVyLmdldERlZigpKTtcbiAgICB0aGlzLl9nZW9tZXRyeS5zZXRGbG9hdEJ1ZmZlclNpemUoMSwga19idWZmZXJTaXplKTtcbiAgfVxuXG4gIHNldEdlb21ldHJ5VmVydGljZXModmVydGljZXM6IElGbGF0VmVydGV4W10pIHtcbiAgICBjb25zdCBidWYgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgIC8vIC4uLnZlcnRpY2VzLm1hcCgodmFsKSA9PiBbLi4udmFsLnBvcywgLi4udmFsLm5vcm1hbF0pLmZsYXQoKVxuICAgICAgLi4udmVydGljZXMubWFwKCh2YWwpID0+IFsuLi52YWwucG9zXSkuZmxhdCgpXG4gICAgXSk7XG4gICAgLy8gY29uc3QgYnVmID0gbmV3IEZsb2F0MzJBcnJheShbLi4udmVydGljZXMubWFwKHZhbCA9PiBbLi4udmFsLnBvc10pLmZsYXQoKV0pO1xuICAgIHRoaXMuX2dlb21ldHJ5LmFsbG9jYXRlQnVmZmVyKDAsIGJ1ZiwgYnVmLmxlbmd0aCk7XG4gICAgdGhpcy5fZ2VvbWV0cnkuc2V0UHJpbWl0aXZlQ291bnQoYnVmLmxlbmd0aCAvIDMpO1xuICB9XG5cbiAgcHVzaChpblBvaW50QTogZ2xtLlJlYWRvbmx5VmVjMywgaW5RdWF0OiBnbG0uUmVhZG9ubHlRdWF0LCBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzLCBpblNjYWxlOiBnbG0uUmVhZG9ubHlWZWMzKSB7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRTaXplICsgMTMgPj0gdGhpcy5fYnVmZmVyLmxlbmd0aCkge1xuICAgICAgaWYgKHRoaXMuX3NoYWRlci5pc0JvdW5kKCkpIHtcbiAgICAgICAgdGhpcy5fZmx1c2goKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpblBvaW50QVswXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpblBvaW50QVsxXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpblBvaW50QVsyXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpblF1YXRbMF07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5RdWF0WzFdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IGluUXVhdFsyXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpblF1YXRbM107XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5Db2xvclswXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpbkNvbG9yWzFdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IGluQ29sb3JbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5TY2FsZVswXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpblNjYWxlWzFdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IGluU2NhbGVbMl07XG4gICAgLy8gdGhpcy5fY3VycmVudFNpemUgKz0gNjtcbiAgfVxuXG4gIGZsdXNoKGluQ2FtZXJhOiBJQ2FtZXJhKSB7XG4gICAgaWYgKCF0aGlzLmNhblJlbmRlcigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2hhZGVyLmJpbmQoKGJvdW5kKSA9PiB7XG4gICAgICBib3VuZC5zZXRNYXRyaXg0VW5pZm9ybSgndV9jb21wb3NlZE1hdHJpeCcsIGluQ2FtZXJhLmdldENvbXBvc2VkTWF0cml4KCkpO1xuICAgICAgLy8gY29uc3QgZXllUG9zID0gaW5DYW1lcmEuZ2V0RXllKCk7XG4gICAgICAvLyBib3VuZC5zZXRGbG9hdDNVbmlmb3JtKCd1X2xpZ2h0UG9zJywgZXllUG9zWzBdLCBleWVQb3NbMV0sIGV5ZVBvc1syXSk7XG5cbiAgICAgIHRoaXMuX2ZsdXNoKCk7XG4gICAgfSk7XG4gIH1cblxuICBzYWZlUmVuZGVyKGluQ2FtZXJhOiBJQ2FtZXJhLCBpbkNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5fc2hhZGVyLmJpbmQoKGJvdW5kKSA9PiB7XG4gICAgICBib3VuZC5zZXRNYXRyaXg0VW5pZm9ybSgndV9jb21wb3NlZE1hdHJpeCcsIGluQ2FtZXJhLmdldENvbXBvc2VkTWF0cml4KCkpO1xuICAgICAgLy8gY29uc3QgZXllUG9zID0gaW5DYW1lcmEuZ2V0RXllKCk7XG4gICAgICAvLyBib3VuZC5zZXRGbG9hdDNVbmlmb3JtKCd1X2xpZ2h0UG9zJywgZXllUG9zWzBdLCBleWVQb3NbMV0sIGV5ZVBvc1syXSk7XG5cbiAgICAgIGluQ2FsbGJhY2soKTtcblxuICAgICAgdGhpcy5fZmx1c2goKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2ZsdXNoKCkge1xuICAgIHRoaXMuX2dlb21ldHJ5LnVwZGF0ZUJ1ZmZlcigxLCB0aGlzLl9idWZmZXIsIHRoaXMuX2N1cnJlbnRTaXplLCAwKTtcbiAgICB0aGlzLl9nZW9tZXRyeS5zZXRJbnN0YW5jZWRDb3VudCh0aGlzLl9jdXJyZW50U2l6ZSAvIDEzKTtcblxuICAgIHRoaXMuX2dlb21ldHJ5LnJlbmRlcigpO1xuXG4gICAgdGhpcy5jbGVhcigpO1xuICB9XG5cbiAgY2FuUmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50U2l6ZSA+IDA7XG4gIH1cblxuICBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLl9jdXJyZW50U2l6ZSA9IDA7XG4gIH1cbn1cbiIsCiAgImltcG9ydCAqIGFzIHdlYmdsMiBmcm9tICcuLi8uLi8uLi93ZWJnbDInO1xuXG5leHBvcnQgY2xhc3MgU2NlbmVDYXB0dXJlciB7XG4gIHByaXZhdGUgX3dpZHRoOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9oZWlnaHQ6IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSBfZnJhbWVCdWZmZXI6IHdlYmdsMi5JVW5ib3VuZEZyYW1lQnVmZmVyID0gbmV3IHdlYmdsMi5GcmFtZUJ1ZmZlcigpO1xuICBwcml2YXRlIF9yZW5kZXJCdWZmZXI6IHdlYmdsMi5JVW5ib3VuZFJlbmRlckJ1ZmZlciA9IG5ldyB3ZWJnbDIuUmVuZGVyQnVmZmVyKCk7XG4gIHByaXZhdGUgX2NvbG9yVGV4dHVyZXM6IHdlYmdsMi5JVW5ib3VuZFRleHR1cmVbXSA9IFtdO1xuICBwcml2YXRlIF9jdXJyZW50SW5kZXg6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcblxuICAgIHRoaXMuX2NvbG9yVGV4dHVyZXMucHVzaChuZXcgd2ViZ2wyLlRleHR1cmUoKSk7XG4gICAgdGhpcy5fY29sb3JUZXh0dXJlcy5wdXNoKG5ldyB3ZWJnbDIuVGV4dHVyZSgpKTtcbiAgICB0aGlzLl9jb2xvclRleHR1cmVzLmZvckVhY2godGV4dHVyZSA9PiB0ZXh0dXJlLmluaXRpYWxpemUoKSk7XG5cbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG4gIHJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5fcmVuZGVyQnVmZmVyLmJpbmQoKGJvdW5kQnVmZmVyKSA9PiB7XG4gICAgICBib3VuZEJ1ZmZlci5zZXRTaXplKCdkZXB0aDMyZicsIHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fY29sb3JUZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICB0ZXh0dXJlLmJpbmQoKGJvdW5kVGV4dHVyZSkgPT4ge1xuICAgICAgICBib3VuZFRleHR1cmUuYWxsb2NhdGUodGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2ZyYW1lQnVmZmVyLmJpbmQoKGJvdW5kRnJhbWVCdWZmZXIpID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlckJ1ZmZlci5iaW5kKChib3VuZEJ1ZmZlcikgPT4ge1xuICAgICAgICBib3VuZEZyYW1lQnVmZmVyLmF0dGFjaFJlbmRlckJ1ZmZlcihib3VuZEJ1ZmZlcik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGNhcHR1cmVTY2VuZShyZW5kZXJDYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuX2ZyYW1lQnVmZmVyLmJpbmQoKGJvdW5kRnJhbWVCdWZmZXIpID0+IHtcblxuICAgICAgdGhpcy5fY29sb3JUZXh0dXJlc1t0aGlzLl9jdXJyZW50SW5kZXhdLmJpbmQoKGJvdW5kVGV4dHVyZSkgPT4ge1xuICAgICAgICBib3VuZEZyYW1lQnVmZmVyLmF0dGFjaFRleHR1cmUoYm91bmRUZXh0dXJlKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBnbCA9IHdlYmdsMi5XZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuICAgICAgZ2wudmlld3BvcnQoMCwgMCwgdGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xuXG4gICAgICByZW5kZXJDYWxsYmFjaygpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fY3VycmVudEluZGV4ID0gKHRoaXMuX2N1cnJlbnRJbmRleCArIDEpICUgdGhpcy5fY29sb3JUZXh0dXJlcy5sZW5ndGg7XG4gIH1cblxuICBnZXQgY29sb3JUZXh0dXJlKCk6IHdlYmdsMi5JVW5ib3VuZFRleHR1cmUge1xuICAgIHJldHVybiB0aGlzLl9jb2xvclRleHR1cmVzW3RoaXMuX2N1cnJlbnRJbmRleF07XG4gIH1cbn1cbiIsCiAgImV4cG9ydCBkZWZhdWx0IGBcbiN2ZXJzaW9uIDMwMCBlc1xuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnVuaWZvcm0gbWF0NCB1X2NvbXBvc2VkTWF0cml4O1xuXG5pbiB2ZWMzICBhX3ZlcnRleF9wb3NpdGlvbjtcbmluIHZlYzIgIGFfdmVydGV4X3RleENvb3JkO1xuXG5vdXQgdmVjMiB2X3RleENvb3JkO1xuXG52b2lkIG1haW4odm9pZClcbntcbiAgdl90ZXhDb29yZCA9IGFfdmVydGV4X3RleENvb3JkO1xuICBnbF9Qb3NpdGlvbiA9IHVfY29tcG9zZWRNYXRyaXggKiB2ZWM0KGFfdmVydGV4X3Bvc2l0aW9uLCAxLjApO1xufVxuXG5gLnRyaW0oKTsiLAogICJleHBvcnQgZGVmYXVsdCBgXG4jdmVyc2lvbiAzMDAgZXNcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG51bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7XG5cbmluIHZlYzIgdl90ZXhDb29yZDtcblxub3V0IHZlYzQgb19jb2xvcjtcblxudm9pZCBtYWluKHZvaWQpXG57XG4gIG9fY29sb3IgPSB0ZXh0dXJlKHVfdGV4dHVyZSwgdl90ZXhDb29yZCk7XG59XG5gLnRyaW0oKTsiLAogICJpbXBvcnQgKiBhcyB3ZWJnbDIgZnJvbSAnLi4vLi4vLi4vd2ViZ2wyJztcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHZlcnRleFNoYWRlciBmcm9tICcuL3NoYWRlcnMvaHVkLXRleHR1cmUtcmVuZGVyZXIuZ2xzbC52ZXJ0Jztcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBmcmFnbWVudFNoYWRlciBmcm9tICcuL3NoYWRlcnMvaHVkLXRleHR1cmUtcmVuZGVyZXIuZ2xzbC5mcmFnJztcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbmV4cG9ydCBjbGFzcyBSZW5kZXJIdWRUZXh0dXJlIHtcbiAgcHJpdmF0ZSBfd2lkdGg6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX2hlaWdodDogbnVtYmVyID0gMDtcblxuICBwcml2YXRlIF9zaGFkZXI6IHdlYmdsMi5TaGFkZXJQcm9ncmFtO1xuICBwcml2YXRlIF9nZW9tZXRyeTogd2ViZ2wyLkdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeTtcblxuICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMuX3NoYWRlciA9IG5ldyB3ZWJnbDIuU2hhZGVyUHJvZ3JhbSgnUmVuZGVySHVkVGV4dHVyZScsIHtcbiAgICAgIHZlcnRleFNyYzogdmVydGV4U2hhZGVyLFxuICAgICAgZnJhZ21lbnRTcmM6IGZyYWdtZW50U2hhZGVyLFxuICAgICAgYXR0cmlidXRlczogWydhX3ZlcnRleF9wb3NpdGlvbicsICdhX3ZlcnRleF90ZXhDb29yZCddLFxuICAgICAgdW5pZm9ybXM6IFsndV9jb21wb3NlZE1hdHJpeCcsICd1X3RleHR1cmUnXVxuICAgIH0pO1xuXG4gICAgY29uc3QgZ2VvQnVpbGRlciA9IG5ldyB3ZWJnbDIuR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5QnVpbGRlcigpO1xuICAgIGdlb0J1aWxkZXJcbiAgICAgIC5yZXNldCgpXG4gICAgICAuc2V0UHJpbWl0aXZlVHlwZSgndHJpYW5nbGVTdHJpcCcpXG4gICAgICAuYWRkVmJvKClcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2FfdmVydGV4X3Bvc2l0aW9uJywgJ3ZlYzNmJylcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2FfdmVydGV4X3RleENvb3JkJywgJ3ZlYzJmJyk7XG5cbiAgICB0aGlzLl9nZW9tZXRyeSA9IG5ldyB3ZWJnbDIuR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5KHRoaXMuX3NoYWRlciwgZ2VvQnVpbGRlci5nZXREZWYoKSk7XG5cbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG4gIHJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgY29uc3QgdG1wVmVydGljZXM6IHsgcG9zOiBnbG0uUmVhZG9ubHlWZWMzOyB0ZXg6IGdsbS5SZWFkb25seVZlYzIgfVtdID0gW1xuICAgICAgeyBwb3M6IFt0aGlzLl93aWR0aCAqIDAsIHRoaXMuX2hlaWdodCAqIDAsIC0xXSwgdGV4OiBbMCwgMF0gfSxcbiAgICAgIHsgcG9zOiBbdGhpcy5fd2lkdGggKiAxLCB0aGlzLl9oZWlnaHQgKiAwLCAtMV0sIHRleDogWzEsIDBdIH0sXG4gICAgICB7IHBvczogW3RoaXMuX3dpZHRoICogMCwgdGhpcy5faGVpZ2h0ICogMSwgLTFdLCB0ZXg6IFswLCAxXSB9LFxuICAgICAgeyBwb3M6IFt0aGlzLl93aWR0aCAqIDEsIHRoaXMuX2hlaWdodCAqIDEsIC0xXSwgdGV4OiBbMSwgMV0gfVxuICAgIF07XG5cbiAgICBjb25zdCB2ZXJ0QXJyID0gdG1wVmVydGljZXNcbiAgICAgIC5tYXAoKHZlcnRleCkgPT4ge1xuICAgICAgICByZXR1cm4gW3ZlcnRleC5wb3NbMF0sIHZlcnRleC5wb3NbMV0sIHZlcnRleC5wb3NbMl0sIHZlcnRleC50ZXhbMF0sIHZlcnRleC50ZXhbMV1dO1xuICAgICAgfSlcbiAgICAgIC5mbGF0KCk7XG5cbiAgICB0aGlzLl9nZW9tZXRyeS5hbGxvY2F0ZUJ1ZmZlcigwLCB2ZXJ0QXJyLCB2ZXJ0QXJyLmxlbmd0aCk7XG4gICAgdGhpcy5fZ2VvbWV0cnkuc2V0UHJpbWl0aXZlQ291bnQodmVydEFyci5sZW5ndGggLyA1KTtcbiAgfVxuXG4gIGZsdXNoKGNvbXBvc2VkTWF0cml4OiBnbG0uUmVhZG9ubHlNYXQ0LCBjdWJlTWFwOiB3ZWJnbDIuSVVuYm91bmRUZXh0dXJlKSB7XG4gICAgdGhpcy5fc2hhZGVyLmJpbmQoKGJvdW5kU2hhZGVyKSA9PiB7XG4gICAgICBib3VuZFNoYWRlci5zZXRNYXRyaXg0VW5pZm9ybSgndV9jb21wb3NlZE1hdHJpeCcsIGNvbXBvc2VkTWF0cml4KTtcbiAgICAgIGJvdW5kU2hhZGVyLnNldFRleHR1cmVVbmlmb3JtKCd1X3RleHR1cmUnLCBjdWJlTWFwLCAwKTtcblxuICAgICAgdGhpcy5fZ2VvbWV0cnkucmVuZGVyKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsCiAgImltcG9ydCB7IFNjZW5lQ2FwdHVyZXIgfSBmcm9tICcuL2ludGVybmFscy9TY2VuZUNhcHR1cmVyJztcbmltcG9ydCB7IFJlbmRlckh1ZFRleHR1cmUgfSBmcm9tICcuL2ludGVybmFscy9SZW5kZXJIdWRUZXh0dXJlJztcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbmV4cG9ydCBjbGFzcyBNdWx0aUJ1ZmZlcnNSZW5kZXJpbmcge1xuICBwcml2YXRlIF9zY2VuZUNhcHR1cmVyOiBTY2VuZUNhcHR1cmVyO1xuICBwcml2YXRlIF9yZW5kZXJIdWRUZXh0dXJlOiBSZW5kZXJIdWRUZXh0dXJlO1xuXG4gIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy5fc2NlbmVDYXB0dXJlciA9IG5ldyBTY2VuZUNhcHR1cmVyKHdpZHRoLCBoZWlnaHQpO1xuICAgIHRoaXMuX3JlbmRlckh1ZFRleHR1cmUgPSBuZXcgUmVuZGVySHVkVGV4dHVyZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG4gIHJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMuX3NjZW5lQ2FwdHVyZXIucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIHRoaXMuX3JlbmRlckh1ZFRleHR1cmUucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgY2FwdHVyZVNjZW5lKHJlbmRlckNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5fc2NlbmVDYXB0dXJlci5jYXB0dXJlU2NlbmUocmVuZGVyQ2FsbGJhY2spO1xuICB9XG5cbiAgcmVuZGVySHVkKGNvbXBvc2VkTWF0NDogZ2xtLlJlYWRvbmx5TWF0NCk6IHZvaWQge1xuICAgIHRoaXMuX3JlbmRlckh1ZFRleHR1cmUuZmx1c2goY29tcG9zZWRNYXQ0LCB0aGlzLl9zY2VuZUNhcHR1cmVyLmNvbG9yVGV4dHVyZSk7XG4gIH1cbn1cbiIsCiAgImV4cG9ydCBkZWZhdWx0IGBcbiN2ZXJzaW9uIDMwMCBlc1xuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnVuaWZvcm0gbWF0NCB1X2NvbXBvc2VkTWF0cml4O1xuXG5pbiB2ZWMzIGFfdmVydGV4X3Bvc2l0aW9uO1xuaW4gdmVjNCBhX3ZlcnRleF9jb2xvcjtcblxuZmxhdCBvdXQgdmVjNCB2X2NvbG9yO1xuXG52b2lkIG1haW4odm9pZClcbntcbiAgZ2xfUG9zaXRpb24gPSB1X2NvbXBvc2VkTWF0cml4ICogdmVjNChhX3ZlcnRleF9wb3NpdGlvbiwgMS4wKTtcblxuICB2X2NvbG9yID0gYV92ZXJ0ZXhfY29sb3I7XG59XG5gLnRyaW0oKTsiLAogICJleHBvcnQgZGVmYXVsdCBgXG4jdmVyc2lvbiAzMDAgZXNcblxucHJlY2lzaW9uIGxvd3AgZmxvYXQ7XG5cbmZsYXQgaW4gdmVjNCB2X2NvbG9yO1xuXG5vdXQgdmVjNCBvX2NvbG9yO1xuXG52b2lkIG1haW4odm9pZClcbntcbiAgb19jb2xvciA9IHZfY29sb3I7XG59XG5gLnRyaW0oKTsiLAogICJpbXBvcnQgKiBhcyB3ZWJnbDIgZnJvbSAnLi4vLi4vLi4vLi4vZ3JhcGhpY3Mvd2ViZ2wyJztcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbmNvbnN0IGtfYnVmZmVyU2l6ZSA9IDE0ICogMTAyNDtcblxuZXhwb3J0IGNsYXNzIFdpcmVGcmFtZXNTdGFja1JlbmRlcmVyIHtcbiAgcHJpdmF0ZSBfc2hhZGVyOiB3ZWJnbDIuSVVuYm91bmRTaGFkZXI7XG4gIHByaXZhdGUgX2dlb21ldHJ5OiB3ZWJnbDIuR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5O1xuXG4gIHByaXZhdGUgX2J1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoa19idWZmZXJTaXplKTtcbiAgcHJpdmF0ZSBfY3VycmVudFNpemU6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoaW5TaGFkZXI6IHdlYmdsMi5JVW5ib3VuZFNoYWRlciwgaW5HZW9tZXRyeURlZjogd2ViZ2wyLkdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeURlZmluaXRpb24pIHtcbiAgICB0aGlzLl9zaGFkZXIgPSBpblNoYWRlcjtcbiAgICBjb25zdCBnZW9tZXRyeURlZjogd2ViZ2wyLkdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeURlZmluaXRpb24gPSB7XG4gICAgICAuLi5pbkdlb21ldHJ5RGVmLFxuICAgICAgcHJpbWl0aXZlVHlwZTogd2ViZ2wyLkdlb21ldHJ5V3JhcHBlci5QcmltaXRpdmVUeXBlLmxpbmVzXG4gICAgfTtcblxuICAgIHRoaXMuX2dlb21ldHJ5ID0gbmV3IHdlYmdsMi5HZW9tZXRyeVdyYXBwZXIuR2VvbWV0cnkoaW5TaGFkZXIsIGdlb21ldHJ5RGVmKTtcbiAgfVxuXG4gIHB1c2hMaW5lKGluUG9pbnRBOiBnbG0uUmVhZG9ubHlWZWMzLCBpblBvaW50QjogZ2xtLlJlYWRvbmx5VmVjMywgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyB8IGdsbS5SZWFkb25seVZlYzQpIHtcbiAgICBpZiAodGhpcy5fY3VycmVudFNpemUgKyA3ICogMiA+PSB0aGlzLl9idWZmZXIubGVuZ3RoKSB7XG4gICAgICBpZiAodGhpcy5fc2hhZGVyLmlzQm91bmQoKSkge1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYWxwaGFWYWx1ZSA9IGluQ29sb3JbM10gPz8gMTtcblxuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSArIDBdID0gaW5Qb2ludEFbMF07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgMV0gPSBpblBvaW50QVsxXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUgKyAyXSA9IGluUG9pbnRBWzJdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSArIDNdID0gaW5Db2xvclswXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUgKyA0XSA9IGluQ29sb3JbMV07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgNV0gPSBpbkNvbG9yWzJdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSArIDZdID0gYWxwaGFWYWx1ZTtcbiAgICB0aGlzLl9jdXJyZW50U2l6ZSArPSA3O1xuXG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgMF0gPSBpblBvaW50QlswXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUgKyAxXSA9IGluUG9pbnRCWzFdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSArIDJdID0gaW5Qb2ludEJbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgM10gPSBpbkNvbG9yWzBdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSArIDRdID0gaW5Db2xvclsxXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUgKyA1XSA9IGluQ29sb3JbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgNl0gPSBhbHBoYVZhbHVlO1xuICAgIHRoaXMuX2N1cnJlbnRTaXplICs9IDc7XG4gIH1cblxuICBjYW5SZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRTaXplID4gMDtcbiAgfVxuXG4gIGZsdXNoKCkge1xuICAgIGlmICghdGhpcy5jYW5SZW5kZXIoKSkgcmV0dXJuO1xuXG4gICAgdGhpcy5fZ2VvbWV0cnkuYWxsb2NhdGVCdWZmZXIoMCwgdGhpcy5fYnVmZmVyLCB0aGlzLl9jdXJyZW50U2l6ZSk7XG4gICAgdGhpcy5fZ2VvbWV0cnkuc2V0UHJpbWl0aXZlQ291bnQodGhpcy5fY3VycmVudFNpemUgLyA3KTtcblxuICAgIHRoaXMuX2dlb21ldHJ5LnJlbmRlcigpO1xuXG4gICAgdGhpcy5jbGVhcigpO1xuICB9XG5cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgLy8gcmVzZXQgdmVydGljZXNcbiAgICB0aGlzLl9jdXJyZW50U2l6ZSA9IDA7XG4gIH1cbn1cbiIsCiAgImltcG9ydCAqIGFzIHdlYmdsMiBmcm9tICcuLi8uLi8uLi8uLi9ncmFwaGljcy93ZWJnbDInO1xuXG5pbXBvcnQgKiBhcyBnbG0gZnJvbSAnZ2wtbWF0cml4JztcblxuY29uc3Qga19idWZmZXJTaXplID0gNyAqIDEwMjQ7XG5cbmV4cG9ydCBjbGFzcyBUcmlhbmdsZXNTdGFja1JlbmRlcmVyIHtcbiAgcHJpdmF0ZSBfc2hhZGVyOiB3ZWJnbDIuSVVuYm91bmRTaGFkZXI7XG4gIHByaXZhdGUgX2dlb21ldHJ5OiB3ZWJnbDIuR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5O1xuXG4gIHByaXZhdGUgX2J1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoa19idWZmZXJTaXplKTtcbiAgcHJpdmF0ZSBfY3VycmVudFNpemU6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoaW5TaGFkZXI6IHdlYmdsMi5JVW5ib3VuZFNoYWRlciwgaW5HZW9tZXRyeURlZjogd2ViZ2wyLkdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeURlZmluaXRpb24pIHtcbiAgICB0aGlzLl9zaGFkZXIgPSBpblNoYWRlcjtcbiAgICBjb25zdCBnZW9tZXRyeURlZjogd2ViZ2wyLkdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeURlZmluaXRpb24gPSB7XG4gICAgICAuLi5pbkdlb21ldHJ5RGVmLFxuICAgICAgcHJpbWl0aXZlVHlwZTogd2ViZ2wyLkdlb21ldHJ5V3JhcHBlci5QcmltaXRpdmVUeXBlLnRyaWFuZ2xlc1xuICAgIH07XG5cbiAgICB0aGlzLl9nZW9tZXRyeSA9IG5ldyB3ZWJnbDIuR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5KGluU2hhZGVyLCBnZW9tZXRyeURlZik7XG4gIH1cblxuICBwdXNoVHJpYW5nbGUoXG4gICAgaW5Qb2ludEE6IGdsbS5SZWFkb25seVZlYzMsXG4gICAgaW5Qb2ludEI6IGdsbS5SZWFkb25seVZlYzMsXG4gICAgaW5Qb2ludEM6IGdsbS5SZWFkb25seVZlYzMsXG4gICAgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyB8IGdsbS5SZWFkb25seVZlYzRcbiAgKSB7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRTaXplICsgNyAqIDYgPj0gdGhpcy5fYnVmZmVyLmxlbmd0aCkge1xuICAgICAgaWYgKHRoaXMuX3NoYWRlci5pc0JvdW5kKCkpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGFscGhhVmFsdWUgPSBpbkNvbG9yWzNdID8/IDE7XG5cbiAgICAvLyAwXG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgMF0gPSBpblBvaW50QVswXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUgKyAxXSA9IGluUG9pbnRBWzFdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSArIDJdID0gaW5Qb2ludEFbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgM10gPSBpbkNvbG9yWzBdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSArIDRdID0gaW5Db2xvclsxXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUgKyA1XSA9IGluQ29sb3JbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgNl0gPSBhbHBoYVZhbHVlO1xuICAgIHRoaXMuX2N1cnJlbnRTaXplICs9IDc7XG5cbiAgICAvLyAyXG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgMF0gPSBpblBvaW50QlswXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUgKyAxXSA9IGluUG9pbnRCWzFdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSArIDJdID0gaW5Qb2ludEJbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgM10gPSBpbkNvbG9yWzBdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSArIDRdID0gaW5Db2xvclsxXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUgKyA1XSA9IGluQ29sb3JbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgNl0gPSBhbHBoYVZhbHVlO1xuICAgIHRoaXMuX2N1cnJlbnRTaXplICs9IDc7XG5cbiAgICAvLyAzXG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgMF0gPSBpblBvaW50Q1swXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUgKyAxXSA9IGluUG9pbnRDWzFdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSArIDJdID0gaW5Qb2ludENbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgM10gPSBpbkNvbG9yWzBdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSArIDRdID0gaW5Db2xvclsxXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUgKyA1XSA9IGluQ29sb3JbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplICsgNl0gPSBhbHBoYVZhbHVlO1xuICAgIHRoaXMuX2N1cnJlbnRTaXplICs9IDc7XG4gIH1cblxuICBwdXNoTGluZShcbiAgICBpblBvaW50QTogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBpblBvaW50QjogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICB0aGlja25lc3M6IG51bWJlcixcbiAgICBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzIHwgZ2xtLlJlYWRvbmx5VmVjNFxuICApIHtcbiAgICBpZiAodGhpcy5fY3VycmVudFNpemUgKyA3ICogNiA+PSB0aGlzLl9idWZmZXIubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGlmZlggPSBpblBvaW50QlswXSAtIGluUG9pbnRBWzBdO1xuICAgIGNvbnN0IGRpZmZZID0gaW5Qb2ludEJbMV0gLSBpblBvaW50QVsxXTtcbiAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoZGlmZlksIGRpZmZYKSArIE1hdGguUEkgKiAwLjU7XG5cbiAgICBjb25zdCBzdGVwWCA9IE1hdGguY29zKGFuZ2xlKSAqIHRoaWNrbmVzcyAqIDAuNTtcbiAgICBjb25zdCBzdGVwWSA9IE1hdGguc2luKGFuZ2xlKSAqIHRoaWNrbmVzcyAqIDAuNTtcblxuICAgIHRoaXMucHVzaFRyaWFuZ2xlKFxuICAgICAgW2luUG9pbnRBWzBdIC0gc3RlcFgsIGluUG9pbnRBWzFdIC0gc3RlcFksIGluUG9pbnRBWzJdXSxcbiAgICAgIFtpblBvaW50QlswXSAtIHN0ZXBYLCBpblBvaW50QlsxXSAtIHN0ZXBZLCBpblBvaW50QlsyXV0sXG4gICAgICBbaW5Qb2ludEJbMF0gKyBzdGVwWCwgaW5Qb2ludEJbMV0gKyBzdGVwWSwgaW5Qb2ludEJbMl1dLFxuICAgICAgaW5Db2xvclxuICAgICk7XG4gICAgdGhpcy5wdXNoVHJpYW5nbGUoXG4gICAgICBbaW5Qb2ludEFbMF0gLSBzdGVwWCwgaW5Qb2ludEFbMV0gLSBzdGVwWSwgaW5Qb2ludEFbMl1dLFxuICAgICAgW2luUG9pbnRCWzBdICsgc3RlcFgsIGluUG9pbnRCWzFdICsgc3RlcFksIGluUG9pbnRCWzJdXSxcbiAgICAgIFtpblBvaW50QVswXSArIHN0ZXBYLCBpblBvaW50QVsxXSArIHN0ZXBZLCBpblBvaW50QVsyXV0sXG4gICAgICBpbkNvbG9yXG4gICAgKTtcbiAgfVxuXG4gIHB1c2hSb3RhdGVkTGluZShjZW50ZXI6IGdsbS5SZWFkb25seVZlYzMsIGFuZ2xlOiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCB0aGlja25lc3M6IG51bWJlciwgY29sb3I6IGdsbS5SZWFkb25seVZlYzMpIHtcbiAgICB0aGlzLnB1c2hMaW5lKFxuICAgICAgW2NlbnRlclswXSAtIGxlbmd0aCAqIE1hdGguY29zKGFuZ2xlKSwgY2VudGVyWzFdIC0gbGVuZ3RoICogTWF0aC5zaW4oYW5nbGUpLCBjZW50ZXJbMl1dLFxuICAgICAgW2NlbnRlclswXSArIGxlbmd0aCAqIE1hdGguY29zKGFuZ2xlKSwgY2VudGVyWzFdICsgbGVuZ3RoICogTWF0aC5zaW4oYW5nbGUpLCBjZW50ZXJbMl1dLFxuICAgICAgdGhpY2tuZXNzLFxuICAgICAgY29sb3JcbiAgICApO1xuICB9XG5cbiAgcHVzaE9yaWdpbkJvdW5kUmVjdGFuZ2xlKFxuICAgIGluT3JpZ2luOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluU2l6ZTogZ2xtLlJlYWRvbmx5VmVjMixcbiAgICBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzIHwgZ2xtLlJlYWRvbmx5VmVjNFxuICApIHtcbiAgICBpZiAodGhpcy5fY3VycmVudFNpemUgKyA3ICogNiA+PSB0aGlzLl9idWZmZXIubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWF4Q29vcmQ6IGdsbS5SZWFkb25seVZlYzIgPSBbaW5PcmlnaW5bMF0gKyBpblNpemVbMF0sIGluT3JpZ2luWzFdICsgaW5TaXplWzFdXTtcblxuICAgIHRoaXMucHVzaFRyaWFuZ2xlKFxuICAgICAgW2luT3JpZ2luWzBdLCBpbk9yaWdpblsxXSwgaW5PcmlnaW5bMl1dLFxuICAgICAgW21heENvb3JkWzBdLCBtYXhDb29yZFsxXSwgaW5PcmlnaW5bMl1dLFxuICAgICAgW2luT3JpZ2luWzBdLCBtYXhDb29yZFsxXSwgaW5PcmlnaW5bMl1dLFxuICAgICAgaW5Db2xvclxuICAgICk7XG5cbiAgICB0aGlzLnB1c2hUcmlhbmdsZShcbiAgICAgIFtpbk9yaWdpblswXSwgaW5PcmlnaW5bMV0sIGluT3JpZ2luWzJdXSxcbiAgICAgIFttYXhDb29yZFswXSwgaW5PcmlnaW5bMV0sIGluT3JpZ2luWzJdXSxcbiAgICAgIFttYXhDb29yZFswXSwgbWF4Q29vcmRbMV0sIGluT3JpZ2luWzJdXSxcbiAgICAgIGluQ29sb3JcbiAgICApO1xuICB9XG5cbiAgcHVzaENlbnRlcmVkUmVjdGFuZ2xlKFxuICAgIGluQ2VudGVyOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluU2l6ZTogZ2xtLlJlYWRvbmx5VmVjMixcbiAgICBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzIHwgZ2xtLlJlYWRvbmx5VmVjNFxuICApIHtcbiAgICBjb25zdCBvcmlnaW46IGdsbS5SZWFkb25seVZlYzMgPSBbaW5DZW50ZXJbMF0gLSBpblNpemVbMF0gKiAwLjUsIGluQ2VudGVyWzFdIC0gaW5TaXplWzFdICogMC41LCBpbkNlbnRlclsyXV07XG5cbiAgICB0aGlzLnB1c2hPcmlnaW5Cb3VuZFJlY3RhbmdsZShvcmlnaW4sIGluU2l6ZSwgaW5Db2xvcik7XG4gIH1cblxuICBjYW5SZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRTaXplID4gMDtcbiAgfVxuXG4gIGZsdXNoKCkge1xuICAgIGlmICghdGhpcy5jYW5SZW5kZXIoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2dlb21ldHJ5LmFsbG9jYXRlQnVmZmVyKDAsIHRoaXMuX2J1ZmZlciwgdGhpcy5fY3VycmVudFNpemUpO1xuICAgIHRoaXMuX2dlb21ldHJ5LnNldFByaW1pdGl2ZUNvdW50KHRoaXMuX2N1cnJlbnRTaXplIC8gNyk7XG5cbiAgICB0aGlzLl9nZW9tZXRyeS5yZW5kZXIoKTtcblxuICAgIHRoaXMuY2xlYXIoKTtcbiAgfVxuXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIC8vIHJlc2V0IHZlcnRpY2VzXG4gICAgdGhpcy5fY3VycmVudFNpemUgPSAwO1xuICB9XG59XG4iLAogICJpbXBvcnQgKiBhcyB3ZWJnbDIgZnJvbSAnLi4vLi4vLi4vZ3JhcGhpY3Mvd2ViZ2wyJztcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHN0YWNrUmVuZGVyZXJWZXJ0ZXggZnJvbSAnLi9zaGFkZXJzL3N0YWNrLXJlbmRlcmVyLmdsc2wudmVydCc7XG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgc3RhY2tSZW5kZXJlckZyYWdtZW50IGZyb20gJy4vc2hhZGVycy9zdGFjay1yZW5kZXJlci5nbHNsLmZyYWcnO1xuXG5pbXBvcnQgeyBXaXJlRnJhbWVzU3RhY2tSZW5kZXJlciB9IGZyb20gJy4vaW50ZXJuYWxzL1dpcmVGcmFtZXNTdGFja1JlbmRlcmVyJztcbmltcG9ydCB7IFRyaWFuZ2xlc1N0YWNrUmVuZGVyZXIgfSBmcm9tICcuL2ludGVybmFscy9UcmlhbmdsZXNTdGFja1JlbmRlcmVyJztcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVN0YWNrUmVuZGVyZXJzIHtcbiAgcHVzaFRyaWFuZ2xlKFxuICAgIGluUG9zQTogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBpblBvc0I6IGdsbS5SZWFkb25seVZlYzMsXG4gICAgaW5Qb3NDOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluQ29sb3I6IGdsbS5SZWFkb25seVZlYzMgfCBnbG0uUmVhZG9ubHlWZWM0XG4gICk6IHZvaWQ7XG5cbiAgcHVzaFF1YWQoaW5Qb3M6IGdsbS5SZWFkb25seVZlYzMsIGluU2l6ZTogZ2xtLlJlYWRvbmx5VmVjMiwgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyB8IGdsbS5SZWFkb25seVZlYzQpOiB2b2lkO1xuXG4gIHB1c2hMaW5lKGluUG9pbnRBOiBnbG0uUmVhZG9ubHlWZWMzLCBpblBvaW50QjogZ2xtLlJlYWRvbmx5VmVjMywgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyk6IHZvaWQ7XG5cbiAgcHVzaENyb3NzKGluQ2VudGVyOiBnbG0uUmVhZG9ubHlWZWMzLCBpblNpemU6IG51bWJlciwgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyk6IHZvaWQ7XG5cbiAgcHVzaFRoaWNrTGluZShcbiAgICBpblBvaW50QTogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBpblBvaW50QjogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICB0aGlja25lc3M6IG51bWJlcixcbiAgICBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzXG4gICk6IHZvaWQ7XG5cbiAgcHVzaFJvdGF0ZWRMaW5lKFxuICAgIGNlbnRlcjogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBhbmdsZTogbnVtYmVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIHRoaWNrbmVzczogbnVtYmVyLFxuICAgIGNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzXG4gICk6IHZvaWQ7XG5cbiAgcHVzaE9yaWdpbkJvdW5kUmVjdGFuZ2xlKFxuICAgIGluT3JpZ2luOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluU2l6ZTogZ2xtLlJlYWRvbmx5VmVjMixcbiAgICBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzIHwgZ2xtLlJlYWRvbmx5VmVjNFxuICApOiB2b2lkO1xuXG4gIHB1c2hDZW50ZXJlZFJlY3RhbmdsZShcbiAgICBpbkNlbnRlcjogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBpblNpemU6IGdsbS5SZWFkb25seVZlYzIsXG4gICAgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyB8IGdsbS5SZWFkb25seVZlYzRcbiAgKTogdm9pZDtcblxuICBzYWZlUmVuZGVyKGluQ29tcG9zZWRNYXRyaXg6IGdsbS5SZWFkb25seU1hdDQsIGluQ2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkO1xuICBmbHVzaChjb21wb3NlZE1hdHJpeDogZ2xtLlJlYWRvbmx5TWF0NCk6IHZvaWQ7XG4gIGNsZWFyKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBTdGFja1JlbmRlcmVycyBpbXBsZW1lbnRzIElTdGFja1JlbmRlcmVycyB7XG4gIHByaXZhdGUgX3NoYWRlcjogd2ViZ2wyLklVbmJvdW5kU2hhZGVyO1xuXG4gIHByaXZhdGUgX3dpcmVGcmFtZXNTdGFja1JlbmRlcmVyOiBXaXJlRnJhbWVzU3RhY2tSZW5kZXJlcjtcbiAgcHJpdmF0ZSBfdHJpYW5nbGVzU3RhY2tSZW5kZXJlcjogVHJpYW5nbGVzU3RhY2tSZW5kZXJlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zaGFkZXIgPSBuZXcgd2ViZ2wyLlNoYWRlclByb2dyYW0oJ1N0YWNrUmVuZGVyZXJzJywge1xuICAgICAgdmVydGV4U3JjOiBzdGFja1JlbmRlcmVyVmVydGV4LFxuICAgICAgZnJhZ21lbnRTcmM6IHN0YWNrUmVuZGVyZXJGcmFnbWVudCxcbiAgICAgIGF0dHJpYnV0ZXM6IFsnYV92ZXJ0ZXhfcG9zaXRpb24nLCAnYV92ZXJ0ZXhfY29sb3InXSxcbiAgICAgIHVuaWZvcm1zOiBbJ3VfY29tcG9zZWRNYXRyaXgnXVxuICAgIH0pO1xuXG4gICAgY29uc3QgZ2VvQnVpbGRlciA9IG5ldyB3ZWJnbDIuR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5QnVpbGRlcigpO1xuICAgIGdlb0J1aWxkZXJcbiAgICAgIC5yZXNldCgpXG4gICAgICAuc2V0UHJpbWl0aXZlVHlwZSgnbGluZXMnKVxuICAgICAgLmFkZFZibygpXG4gICAgICAuc2V0VmJvQXNEeW5hbWljKClcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2FfdmVydGV4X3Bvc2l0aW9uJywgJ3ZlYzNmJylcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2FfdmVydGV4X2NvbG9yJywgJ3ZlYzRmJyk7XG5cbiAgICB0aGlzLl93aXJlRnJhbWVzU3RhY2tSZW5kZXJlciA9IG5ldyBXaXJlRnJhbWVzU3RhY2tSZW5kZXJlcih0aGlzLl9zaGFkZXIsIGdlb0J1aWxkZXIuZ2V0RGVmKCkpO1xuICAgIHRoaXMuX3RyaWFuZ2xlc1N0YWNrUmVuZGVyZXIgPSBuZXcgVHJpYW5nbGVzU3RhY2tSZW5kZXJlcih0aGlzLl9zaGFkZXIsIGdlb0J1aWxkZXIuZ2V0RGVmKCkpO1xuICB9XG5cbiAgcHVzaExpbmUoaW5Qb2ludEE6IGdsbS5SZWFkb25seVZlYzMsIGluUG9pbnRCOiBnbG0uUmVhZG9ubHlWZWMzLCBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzKSB7XG4gICAgdGhpcy5fd2lyZUZyYW1lc1N0YWNrUmVuZGVyZXIucHVzaExpbmUoaW5Qb2ludEEsIGluUG9pbnRCLCBpbkNvbG9yKTtcbiAgfVxuXG4gIHB1c2hDcm9zcyhpbkNlbnRlcjogZ2xtLlJlYWRvbmx5VmVjMywgaW5TaXplOiBudW1iZXIsIGluQ29sb3I6IGdsbS5SZWFkb25seVZlYzMpIHtcbiAgICBjb25zdCBjcm9zc1ZlcnRpY2VzOiBnbG0uUmVhZG9ubHlWZWMzW10gPSBbXG4gICAgICBbaW5DZW50ZXJbMF0gLSBpblNpemUsIGluQ2VudGVyWzFdLCBpbkNlbnRlclsyXV0sXG4gICAgICBbaW5DZW50ZXJbMF0gKyBpblNpemUsIGluQ2VudGVyWzFdLCBpbkNlbnRlclsyXV0sXG4gICAgICBbaW5DZW50ZXJbMF0sIGluQ2VudGVyWzFdIC0gaW5TaXplLCBpbkNlbnRlclsyXV0sXG4gICAgICBbaW5DZW50ZXJbMF0sIGluQ2VudGVyWzFdICsgaW5TaXplLCBpbkNlbnRlclsyXV0sXG4gICAgICBbaW5DZW50ZXJbMF0sIGluQ2VudGVyWzFdLCBpbkNlbnRlclsyXSAtIGluU2l6ZV0sXG4gICAgICBbaW5DZW50ZXJbMF0sIGluQ2VudGVyWzFdLCBpbkNlbnRlclsyXSArIGluU2l6ZV1cbiAgICBdO1xuICAgIGNvbnN0IGNyb3NzSW5kaWNlczogbnVtYmVyW10gPSBbMCwgMSwgMiwgMywgNCwgNV07XG5cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgY3Jvc3NJbmRpY2VzLmxlbmd0aDsgaWkgKz0gMikge1xuICAgICAgY29uc3QgdmVydGV4QSA9IGNyb3NzVmVydGljZXNbaWkgKyAwXTtcbiAgICAgIGNvbnN0IHZlcnRleEIgPSBjcm9zc1ZlcnRpY2VzW2lpICsgMV07XG4gICAgICB0aGlzLl93aXJlRnJhbWVzU3RhY2tSZW5kZXJlci5wdXNoTGluZSh2ZXJ0ZXhBLCB2ZXJ0ZXhCLCBpbkNvbG9yKTtcbiAgICB9XG4gIH1cblxuICBwdXNoVGhpY2tMaW5lKGluUG9pbnRBOiBnbG0uUmVhZG9ubHlWZWMzLCBpblBvaW50QjogZ2xtLlJlYWRvbmx5VmVjMywgdGhpY2tuZXNzOiBudW1iZXIsIGluQ29sb3I6IGdsbS5SZWFkb25seVZlYzMpIHtcbiAgICB0aGlzLl90cmlhbmdsZXNTdGFja1JlbmRlcmVyLnB1c2hMaW5lKGluUG9pbnRBLCBpblBvaW50QiwgdGhpY2tuZXNzLCBpbkNvbG9yKTtcbiAgfVxuXG4gIHB1c2hSb3RhdGVkTGluZShjZW50ZXI6IGdsbS5SZWFkb25seVZlYzMsIGFuZ2xlOiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCB0aGlja25lc3M6IG51bWJlciwgY29sb3I6IGdsbS5SZWFkb25seVZlYzMpIHtcbiAgICB0aGlzLl90cmlhbmdsZXNTdGFja1JlbmRlcmVyLnB1c2hSb3RhdGVkTGluZShjZW50ZXIsIGFuZ2xlLCBsZW5ndGgsIHRoaWNrbmVzcywgY29sb3IpO1xuICB9XG5cbiAgcHVzaE9yaWdpbkJvdW5kUmVjdGFuZ2xlKFxuICAgIGluT3JpZ2luOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluU2l6ZTogZ2xtLlJlYWRvbmx5VmVjMixcbiAgICBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzIHwgZ2xtLlJlYWRvbmx5VmVjNFxuICApIHtcbiAgICB0aGlzLl90cmlhbmdsZXNTdGFja1JlbmRlcmVyLnB1c2hPcmlnaW5Cb3VuZFJlY3RhbmdsZShpbk9yaWdpbiwgaW5TaXplLCBpbkNvbG9yKTtcbiAgfVxuXG4gIHB1c2hDZW50ZXJlZFJlY3RhbmdsZShcbiAgICBpbkNlbnRlcjogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBpblNpemU6IGdsbS5SZWFkb25seVZlYzIsXG4gICAgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyB8IGdsbS5SZWFkb25seVZlYzRcbiAgKSB7XG4gICAgdGhpcy5fdHJpYW5nbGVzU3RhY2tSZW5kZXJlci5wdXNoQ2VudGVyZWRSZWN0YW5nbGUoaW5DZW50ZXIsIGluU2l6ZSwgaW5Db2xvcik7XG4gIH1cblxuICBwdXNoVHJpYW5nbGUoXG4gICAgaW5Qb3NBOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluUG9zQjogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBpblBvc0M6IGdsbS5SZWFkb25seVZlYzMsXG4gICAgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyB8IGdsbS5SZWFkb25seVZlYzRcbiAgKSB7XG4gICAgdGhpcy5fdHJpYW5nbGVzU3RhY2tSZW5kZXJlci5wdXNoVHJpYW5nbGUoaW5Qb3NBLCBpblBvc0IsIGluUG9zQywgaW5Db2xvcik7XG4gIH1cblxuICBwdXNoUXVhZChpblBvczogZ2xtLlJlYWRvbmx5VmVjMywgaW5TaXplOiBnbG0uUmVhZG9ubHlWZWMyLCBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzIHwgZ2xtLlJlYWRvbmx5VmVjNCkge1xuICAgIHRoaXMucHVzaFRyaWFuZ2xlKFxuICAgICAgW2luUG9zWzBdICsgaW5TaXplWzBdICogMCwgaW5Qb3NbMV0gKyBpblNpemVbMV0gKiAwLCBpblBvc1syXV0sXG4gICAgICBbaW5Qb3NbMF0gKyBpblNpemVbMF0gKiAxLCBpblBvc1sxXSArIGluU2l6ZVsxXSAqIDEsIGluUG9zWzJdXSxcbiAgICAgIFtpblBvc1swXSArIGluU2l6ZVswXSAqIDEsIGluUG9zWzFdICsgaW5TaXplWzFdICogMCwgaW5Qb3NbMl1dLFxuICAgICAgaW5Db2xvclxuICAgICk7XG4gICAgdGhpcy5wdXNoVHJpYW5nbGUoXG4gICAgICBbaW5Qb3NbMF0gKyBpblNpemVbMF0gKiAwLCBpblBvc1sxXSArIGluU2l6ZVsxXSAqIDAsIGluUG9zWzJdXSxcbiAgICAgIFtpblBvc1swXSArIGluU2l6ZVswXSAqIDEsIGluUG9zWzFdICsgaW5TaXplWzFdICogMSwgaW5Qb3NbMl1dLFxuICAgICAgW2luUG9zWzBdICsgaW5TaXplWzBdICogMCwgaW5Qb3NbMV0gKyBpblNpemVbMV0gKiAxLCBpblBvc1syXV0sXG4gICAgICBpbkNvbG9yXG4gICAgKTtcbiAgfVxuXG4gIGZsdXNoKGluQ29tcG9zZWRNYXRyaXg6IGdsbS5SZWFkb25seU1hdDQpIHtcbiAgICBpZiAoIXRoaXMuX3dpcmVGcmFtZXNTdGFja1JlbmRlcmVyLmNhblJlbmRlcigpICYmICF0aGlzLl90cmlhbmdsZXNTdGFja1JlbmRlcmVyLmNhblJlbmRlcigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2hhZGVyLmJpbmQoKGJvdW5kKSA9PiB7XG4gICAgICBib3VuZC5zZXRNYXRyaXg0VW5pZm9ybSgndV9jb21wb3NlZE1hdHJpeCcsIGluQ29tcG9zZWRNYXRyaXgpO1xuXG4gICAgICB0aGlzLl93aXJlRnJhbWVzU3RhY2tSZW5kZXJlci5mbHVzaCgpO1xuICAgICAgdGhpcy5fdHJpYW5nbGVzU3RhY2tSZW5kZXJlci5mbHVzaCgpO1xuICAgIH0pO1xuICB9XG5cbiAgc2FmZVJlbmRlcihpbkNvbXBvc2VkTWF0cml4OiBnbG0uUmVhZG9ubHlNYXQ0LCBpbkNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5fc2hhZGVyLmJpbmQoKGJvdW5kKSA9PiB7XG4gICAgICBib3VuZC5zZXRNYXRyaXg0VW5pZm9ybSgndV9jb21wb3NlZE1hdHJpeCcsIGluQ29tcG9zZWRNYXRyaXgpO1xuXG4gICAgICBpbkNhbGxiYWNrKCk7XG5cbiAgICAgIHRoaXMuX3dpcmVGcmFtZXNTdGFja1JlbmRlcmVyLmZsdXNoKCk7XG4gICAgICB0aGlzLl90cmlhbmdsZXNTdGFja1JlbmRlcmVyLmZsdXNoKCk7XG4gICAgfSk7XG4gIH1cblxuICBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLl93aXJlRnJhbWVzU3RhY2tSZW5kZXJlci5jbGVhcigpO1xuICAgIHRoaXMuX3RyaWFuZ2xlc1N0YWNrUmVuZGVyZXIuY2xlYXIoKTtcbiAgfVxufVxuIiwKICAiZXhwb3J0IGRlZmF1bHQgYFxuI3ZlcnNpb24gMzAwIGVzXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxudW5pZm9ybSBtYXQ0IHVfY29tcG9zZWRNYXRyaXg7XG5cbmluIHZlYzIgYV92ZXJ0ZXhfcG9zaXRpb247XG5pbiB2ZWMyIGFfdmVydGV4X3RleENvb3JkO1xuaW4gdmVjMyBhX29mZnNldF9wb3NpdGlvbjtcbmluIHZlYzIgYV9vZmZzZXRfdGV4Q29vcmQ7XG5pbiB2ZWMzIGFfb2Zmc2V0X2NvbG9yO1xuaW4gZmxvYXQgYV9vZmZzZXRfc2NhbGU7XG5cbm91dCB2ZWMyIHZfdGV4Q29vcmQ7XG5mbGF0IG91dCB2ZWMzIHZfY29sb3I7XG5cbnZvaWQgbWFpbih2b2lkKVxue1xuICB2ZWMzIHBvc2l0aW9uID0gdmVjMyhhX3ZlcnRleF9wb3NpdGlvbiwgMC4wKSAqIGFfb2Zmc2V0X3NjYWxlICsgYV9vZmZzZXRfcG9zaXRpb247XG5cbiAgZ2xfUG9zaXRpb24gPSB1X2NvbXBvc2VkTWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcblxuICB2X3RleENvb3JkID0gYV92ZXJ0ZXhfdGV4Q29vcmQgKyBhX29mZnNldF90ZXhDb29yZDtcbiAgdl9jb2xvciA9IGFfb2Zmc2V0X2NvbG9yO1xufVxuYC50cmltKCk7IiwKICAiZXhwb3J0IGRlZmF1bHQgYFxuI3ZlcnNpb24gMzAwIGVzXG5cbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG51bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7XG5cbmluIHZlYzIgdl90ZXhDb29yZDtcbmZsYXQgaW4gdmVjMyB2X2NvbG9yO1xuXG5vdXQgdmVjNCBvX2NvbG9yO1xuXG52b2lkIG1haW4odm9pZClcbntcbiAgdmVjNCB0ZXh0dXJlQ29sb3IgPSB0ZXh0dXJlKHVfdGV4dHVyZSwgdl90ZXhDb29yZCk7XG4gIGlmICh0ZXh0dXJlQ29sb3IuYSA8IDAuNSlcbiAge1xuICAgIGRpc2NhcmQ7XG4gIH1cbiAgZWxzZVxuICB7XG4gICAgb19jb2xvciA9IHZlYzQodl9jb2xvciwgdGV4dHVyZUNvbG9yLmEpO1xuICB9XG59XG5gLnRyaW0oKTsiLAogICJleHBvcnQgY29uc3QgYXNjaWlUZXh0dXJlSGV4ID1cbiAgJzdlN2UyOGZkMDNmZDA3ZmUwNGZlMGFmZjAyZmY3ZTRkZmQwY2ZkMDNmZDA3ZmUwNGZlMGFmZjAyZmYxYWZjMGRmZDEwZmMwOGZjMGZmZTU1ZmYxNWZiMGJmZDAzZmQwN2ZlMDRmZTA4ZjcwN2ZkMDRmZjA3ZmUwMmZlMGNmZDBmZmQwY2ZkMGFmZjAzZmUwM2ZmMGFmZTQ0ZmUxNWZiMGJmZDAzZmQwNGYyMDRmNjA3ZmQwM2ZlMDdmZTAyZmUwY2ZkMGVmZDBlZmQwYWZmMDJmZTAyZmYwYmZlNDNmZDE1ZmIwY2ZlMDNmZTA1ZjIwNGZlMDFmZjAyZmYwYWZkMDJmZDA3ZmUwMmZlMGJmZDBlZmQxMGZkMGFmYTBjZmU0MmZkMTZmYjFiZmUwNGZlMDdmZTAxZmYwMmZmMGVmZDA5ZmMxY2ZkMTJmZDA5ZmEwY2ZlNDFmZDE3ZmIxYmZlMDRmZTA3ZjcwYmZkMGFmYzA0ZmYxN2ZkMTJmZDA2ZjQwNWY2MTZmNjFjZmQxOWZkMWNmZTA0ZmUwOGY3MDlmZDBiZmIwMmZlMTdmZDEyZmQwNmY0MDVmNjE2ZjYxYmZkMWFmZDFjZmUwNGZlMGFmZjAyZmYwMWZlMDhmZDBiZmUwMmZhMTdmZDEyZmQwOWZhMGNmZTNlZmQzN2YyMDdmZjAyZmYwMWZlMDdmZDAyZmQwN2ZlMDNmYzE5ZmQxMGZkMGFmYTBjZmUzZGZkMzhmMjA0ZjYwN2ZlMDNmZDA3ZmUwM2ZkMWJmZDBlZmQwYWZmMDJmZTAyZmYwYmZlMGNmZDFkZmQwZGZkMWRmZDFjZmUwNGZlMDdmNzA4ZmYwNGZkMDdmZTAyZmIxYmZkMGNmZDBhZmYwM2ZlMDNmZjBhZmUwY2ZkMWRmZDBjZmQxZWZkMWNmZTA0ZmUwYWZmMDJmZjFhZmIwMmZlMWJmYzA4ZmMwZmZlMWNmZDFkZmQwYmZkMWZmZDFjZmUwNGZlMGFmZjAyZmY3YWZkN2U3ZTdlN2U3ZTdlMGVmZDE3ZmQxMGZjMGFmODBiZmUwYmY5MDlmOTBkZmQwOGY2MDlmYjA4ZjUwNmY4MDhmODJjZmQxOWZkMGRmODA3ZmQwNGZkMGFmZTBhZmQwM2ZkMDdmZDAzZmQwYmZjMDhmZDBmZmQwYmZkMDVmZDA1ZmQwNGZkMDZmZDA0ZmQyYWZkMWJmZDBiZmMwMmZjMDZmZDAzZmMwOWZkMGFmZDA0ZmQwNmZkMDRmZDA5ZmIwOGZkMGVmZDBjZmQwNWZkMDVmZDA0ZmQwNmZkMDRmZDA5ZmQwY2ZkMGVmZDFkZmQwYWZlMDVmZDA2ZmQwMmZiMDZmYTExZmQwZGZkMDhmZTAxZmQwOGZkMGRmZDBkZmQwNWZkMDVmZDA0ZmQwNmZkMDRmZDA5ZmQwY2ZkMGRmZDBhZjQwOWZkMTBmZDA2ZmQwMmZiMDZmYTEwZmQwZGZkMDhmZTAyZmQwOGZkMGRmZDE1ZmQwNWZiMDJmZDA2ZmQwNGZkMDlmZDBjZmQwY2ZkMGJmNDBhZmQwZWZkMDdmZDAxZmUwMWZkMDlmZDBmZmQwYmZiMDhmZTAzZmQwOGY4MDhmNzBlZmQwOGZhMDhmNjI2ZmQyM2ZkMGNmZDA4ZmQwMWZlMDFmZDA5ZmQwZWZkMGNmYjA4ZjYwNmY3MDdmNjBjZmQwOWZhMDlmNzI2ZmQyM2ZkMGJmZDA5ZmIwMmZkMDlmZDBkZmQxMGZkMDdmNjBjZmMwNmZkMDRmZDBiZmQwOGZkMDJmYjBkZmQwOWZkMGNmZDBjZmQwYmY0MGFmZDBjZmQwOWZiMDJmZDA5ZmQwY2ZkMTJmZDBiZmQwZmZkMDZmZDA0ZmQwYWZkMDlmZDA0ZmQwZGZkMDlmZDBjZmQwZGZkMGFmNDA5ZmQxOWZjMDNmZDA5ZmQwYmZkMDNmZDA2ZmQwNGZkMGJmZDA4ZmQwNGZkMDZmZDA0ZmQwOWZkMGFmZDA0ZmQwY2ZkMGFmZDBjZmQwZWZkMWRmZDFhZmQwNGZkMDlmZDBhZmQwNGZkMDZmZDAzZmQwY2ZkMDhmZDAzZmQwN2ZkMDRmZDA5ZmQwYWZkMDRmZDBiZmQxOWZkMTBmZDFiZmQwZmZkMGFmODA3ZjcwN2Y2MDdmOTBiZjkwN2Y5MDlmODBhZmQwYmY4MDlmYjJlZmQxOWZkMTBmZDdlNTFmZDE3ZmQxMWZkN2U3ZTdlN2UxM2Y4N2U3OGZkMDVmZDA4ZmMwOWY3MDlmOTA3ZjgwOGY2MDZmNjA4ZjkwN2ZkMDNmZDA3ZjkwZGY5MDVmYzAzZmQwNmZiMGJmZDA1ZmQwNWZkMDVmZDA4ZmIwOGZkMDVmZDA3ZmEwOWZkMDNmZDA3ZmQwM2ZkMDdmZDAyZmQwOGZkMDRmZTA3ZmQwNGZlMDdmZDAzZmQwNmZkMDNmZDA5ZmQxMWZkMDhmZDAzZmQwN2ZkMGNmYzAzZmMwNWZkMDVmZDA3ZmQwMWZkMDdmZDA1ZmQwNmZkMDJmZDA4ZmQwM2ZkMDZmZDA0ZmQwN2ZkMDNmZDA3ZmQwNWZmMDdmZDA1ZmYwNmZkMDRmZDA2ZmQwM2ZkMDlmZDExZmQwOGZkMDJmZDA4ZmQwY2ZiMDFmYjA1ZmMwNGZkMDZmZDAzZmQwNmZkMDVmZDA1ZmQwNGZkMDdmZDAzZmQwNmZkMGVmZDAzZmQwN2ZkMGRmZDBjZmQwNGZkMDZmZDAzZmQwOWZkMTFmZDA4ZmQwMWZkMDlmZDBjZjUwNWZiMDNmZDA1ZmQwNWZkMDVmZDAyZmEwNWZkMDRmZDA3ZmQwM2ZkMDZmZDBlZmQwM2ZkMDdmZDAzZmUwOGZkMDNmZTA3ZmQwZGZkMDNmZDA5ZmQxMWZkMDhmYTBhZmQwY2Y1MDVmYTAyZmQwNWZkMDVmZDA1ZmQwMmZhMDVmZDA0ZmQwN2Y4MDdmZDBlZmQwM2ZkMDdmODA4ZjgwN2ZkMGRmNzA5ZmQxMWZkMDhmYjBiZmQwY2ZkMDFmZDAxZmQwNWZkMDFmZDAxZmQwNWZkMDVmZDA1ZmQwMmZhMDVmZDA0ZmQwN2Y4MDdmZDBlZmQwM2ZkMDdmODA4ZjgwN2ZkMGRmNzA5ZmQxMWZkMDhmYjBiZmQwY2ZkMDJmZjAyZmQwNWZkMDJmYTA1ZmQwNWZkMDVmZDAyZmEwNWY2MDdmZDAzZmQwNmZkMGVmZDAzZmQwN2ZkMDNmZTA4ZmQwM2ZlMDdmZDAyZmIwNmZkMDNmZDA5ZmQwYmZkMDNmZDA4ZmEwYWZkMGNmZDA1ZmQwNWZkMDNmYjA1ZmQwNWZkMDVmZDBkZmQwNGZkMDdmZDAzZmQwNmZkMGVmZDAzZmQwN2ZkMGRmZDBjZmQwNGZkMDZmZDAzZmQwOWZkMGJmZDAzZmQwOGZkMDFmZDA5ZmQwNWZmMDZmZDA1ZmQwNWZkMDRmYzA1ZmQwNWZkMDVmZDBkZmQwNGZkMDdmZDAzZmQwNmZkMDRmZDA3ZmQwM2ZkMDdmZDA1ZmYwN2ZkMGNmZDA0ZmQwNmZkMDNmZDA5ZmQwYmZkMDNmZDA4ZmQwMmZkMDhmZDA0ZmUwNmZkMDVmZDA1ZmQwNWZkMDZmZDAzZmQwNmZkMGRmZDA0ZmQwN2ZkMDNmZDA3ZmQwM2ZkMDdmZDAyZmQwOGZkMDRmZTA3ZmQwZGZkMDNmZDA2ZmQwM2ZkMDlmZDBiZmQwM2ZkMDhmZDAzZmQwN2ZkMDNmZDA2ZmQwNWZkMDVmZDA1ZmQwN2ZkMDFmZDA3ZmQwZGZkMDRmZDA2ZjcwOWY5MDdmODA4ZjYwNmZiMGRmODA2ZmQwM2ZkMDdmOTBhZjkwOGZjMDNmZDA2ZjYwNmZkMDVmZDA1ZmQwNWZkMDhmYjBhZjg3ZTdlN2U3ZTdlN2U3ZTY4ZmUxYWY3MGFmYjA4ZjcwOGY4MDdmNTA1ZmQwM2ZkMDdmZDAzZmQwN2ZkMDVmZDA1ZmQwM2ZkMDdmZDAzZmQwN2Y2MDhmOTA3ZmYxMWY5MGFmYzFhZmQwM2ZkMDdmYzAxZmMwN2ZkMDNmZDA2ZmQwNGZkMDZmZTAyZmQwMmZlMDVmZDAzZmQwN2ZkMDNmZDA3ZmQwNWZkMDVmZDAzZmQwN2ZkMDNmZDA3ZmQwNGZkMDhmZDBiZmUxNGZkMDlmYTE5ZmQwM2ZkMDdmZDAzZmQwN2ZkMDNmZDA2ZmQwNGZkMDZmZjAzZmQwM2ZmMDVmZDAzZmQwN2ZkMDNmZDA3ZmQwNWZkMDVmZDAzZmQwN2ZkMDNmZDA3ZmUwNWZkMDhmZDBiZmQxM2ZkMDhmZDAyZmQxOGZkMDNmZDA2ZmQwNWZkMDZmZDAzZmQwNmZkMDRmZDBhZmQwOWZkMDNmZDA3ZmQwM2ZkMDdmZDA1ZmQwNmZkMDFmZDA4ZmQwM2ZkMDdmZjA1ZmQwOWZkMGNmZDEyZmQwN2ZkMDRmZDE3ZmQwM2ZkMDZmZDA1ZmQwNmZkMDNmZDA2ZmQxMWZkMDlmZDAzZmQwN2ZkMDNmZDA3ZmQwNWZkMDdmYjA5ZmQwM2ZkMGNmZDBhZmQwZGZkMTFmZDI4ZjgwN2ZkMDVmZDA2ZjgwOGY5MGNmZDA5ZmQwM2ZkMDdmZDAzZmQwN2ZkMDJmZjAyZmQwOGZkMGJmZDAxZmQwY2ZkMGJmZDBlZmQxMGZkMjhmODA3ZmQwNWZkMDZmODA5ZjkwYmZkMDlmZDAzZmQwN2ZkMDNmZDA3ZmQwMmZmMDJmZDA4ZmQwY2ZiMGNmZDBjZmQwZmZkMGZmZDI4ZmQwY2ZkMDNmYjA2ZmQwMmZkMGVmZDBhZmQwOWZkMDNmZDA3ZmQwM2ZkMDdmZDAyZmYwMmZkMDdmYjBjZmQwY2ZkMGRmZDEwZmQwZWZkMjhmZDBjZmQwMmZhMDZmZDAzZmQwNmZkMDRmZDBhZmQwOWZkMDNmZDA3ZmQwM2ZkMDhmNzA3ZmQwMWZkMGJmZDBiZmQwNWZmMDhmZDExZmQwZGZkMjhmZDBkZjcwN2ZkMDNmZDA2ZmQwNGZkMGFmZDA5ZmQwM2ZkMDhmZDAxZmQwOWZjMDFmYzA2ZmQwM2ZkMGFmZDBhZmQwNWZlMDhmZDEyZmQwY2ZkMjhmZDBkZjcwN2ZkMDNmZDA2ZmQwNGZkMGFmZDA5ZmQwM2ZkMDlmYjBiZmQwMWZkMDdmZDAzZmQwYWZkMGFmZDA0ZmQwOGZkMTNmZDBiZmQyN2ZiMTJmZDA2ZmMwM2ZkMDdmODA5ZjkwOGY5MGJmZDBjZmQwMWZkMDdmZDAzZmQwOGY5MDhmNjA4ZjkxMGZkMDZmOTNjZmE3ZTU0ZjA3ZTcyZjA3ZTdlN2U3ZTBiZmQxZGZjMjFmYjE5ZmIxOGZjMTBmZDBmZmQwN2ZjMGRmYTM5ZmQxZWZkMjJmZDE5ZmQwMWZkMThmZDEwZmQwZmZkMDhmZDEwZmQzYmZkMWNmZDIyZmQxOWZkMDFmZDE4ZmQxMGZkMGZmZDA4ZmQxMGZkM2JmZDFjZmQyMmZkMTlmZDFjZmQyZGZkMTBmZDRhZjkwOWY4MDhmOTA5ZjgwOGY5MGFmZDBjZmIwMmZlMDdmZDAxZmMwOGZhMGNmYTA4ZmQwM2ZkMGFmZDA5ZjYwNmY4MDlmOTFlZmQwOGZkMDNmZDA2ZmQwM2ZkMDdmZDAzZmQwN2ZkMDNmZDA3ZjgwOGZkMDNmZDA4ZmMwMmZkMGFmZDBmZmQwOGZkMDJmZDBiZmQwOWZkMDJmZjAyZmQwNWZkMDNmZDA3ZmQwM2ZkMWRmZDA4ZmQwM2ZkMDZmZDAzZmQwN2ZkMDNmZDA3ZmQwM2ZkMDdmODA4ZmQwM2ZkMDhmYzAyZmQwYWZkMGZmZDA4ZmQwMWZkMGNmZDA5ZmQwMmZmMDJmZDA1ZmQwM2ZkMDdmZDAzZmQxOGY4MDhmZDAzZmQwNmZkMGRmZDAzZmQwN2Y3MDlmZDBiZmQwM2ZkMDhmZDAzZmQwYWZkMGZmZDA4ZmEwZGZkMDlmZDAyZmYwMmZkMDVmZDAzZmQwN2ZkMDNmZDE3ZmQwM2ZkMDhmZDAzZmQwNmZkMGRmZDAzZmQwN2ZkMGZmZDBiZmQwM2ZkMDhmZDAzZmQwYWZkMGZmZDA4ZmQwMWZkMGNmZDA5ZmQwMmZmMDJmZDA1ZmQwM2ZkMDdmZDAzZmQxN2ZkMDNmZDA4ZmQwM2ZkMDZmZDAzZmQwN2ZkMDNmZDA3ZmQwM2ZkMDlmZDBjZjgwOGZkMDNmZDBhZmQwZmZkMDhmZDAyZmQwYmZkMDlmZDAyZmYwMmZkMDVmZDAzZmQwN2ZkMDNmZDE3ZmQwM2ZkMDhmZDAzZmQwNmZkMDNmZDA3ZmQwM2ZkMDdmZDAzZmQwOWZkMGRmOTA4ZmQwM2ZkMGFmZDBmZmQwOGZkMDNmZDBhZmQwOWZkMDJmZjAyZmQwNWZkMDNmZDA3ZmQwM2ZkMThmYjAyZmUwNmZlMDJmYjA4ZjkwOWZiMDJmZTA3ZjkwOGY5MGZmZDA3ZmMwM2ZkMDdmNzA2ZmQwM2ZkMDdmYzAzZmQwN2Y3MDZmZDA1ZmQwNWZkMDNmZDA4Zjk3OGZkMDNmZDI3ZmQwM2ZkN2U0YWY5MmFmYTdlN2U3ZTdlN2U3ZTE4ZmEwOWZjMDlmYTFlZmU0ZWZmNmVmZDBkZmMwZGZkMWNmYzRjZmU2ZWZkMGRmYzBkZmQxYmZhNGFmZDZlZmQwZGZjMGRmZDFhZmQwMmZkMDdmZTAyZmIwN2ZiMDJmZTA3ZmMwMmZkMDhmOTA4ZjcwN2ZkMDNmZDA3ZmQwM2ZkMDdmZDA1ZmQwNWZkMDJmZDA5ZmQwM2ZkMDZmODBhZmQwZWZjMGVmZDA4ZmIwM2ZkMDVmZDA0ZmQwN2ZkMDNmZDA1ZmQwM2ZkMDlmNzA2ZmQwNGZlMDlmZDBiZmQwM2ZkMDdmZDAzZmQwN2ZkMDVmZDA1ZmQwMmZkMDlmZDAzZmQwNmZlMDNmZDA4ZmQyNGZkMDVmZDAxZmQwMmZkMDVmZTA2ZmUwN2ZkMDNmZDA1ZmQwM2ZkMDlmYzAyZmQwNmZkMDRmZTA5ZmQwYmZkMDNmZDA3ZmQwM2ZkMDdmZDA1ZmQwNmZhMGFmZDAzZmQwNmZmMDNmZDA5ZmQyNGZkMDVmZDAyZmQwMWZkMDVmZTA2ZmUwN2ZkMDNmZDA1ZmQwM2ZkMDlmZDBkZmIwY2ZkMGJmZDAzZmQwN2ZkMDNmZDA3ZmQwMmZmMDJmZDA3ZmMwYmZkMDNmZDA5ZmQwY2ZkMGVmYzBlZmQwN2ZkMDNmYjA2ZmUwNmZlMDdmZDAzZmQwNWZkMDNmZDA5ZmQwZmZiMGFmZDBiZmQwM2ZkMDdmZDAzZmQwN2ZkMDJmZjAyZmQwN2ZjMGJmZDAzZmQwOGZkMGVmZDBkZmMwZGZkMTlmZTA2ZmUwN2ZkMDNmZDA1ZmQwM2ZkMDlmZDBjZmUwNGZkMDlmZDAxZmQwN2ZkMDNmZDA4ZmQwMWZkMDlmYzAxZmMwN2ZhMGJmOTA4ZmQwM2ZmMGJmZDBkZmMwZGZkMTlmZTA2ZmUwN2Y4MDdmODA5ZmQwY2ZlMDRmZDA5ZmQwMWZkMDdmZDAzZmQwOWZiMGJmZDAxZmQwN2ZkMDJmZDBiZmIwOGZkMDNmZTBiZmQwZGZjMGRmZDE5ZjYwN2ZkMTFmZDA4ZmIwY2Y5MGJmYjA5ZmIwMmZlMDlmZDBjZmQwMWZkMDdmZDAyZmQwZGZkMDhmODBjZmEwOWZjMDlmYTFhZjYwN2ZkMTFmZDdjZmQ2OWZiMGZmYjc3ZmEnO1xuIiwKICAiaW1wb3J0ICogYXMgd2ViZ2wyIGZyb20gJy4uLy4uLy4uL2dyYXBoaWNzL3dlYmdsMic7XG5cbi8vIGltcG9ydCAqIGFzIHNoYWRlcnMgZnJvbSAnLi9zaGFkZXJzJztcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHRleHRSZW5kZXJlclZlcnRleCBmcm9tICcuL3NoYWRlcnMvdGV4dC1yZW5kZXJlci5nbHNsLnZlcnQnO1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHRleHRSZW5kZXJlckZyYWdtZW50IGZyb20gJy4vc2hhZGVycy90ZXh0LXJlbmRlcmVyLmdsc2wuZnJhZyc7XG5cbmltcG9ydCB7IGFzY2lpVGV4dHVyZUhleCB9IGZyb20gJy4vaW50ZXJuYWxzL2FzY2lpVGV4dHVyZUhleCc7XG5cbmltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG5jb25zdCBrX2dyaWRTaXplOiBnbG0uUmVhZG9ubHlWZWMyID0gWzE2LCA2XTtcbmNvbnN0IGtfdGV4Q29vcmQ6IGdsbS5SZWFkb25seVZlYzIgPSBbMSAvIGtfZ3JpZFNpemVbMF0sIDEgLyBrX2dyaWRTaXplWzFdXTtcblxuY29uc3Qga19idWZmZXJTaXplID0gOSAqIDEwMjQgKiA0O1xuXG50eXBlIEhvcml6b250YWxUZXh0QWxpZ24gPSAnbGVmdCcgfCAnY2VudGVyZWQnIHwgJ3JpZ2h0JztcbnR5cGUgVmVydGljYWxUZXh0QWxpZ24gPSAndG9wJyB8ICdjZW50ZXJlZCcgfCAnYm90dG9tJztcblxuZXhwb3J0IGludGVyZmFjZSBJVGV4dFJlbmRlcmVyIHtcbiAgc2V0VGV4dEFsaWduKGluSG9yaXpvbnRhbFRleHRBbGlnbjogSG9yaXpvbnRhbFRleHRBbGlnbiwgaW5WZXJ0aWNhbFRleHRBbGlnbjogVmVydGljYWxUZXh0QWxpZ24pOiB0aGlzO1xuICBzZXRUZXh0U2NhbGUoaW5TY2FsZTogbnVtYmVyKTogdGhpcztcbiAgc2V0VGV4dENvbG9yKGluUmVkOiBudW1iZXIsIGluR3JlZW46IG51bWJlciwgaW5CbHVlOiBudW1iZXIpOiB0aGlzO1xuXG4gIHB1c2hUZXh0KGluTWVzc2FnZTogc3RyaW5nLCBpblBvc2l0aW9uOiBnbG0uUmVhZG9ubHlWZWMyKTogdGhpcztcblxuICBmbHVzaChjb21wb3NlZE1hdHJpeDogZ2xtLlJlYWRvbmx5TWF0NCk6IHRoaXM7XG4gIGNsZWFyKCk6IHRoaXM7XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0UmVuZGVyZXIgaW1wbGVtZW50cyBJVGV4dFJlbmRlcmVyIHtcbiAgcHJpdmF0ZSBfc2hhZGVyOiB3ZWJnbDIuSVVuYm91bmRTaGFkZXI7XG4gIHByaXZhdGUgX2dlb21ldHJ5OiB3ZWJnbDIuR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5O1xuICBwcml2YXRlIF90ZXh0dXJlOiB3ZWJnbDIuSVVuYm91bmRUZXh0dXJlID0gbmV3IHdlYmdsMi5UZXh0dXJlKCk7XG4gIHByaXZhdGUgX3RleENvb3JkTWFwOiBNYXA8c3RyaW5nLCBnbG0uUmVhZG9ubHlWZWMyPjtcblxuICBwcml2YXRlIF9idWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGtfYnVmZmVyU2l6ZSk7XG4gIHByaXZhdGUgX2N1cnJlbnRTaXplOiBudW1iZXIgPSAwO1xuXG4gIHByaXZhdGUgX3RleHRTY2FsZTogbnVtYmVyID0gMTQ7XG4gIHByaXZhdGUgX3RleHRDb2xvcjogZ2xtLnZlYzMgPSBbMSwgMSwgMV07XG5cbiAgcHJpdmF0ZSBfaG9yaXpvbnRhbFRleHRBbGlnbjogSG9yaXpvbnRhbFRleHRBbGlnbiA9ICdsZWZ0JztcbiAgcHJpdmF0ZSBfdmVydGljYWxUZXh0QWxpZ246IFZlcnRpY2FsVGV4dEFsaWduID0gJ3RvcCc7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fc2hhZGVyID0gbmV3IHdlYmdsMi5TaGFkZXJQcm9ncmFtKCdUZXh0UmVuZGVyZXInLCB7XG4gICAgICB2ZXJ0ZXhTcmM6IHRleHRSZW5kZXJlclZlcnRleCxcbiAgICAgIGZyYWdtZW50U3JjOiB0ZXh0UmVuZGVyZXJGcmFnbWVudCxcbiAgICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgJ2FfdmVydGV4X3Bvc2l0aW9uJyxcbiAgICAgICAgJ2FfdmVydGV4X3RleENvb3JkJyxcbiAgICAgICAgJ2Ffb2Zmc2V0X3Bvc2l0aW9uJyxcbiAgICAgICAgJ2Ffb2Zmc2V0X3RleENvb3JkJyxcbiAgICAgICAgJ2Ffb2Zmc2V0X2NvbG9yJyxcbiAgICAgICAgJ2Ffb2Zmc2V0X3NjYWxlJ1xuICAgICAgXSxcbiAgICAgIHVuaWZvcm1zOiBbJ3VfY29tcG9zZWRNYXRyaXgnLCAndV90ZXh0dXJlJ11cbiAgICB9KTtcblxuICAgIGNvbnN0IGdlb0J1aWxkZXIgPSBuZXcgd2ViZ2wyLkdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeUJ1aWxkZXIoKTtcbiAgICBnZW9CdWlsZGVyXG4gICAgICAucmVzZXQoKVxuICAgICAgLnNldFByaW1pdGl2ZVR5cGUoJ3RyaWFuZ2xlcycpXG4gICAgICAuYWRkVmJvKClcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2FfdmVydGV4X3Bvc2l0aW9uJywgJ3ZlYzJmJylcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2FfdmVydGV4X3RleENvb3JkJywgJ3ZlYzJmJylcbiAgICAgIC5zZXRTdHJpZGUoNCAqIDQpXG4gICAgICAuYWRkVmJvKClcbiAgICAgIC5zZXRWYm9Bc0R5bmFtaWMoKVxuICAgICAgLnNldFZib0FzSW5zdGFuY2VkKClcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2Ffb2Zmc2V0X3Bvc2l0aW9uJywgJ3ZlYzNmJylcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2Ffb2Zmc2V0X3RleENvb3JkJywgJ3ZlYzJmJylcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2Ffb2Zmc2V0X2NvbG9yJywgJ3ZlYzNmJylcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2Ffb2Zmc2V0X3NjYWxlJywgJ2Zsb2F0JylcbiAgICAgIC5zZXRTdHJpZGUoOSAqIDQpO1xuXG4gICAgdGhpcy5fZ2VvbWV0cnkgPSBuZXcgd2ViZ2wyLkdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeSh0aGlzLl9zaGFkZXIsIGdlb0J1aWxkZXIuZ2V0RGVmKCkpO1xuXG4gICAgdHlwZSBWZXJ0ZXggPSB7IHBvc2l0aW9uOiBnbG0uUmVhZG9ubHlWZWMyOyB0ZXhDb29yZDogZ2xtLlJlYWRvbmx5VmVjMiB9O1xuXG4gICAgY29uc3QgdmVydGljZXM6IFtWZXJ0ZXgsIFZlcnRleCwgVmVydGV4LCBWZXJ0ZXhdID0gW1xuICAgICAge1xuICAgICAgICBwb3NpdGlvbjogWyswLjUsIC0wLjVdLFxuICAgICAgICB0ZXhDb29yZDogW2tfdGV4Q29vcmRbMF0gKiAxLCBrX3RleENvb3JkWzFdICogMV1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBvc2l0aW9uOiBbLTAuNSwgLTAuNV0sXG4gICAgICAgIHRleENvb3JkOiBba190ZXhDb29yZFswXSAqIDAsIGtfdGV4Q29vcmRbMV0gKiAxXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcG9zaXRpb246IFsrMC41LCArMC41XSxcbiAgICAgICAgdGV4Q29vcmQ6IFtrX3RleENvb3JkWzBdICogMSwga190ZXhDb29yZFsxXSAqIDBdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwb3NpdGlvbjogWy0wLjUsICswLjVdLFxuICAgICAgICB0ZXhDb29yZDogW2tfdGV4Q29vcmRbMF0gKiAwLCBrX3RleENvb3JkWzFdICogMF1cbiAgICAgIH1cbiAgICBdO1xuXG4gICAgY29uc3QgaW5kaWNlcyA9IFsxLCAwLCAyLCAxLCAyLCAzXTtcblxuICAgIGNvbnN0IGxldHRlclZlcnRpY2VzOiBudW1iZXJbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgaW5kZXggb2YgaW5kaWNlcykge1xuICAgICAgY29uc3QgdmVydGV4ID0gdmVydGljZXNbaW5kZXhdO1xuICAgICAgbGV0dGVyVmVydGljZXMucHVzaCh2ZXJ0ZXgucG9zaXRpb25bMF0sIHZlcnRleC5wb3NpdGlvblsxXSwgdmVydGV4LnRleENvb3JkWzBdLCB2ZXJ0ZXgudGV4Q29vcmRbMV0pO1xuICAgIH1cblxuICAgIHRoaXMuX2dlb21ldHJ5LmFsbG9jYXRlQnVmZmVyKDAsIGxldHRlclZlcnRpY2VzLCBsZXR0ZXJWZXJ0aWNlcy5sZW5ndGgpO1xuICAgIHRoaXMuX2dlb21ldHJ5LnNldFByaW1pdGl2ZUNvdW50KGxldHRlclZlcnRpY2VzLmxlbmd0aCAvIDQpO1xuXG4gICAgdGhpcy5fdGV4Q29vcmRNYXAgPSBuZXcgTWFwPHN0cmluZywgZ2xtLlJlYWRvbmx5VmVjMj4oW1xuICAgICAgWycgJywgWzAgKiBrX3RleENvb3JkWzBdLCAwICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWychJywgWzEgKiBrX3RleENvb3JkWzBdLCAwICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydcIicsIFsyICoga190ZXhDb29yZFswXSwgMCAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnIycsIFszICoga190ZXhDb29yZFswXSwgMCAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnJCcsIFs0ICoga190ZXhDb29yZFswXSwgMCAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnJScsIFs1ICoga190ZXhDb29yZFswXSwgMCAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnJicsIFs2ICoga190ZXhDb29yZFswXSwgMCAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFtcIidcIiwgWzcgKiBrX3RleENvb3JkWzBdLCAwICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWycoJywgWzggKiBrX3RleENvb3JkWzBdLCAwICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWycpJywgWzkgKiBrX3RleENvb3JkWzBdLCAwICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWycqJywgWzEwICoga190ZXhDb29yZFswXSwgMCAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnKycsIFsxMSAqIGtfdGV4Q29vcmRbMF0sIDAgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJywnLCBbMTIgKiBrX3RleENvb3JkWzBdLCAwICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWyctJywgWzEzICoga190ZXhDb29yZFswXSwgMCAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnLicsIFsxNCAqIGtfdGV4Q29vcmRbMF0sIDAgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJy8nLCBbMTUgKiBrX3RleENvb3JkWzBdLCAwICoga190ZXhDb29yZFsxXV1dLFxuXG4gICAgICBbJzAnLCBbMCAqIGtfdGV4Q29vcmRbMF0sIDEgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJzEnLCBbMSAqIGtfdGV4Q29vcmRbMF0sIDEgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJzInLCBbMiAqIGtfdGV4Q29vcmRbMF0sIDEgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJzMnLCBbMyAqIGtfdGV4Q29vcmRbMF0sIDEgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJzQnLCBbNCAqIGtfdGV4Q29vcmRbMF0sIDEgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJzUnLCBbNSAqIGtfdGV4Q29vcmRbMF0sIDEgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJzYnLCBbNiAqIGtfdGV4Q29vcmRbMF0sIDEgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJzcnLCBbNyAqIGtfdGV4Q29vcmRbMF0sIDEgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJzgnLCBbOCAqIGtfdGV4Q29vcmRbMF0sIDEgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJzknLCBbOSAqIGtfdGV4Q29vcmRbMF0sIDEgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJzonLCBbMTAgKiBrX3RleENvb3JkWzBdLCAxICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWyc7JywgWzExICoga190ZXhDb29yZFswXSwgMSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnPCcsIFsxMiAqIGtfdGV4Q29vcmRbMF0sIDEgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJz0nLCBbMTMgKiBrX3RleENvb3JkWzBdLCAxICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWyc+JywgWzE0ICoga190ZXhDb29yZFswXSwgMSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnPycsIFsxNSAqIGtfdGV4Q29vcmRbMF0sIDEgKiBrX3RleENvb3JkWzFdXV0sXG5cbiAgICAgIFsnQCcsIFswICoga190ZXhDb29yZFswXSwgMiAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnQScsIFsxICoga190ZXhDb29yZFswXSwgMiAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnQicsIFsyICoga190ZXhDb29yZFswXSwgMiAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnQycsIFszICoga190ZXhDb29yZFswXSwgMiAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnRCcsIFs0ICoga190ZXhDb29yZFswXSwgMiAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnRScsIFs1ICoga190ZXhDb29yZFswXSwgMiAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnRicsIFs2ICoga190ZXhDb29yZFswXSwgMiAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnRycsIFs3ICoga190ZXhDb29yZFswXSwgMiAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnSCcsIFs4ICoga190ZXhDb29yZFswXSwgMiAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnSScsIFs5ICoga190ZXhDb29yZFswXSwgMiAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnSicsIFsxMCAqIGtfdGV4Q29vcmRbMF0sIDIgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ0snLCBbMTEgKiBrX3RleENvb3JkWzBdLCAyICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydMJywgWzEyICoga190ZXhDb29yZFswXSwgMiAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnTScsIFsxMyAqIGtfdGV4Q29vcmRbMF0sIDIgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ04nLCBbMTQgKiBrX3RleENvb3JkWzBdLCAyICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydPJywgWzE1ICoga190ZXhDb29yZFswXSwgMiAqIGtfdGV4Q29vcmRbMV1dXSxcblxuICAgICAgWydQJywgWzAgKiBrX3RleENvb3JkWzBdLCAzICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydRJywgWzEgKiBrX3RleENvb3JkWzBdLCAzICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydSJywgWzIgKiBrX3RleENvb3JkWzBdLCAzICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydTJywgWzMgKiBrX3RleENvb3JkWzBdLCAzICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydUJywgWzQgKiBrX3RleENvb3JkWzBdLCAzICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydVJywgWzUgKiBrX3RleENvb3JkWzBdLCAzICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydWJywgWzYgKiBrX3RleENvb3JkWzBdLCAzICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydXJywgWzcgKiBrX3RleENvb3JkWzBdLCAzICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydYJywgWzggKiBrX3RleENvb3JkWzBdLCAzICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydZJywgWzkgKiBrX3RleENvb3JkWzBdLCAzICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydaJywgWzEwICoga190ZXhDb29yZFswXSwgMyAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnWycsIFsxMSAqIGtfdGV4Q29vcmRbMF0sIDMgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ1xcXFwnLCBbMTIgKiBrX3RleENvb3JkWzBdLCAzICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWyddJywgWzEzICoga190ZXhDb29yZFswXSwgMyAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnXicsIFsxNCAqIGtfdGV4Q29vcmRbMF0sIDMgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ18nLCBbMTUgKiBrX3RleENvb3JkWzBdLCAzICoga190ZXhDb29yZFsxXV1dLFxuXG4gICAgICBbJ2AnLCBbMCAqIGtfdGV4Q29vcmRbMF0sIDQgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ2EnLCBbMSAqIGtfdGV4Q29vcmRbMF0sIDQgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ2InLCBbMiAqIGtfdGV4Q29vcmRbMF0sIDQgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ2MnLCBbMyAqIGtfdGV4Q29vcmRbMF0sIDQgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ2QnLCBbNCAqIGtfdGV4Q29vcmRbMF0sIDQgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ2UnLCBbNSAqIGtfdGV4Q29vcmRbMF0sIDQgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ2YnLCBbNiAqIGtfdGV4Q29vcmRbMF0sIDQgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ2cnLCBbNyAqIGtfdGV4Q29vcmRbMF0sIDQgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ2gnLCBbOCAqIGtfdGV4Q29vcmRbMF0sIDQgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ2knLCBbOSAqIGtfdGV4Q29vcmRbMF0sIDQgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ2onLCBbMTAgKiBrX3RleENvb3JkWzBdLCA0ICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWydrJywgWzExICoga190ZXhDb29yZFswXSwgNCAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnbCcsIFsxMiAqIGtfdGV4Q29vcmRbMF0sIDQgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ20nLCBbMTMgKiBrX3RleENvb3JkWzBdLCA0ICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWyduJywgWzE0ICoga190ZXhDb29yZFswXSwgNCAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnbycsIFsxNSAqIGtfdGV4Q29vcmRbMF0sIDQgKiBrX3RleENvb3JkWzFdXV0sXG5cbiAgICAgIFsncCcsIFswICoga190ZXhDb29yZFswXSwgNSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsncScsIFsxICoga190ZXhDb29yZFswXSwgNSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsncicsIFsyICoga190ZXhDb29yZFswXSwgNSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsncycsIFszICoga190ZXhDb29yZFswXSwgNSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsndCcsIFs0ICoga190ZXhDb29yZFswXSwgNSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsndScsIFs1ICoga190ZXhDb29yZFswXSwgNSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsndicsIFs2ICoga190ZXhDb29yZFswXSwgNSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsndycsIFs3ICoga190ZXhDb29yZFswXSwgNSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsneCcsIFs4ICoga190ZXhDb29yZFswXSwgNSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsneScsIFs5ICoga190ZXhDb29yZFswXSwgNSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsneicsIFsxMCAqIGtfdGV4Q29vcmRbMF0sIDUgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ3snLCBbMTEgKiBrX3RleENvb3JkWzBdLCA1ICoga190ZXhDb29yZFsxXV1dLFxuICAgICAgWyd8JywgWzEyICoga190ZXhDb29yZFswXSwgNSAqIGtfdGV4Q29vcmRbMV1dXSxcbiAgICAgIFsnfScsIFsxMyAqIGtfdGV4Q29vcmRbMF0sIDUgKiBrX3RleENvb3JkWzFdXV0sXG4gICAgICBbJ34nLCBbMTQgKiBrX3RleENvb3JkWzBdLCA1ICoga190ZXhDb29yZFsxXV1dXG4gICAgXSk7XG5cbiAgICBjb25zdCB3aWR0aCA9IDI1NjtcbiAgICBjb25zdCBoZWlnaHQgPSA5NjtcbiAgICBjb25zdCBpbWFnZVBpeGVscyA9IG5ldyBVaW50OEFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAge1xuICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhc2NpaVRleHR1cmVIZXgubGVuZ3RoOyBpaSArPSAyKSB7XG4gICAgICAgIGxldCBjdXJyU2l6ZSA9IHBhcnNlSW50KGAke2FzY2lpVGV4dHVyZUhleC5zdWJzdHJpbmcoaWksIGlpICsgMil9MDAwMDAwYCwgMTYpID4+IDI0O1xuXG4gICAgICAgIGxldCBjdXJyVmFsID0gMDtcbiAgICAgICAgaWYgKGN1cnJTaXplIDwgMCkge1xuICAgICAgICAgIGN1cnJTaXplID0gLWN1cnJTaXplO1xuICAgICAgICAgIGN1cnJWYWwgPSAyNTU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgY3VyclNpemU7ICsraWkpIHtcbiAgICAgICAgICBpbWFnZVBpeGVsc1tpbmRleCAqIDQgKyAwXSA9IGN1cnJWYWw7XG4gICAgICAgICAgaW1hZ2VQaXhlbHNbaW5kZXggKiA0ICsgMV0gPSBjdXJyVmFsO1xuICAgICAgICAgIGltYWdlUGl4ZWxzW2luZGV4ICogNCArIDJdID0gY3VyclZhbDtcbiAgICAgICAgICBpbWFnZVBpeGVsc1tpbmRleCAqIDQgKyAzXSA9IGN1cnJWYWw7XG4gICAgICAgICAgKytpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3RleHR1cmUuaW5pdGlhbGl6ZSgpO1xuICAgIHRoaXMuX3RleHR1cmUuYmluZCgoYm91bmRUZXh0dXJlKSA9PiB7XG4gICAgICBib3VuZFRleHR1cmUubG9hZEZyb21NZW1vcnkod2lkdGgsIGhlaWdodCwgaW1hZ2VQaXhlbHMpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0VGV4dEFsaWduKGluSG9yaXpvbnRhbFRleHRBbGlnbjogSG9yaXpvbnRhbFRleHRBbGlnbiwgaW5WZXJ0aWNhbFRleHRBbGlnbjogVmVydGljYWxUZXh0QWxpZ24pOiB0aGlzIHtcbiAgICB0aGlzLl9ob3Jpem9udGFsVGV4dEFsaWduID0gaW5Ib3Jpem9udGFsVGV4dEFsaWduO1xuICAgIHRoaXMuX3ZlcnRpY2FsVGV4dEFsaWduID0gaW5WZXJ0aWNhbFRleHRBbGlnbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldFRleHRTY2FsZShpblNjYWxlOiBudW1iZXIpOiB0aGlzIHtcbiAgICB0aGlzLl90ZXh0U2NhbGUgPSBpblNjYWxlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2V0VGV4dENvbG9yKGluUmVkOiBudW1iZXIsIGluR3JlZW46IG51bWJlciwgaW5CbHVlOiBudW1iZXIpOiB0aGlzIHtcbiAgICB0aGlzLl90ZXh0Q29sb3JbMF0gPSBpblJlZDtcbiAgICB0aGlzLl90ZXh0Q29sb3JbMV0gPSBpbkdyZWVuO1xuICAgIHRoaXMuX3RleHRDb2xvclsyXSA9IGluQmx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1c2hUZXh0KGluTWVzc2FnZTogc3RyaW5nLCBpblBvc2l0aW9uOiBnbG0uUmVhZG9ubHlWZWMyKTogdGhpcyB7XG4gICAgLy9cbiAgICAvLyB2YWxpZGF0ZVxuICAgIC8vXG5cbiAgICBpZiAoaW5NZXNzYWdlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0aGlzLl90ZXh0U2NhbGUgPD0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY29uc3QgYWxsTGluZVdpZHRoOiBudW1iZXJbXSA9IFswXTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaW5NZXNzYWdlLmxlbmd0aDsgKytpaSkge1xuICAgICAgaWYgKGluTWVzc2FnZVtpaV0gPT0gJ1xcbicpIHtcbiAgICAgICAgYWxsTGluZVdpZHRoLnB1c2goMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGxMaW5lV2lkdGhbYWxsTGluZVdpZHRoLmxlbmd0aCAtIDFdICs9IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFsbExpbmVXaWR0aC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyBmb3IgKGNvbnN0IGN1cnJMaW5lIG9mIGFsbExpbmVXaWR0aCkge1xuICAgIC8vICAgaWYgKGN1cnJMaW5lID09PSAwKSB7XG4gICAgLy8gICAgIHJldHVybiB0aGlzO1xuICAgIC8vICAgfVxuICAgIC8vIH1cblxuICAgIGxldCBsaW5lSW5kZXggPSAwO1xuXG4gICAgY29uc3QgY3VyclBvczogZ2xtLnZlYzIgPSBbMCwgMF07XG5cbiAgICAvL1xuICAgIC8vIHByZSBwcm9jZXNzXG4gICAgLy9cblxuICAgIGNvbnN0IGhTY2FsZSA9IHRoaXMuX3RleHRTY2FsZSAqIDAuNTtcblxuICAgIHN3aXRjaCAodGhpcy5faG9yaXpvbnRhbFRleHRBbGlnbikge1xuICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgIGN1cnJQb3NbMF0gPSBpblBvc2l0aW9uWzBdO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NlbnRlcmVkJzpcbiAgICAgICAgY3VyclBvc1swXSA9IGluUG9zaXRpb25bMF0gLSBhbGxMaW5lV2lkdGhbbGluZUluZGV4XSAqIGhTY2FsZSArIGhTY2FsZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgIGN1cnJQb3NbMF0gPSBpblBvc2l0aW9uWzBdIC0gYWxsTGluZVdpZHRoW2xpbmVJbmRleF0gKiB0aGlzLl90ZXh0U2NhbGUgKyB0aGlzLl90ZXh0U2NhbGU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy5fdmVydGljYWxUZXh0QWxpZ24pIHtcbiAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgIGN1cnJQb3NbMV0gPSBpblBvc2l0aW9uWzFdO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NlbnRlcmVkJzpcbiAgICAgICAgY3VyclBvc1sxXSA9IGluUG9zaXRpb25bMV0gKyBhbGxMaW5lV2lkdGgubGVuZ3RoICogaFNjYWxlIC0gaFNjYWxlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgIGN1cnJQb3NbMV0gPSBpblBvc2l0aW9uWzFdIC0gKGFsbExpbmVXaWR0aC5sZW5ndGggLSAxKSAqIHRoaXMuX3RleHRTY2FsZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBwcm9jZXNzXG4gICAgLy9cblxuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBpbk1lc3NhZ2UubGVuZ3RoOyArK2lpKSB7XG4gICAgICBjb25zdCBsZXR0ZXIgPSBpbk1lc3NhZ2VbaWldO1xuXG4gICAgICBpZiAobGV0dGVyID09ICdcXG4nKSB7XG4gICAgICAgIGxpbmVJbmRleCArPSAxO1xuXG4gICAgICAgIC8vIGdvIGJhY2tcbiAgICAgICAgc3dpdGNoICh0aGlzLl9ob3Jpem9udGFsVGV4dEFsaWduKSB7XG4gICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICBjdXJyUG9zWzBdID0gaW5Qb3NpdGlvblswXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2NlbnRlcmVkJzpcbiAgICAgICAgICAgIGN1cnJQb3NbMF0gPSBpblBvc2l0aW9uWzBdIC0gYWxsTGluZVdpZHRoW2xpbmVJbmRleF0gKiBoU2NhbGUgKyBoU2NhbGU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICBjdXJyUG9zWzBdID0gaW5Qb3NpdGlvblswXSAtIGFsbExpbmVXaWR0aFtsaW5lSW5kZXhdICogdGhpcy5fdGV4dFNjYWxlICsgdGhpcy5fdGV4dFNjYWxlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyUG9zWzFdIC09IHRoaXMuX3RleHRTY2FsZTsgLy8gZ28gZG93blxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcHVzaExldHRlcihsZXR0ZXIsIGN1cnJQb3MpO1xuICAgICAgICAvLyBnbyByaWdodFxuICAgICAgICBjdXJyUG9zWzBdICs9IHRoaXMuX3RleHRTY2FsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcml2YXRlIF9wdXNoTGV0dGVyKGluQ2hhcmFjdGVyOiBzdHJpbmcsIGluUG9zaXRpb246IGdsbS5SZWFkb25seVZlYzIpIHtcbiAgICBpZiAodGhpcy5fY3VycmVudFNpemUgKyA5ICogMTAgPj0gdGhpcy5fYnVmZmVyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRleENvb3JkID0gdGhpcy5fdGV4Q29vcmRNYXAuZ2V0KGluQ2hhcmFjdGVyKTtcblxuICAgIGlmICghdGV4Q29vcmQpIHRocm93IG5ldyBFcnJvcihgZmFpbCB0byBmaW5kIGEgbGV0dGVyLCBsZXR0ZXI9JHtpbkNoYXJhY3Rlcn1gKTtcblxuICAgIGZvciAobGV0IHl5ID0gLTE7IHl5IDw9IDE7ICsreXkpIHtcbiAgICAgIGZvciAobGV0IHh4ID0gLTE7IHh4IDw9IDE7ICsreHgpIHtcbiAgICAgICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5Qb3NpdGlvblswXSArIDIgKiB4eDtcbiAgICAgICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5Qb3NpdGlvblsxXSArIDIgKiB5eTtcbiAgICAgICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gLTAuMTtcbiAgICAgICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gdGV4Q29vcmRbMF07XG4gICAgICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IHRleENvb3JkWzFdO1xuICAgICAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSAwOyAvLyBibGFja0NvbG9yXG4gICAgICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IDA7IC8vIGJsYWNrQ29sb3JcbiAgICAgICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gMDsgLy8gYmxhY2tDb2xvclxuICAgICAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSB0aGlzLl90ZXh0U2NhbGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5Qb3NpdGlvblswXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpblBvc2l0aW9uWzFdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IDAuMDtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSB0ZXhDb29yZFswXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSB0ZXhDb29yZFsxXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSB0aGlzLl90ZXh0Q29sb3JbMF07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gdGhpcy5fdGV4dENvbG9yWzFdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IHRoaXMuX3RleHRDb2xvclsyXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSB0aGlzLl90ZXh0U2NhbGU7XG4gIH1cblxuICBmbHVzaChjb21wb3NlZE1hdHJpeDogZ2xtLlJlYWRvbmx5TWF0NCk6IHRoaXMge1xuICAgIGlmICh0aGlzLl9jdXJyZW50U2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5fc2hhZGVyLmJpbmQoKGJvdW5kU2hhZGVyKSA9PiB7XG4gICAgICBib3VuZFNoYWRlci5zZXRNYXRyaXg0VW5pZm9ybSgndV9jb21wb3NlZE1hdHJpeCcsIGNvbXBvc2VkTWF0cml4KTtcbiAgICAgIGJvdW5kU2hhZGVyLnNldFRleHR1cmVVbmlmb3JtKCd1X3RleHR1cmUnLCB0aGlzLl90ZXh0dXJlLCAwKTtcblxuICAgICAgdGhpcy5fZ2VvbWV0cnkuYWxsb2NhdGVCdWZmZXIoMSwgdGhpcy5fYnVmZmVyLCB0aGlzLl9jdXJyZW50U2l6ZSk7XG4gICAgICB0aGlzLl9nZW9tZXRyeS5zZXRJbnN0YW5jZWRDb3VudCh0aGlzLl9jdXJyZW50U2l6ZSAvIDkpO1xuICAgICAgdGhpcy5fZ2VvbWV0cnkucmVuZGVyKCk7XG4gICAgfSk7XG5cbiAgICB3ZWJnbDIuVGV4dHVyZS51bmJpbmQoKTtcblxuICAgIHRoaXMuY2xlYXIoKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY2xlYXIoKTogdGhpcyB7XG4gICAgLy8gcmVzZXQgdmVydGljZXNcbiAgICB0aGlzLl9jdXJyZW50U2l6ZSA9IDA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbiIsCiAgImltcG9ydCAqIGFzIGJyb3dzZXIgZnJvbSAnLi4vLi4vLi4vc3lzdGVtL2Jyb3dzZXInO1xuaW1wb3J0ICogYXMgcmVuZGVyZXJzIGZyb20gJy4uLy4uLy4uL2dyYXBoaWNzL3JlbmRlcmVycyc7XG5cbmltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG5pbnRlcmZhY2UgSW5kaWNhdG9yIHtcbiAgY2VudGVyOiBnbG0uUmVhZG9ubHlWZWMyO1xuICBzaXplOiBnbG0uUmVhZG9ubHlWZWMyO1xuICB0ZXh0Pzogc3RyaW5nO1xuICBsaW5lcz86IHtcbiAgICBhOiBnbG0uUmVhZG9ubHlWZWMyO1xuICAgIGI6IGdsbS5SZWFkb25seVZlYzI7XG4gICAgdGhpY2tuZXNzOiBudW1iZXI7XG4gICAgY29sb3I6IGdsbS5SZWFkb25seVZlYzM7XG4gIH1bXTtcbiAgY29sb3I6IGdsbS5SZWFkb25seVZlYzM7XG59XG5cbmNvbnN0IGRlZmF1bHRDb2xvcjogZ2xtLlJlYWRvbmx5VmVjMyA9IFswLjIsIDAuMiwgMC4yXTtcbmNvbnN0IGFjdGl2YXRlZENvbG9yOiBnbG0uUmVhZG9ubHlWZWMzID0gWzAuMiwgMC42LCAwLjJdO1xuXG5jb25zdCBfcmVuZGVySW5kaWNhdG9yID0gKFxuICBjdXJySW5kaWNhdG9yOiBJbmRpY2F0b3IsXG4gIHN0YWNrUmVuZGVyZXJzOiByZW5kZXJlcnMuSVN0YWNrUmVuZGVyZXJzLFxuICB0ZXh0UmVuZGVyZXI6IHJlbmRlcmVycy5JVGV4dFJlbmRlcmVyXG4pID0+IHtcbiAgY29uc3QgeyBjZW50ZXIgfSA9IGN1cnJJbmRpY2F0b3I7XG5cbiAgc3RhY2tSZW5kZXJlcnMucHVzaENlbnRlcmVkUmVjdGFuZ2xlKGdsbS52ZWMzLmZyb21WYWx1ZXMoY2VudGVyWzBdLCBjZW50ZXJbMV0sIC0wLjMpLCBjdXJySW5kaWNhdG9yLnNpemUsIFswLCAwLCAwXSk7XG5cbiAgc3RhY2tSZW5kZXJlcnMucHVzaENlbnRlcmVkUmVjdGFuZ2xlKFxuICAgIGdsbS52ZWMzLmZyb21WYWx1ZXMoY2VudGVyWzBdLCBjZW50ZXJbMV0sIC0wLjIpLFxuICAgIFtjdXJySW5kaWNhdG9yLnNpemVbMF0gLSAyLCBjdXJySW5kaWNhdG9yLnNpemVbMV0gLSAyXSxcbiAgICBjdXJySW5kaWNhdG9yLmNvbG9yXG4gICk7XG5cbiAgaWYgKGN1cnJJbmRpY2F0b3IudGV4dCkge1xuICAgIHRleHRSZW5kZXJlclxuICAgICAgLnNldFRleHRTY2FsZSgxNilcbiAgICAgIC5zZXRUZXh0QWxpZ24oJ2NlbnRlcmVkJywgJ2NlbnRlcmVkJylcbiAgICAgIC5wdXNoVGV4dChjdXJySW5kaWNhdG9yLnRleHQsIGNlbnRlcilcbiAgICAgIC5zZXRUZXh0QWxpZ24oJ2xlZnQnLCAndG9wJyk7XG4gIH1cblxuICBpZiAoY3VyckluZGljYXRvci5saW5lcykge1xuICAgIGN1cnJJbmRpY2F0b3IubGluZXMuZm9yRWFjaCgoY3VyckxpbmUpID0+IHtcbiAgICAgIHN0YWNrUmVuZGVyZXJzLnB1c2hUaGlja0xpbmUoXG4gICAgICAgIFtjZW50ZXJbMF0gKyBjdXJyTGluZS5hWzBdLCBjZW50ZXJbMV0gKyBjdXJyTGluZS5hWzFdLCAwXSxcbiAgICAgICAgW2NlbnRlclswXSArIGN1cnJMaW5lLmJbMF0sIGNlbnRlclsxXSArIGN1cnJMaW5lLmJbMV0sIDBdLFxuICAgICAgICBjdXJyTGluZS50aGlja25lc3MsXG4gICAgICAgIGN1cnJMaW5lLmNvbG9yXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgYWRkS2V5U3Ryb2tlc1dpZGdldHMgPSAoXG4gIGluUG9zOiBnbG0uUmVhZG9ubHlWZWMyLFxuICBzdGFja1JlbmRlcmVyczogcmVuZGVyZXJzLklTdGFja1JlbmRlcmVycyxcbiAgdGV4dFJlbmRlcmVyOiByZW5kZXJlcnMuSVRleHRSZW5kZXJlclxuKSA9PiB7XG4gIF9yZW5kZXJJbmRpY2F0b3IoXG4gICAge1xuICAgICAgY2VudGVyOiBbaW5Qb3NbMF0sIGluUG9zWzFdXSxcbiAgICAgIHNpemU6IFs0MCwgNDBdLFxuICAgICAgdGV4dDogJ0FcXG5RJyxcbiAgICAgIGNvbG9yOiBicm93c2VyLkdsb2JhbEtleWJvYXJkTWFuYWdlci5pc1ByZXNzZWQoJ0EnLCAnUScpID8gYWN0aXZhdGVkQ29sb3IgOiBkZWZhdWx0Q29sb3JcbiAgICB9LFxuICAgIHN0YWNrUmVuZGVyZXJzLFxuICAgIHRleHRSZW5kZXJlclxuICApO1xuXG4gIF9yZW5kZXJJbmRpY2F0b3IoXG4gICAge1xuICAgICAgY2VudGVyOiBbaW5Qb3NbMF0gKyA0NSAqIDEsIGluUG9zWzFdXSxcbiAgICAgIHNpemU6IFs0MCwgNDBdLFxuICAgICAgdGV4dDogJ1MnLFxuICAgICAgY29sb3I6IGJyb3dzZXIuR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmlzUHJlc3NlZCgnUycpID8gYWN0aXZhdGVkQ29sb3IgOiBkZWZhdWx0Q29sb3JcbiAgICB9LFxuICAgIHN0YWNrUmVuZGVyZXJzLFxuICAgIHRleHRSZW5kZXJlclxuICApO1xuXG4gIF9yZW5kZXJJbmRpY2F0b3IoXG4gICAge1xuICAgICAgY2VudGVyOiBbaW5Qb3NbMF0gKyA0NSAqIDEsIGluUG9zWzFdICsgNDVdLFxuICAgICAgc2l6ZTogWzQwLCA0MF0sXG4gICAgICB0ZXh0OiAnV1xcblonLFxuICAgICAgY29sb3I6IGJyb3dzZXIuR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmlzUHJlc3NlZCgnVycsICdaJykgPyBhY3RpdmF0ZWRDb2xvciA6IGRlZmF1bHRDb2xvclxuICAgIH0sXG4gICAgc3RhY2tSZW5kZXJlcnMsXG4gICAgdGV4dFJlbmRlcmVyXG4gICk7XG5cbiAgX3JlbmRlckluZGljYXRvcihcbiAgICB7XG4gICAgICBjZW50ZXI6IFtpblBvc1swXSArIDQ1ICogMiwgaW5Qb3NbMV1dLFxuICAgICAgc2l6ZTogWzQwLCA0MF0sXG4gICAgICB0ZXh0OiAnRCcsXG4gICAgICBjb2xvcjogYnJvd3Nlci5HbG9iYWxLZXlib2FyZE1hbmFnZXIuaXNQcmVzc2VkKCdEJykgPyBhY3RpdmF0ZWRDb2xvciA6IGRlZmF1bHRDb2xvclxuICAgIH0sXG4gICAgc3RhY2tSZW5kZXJlcnMsXG4gICAgdGV4dFJlbmRlcmVyXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgYWRkQXJyb3dTdHJva2VzV2lkZ2V0cyA9IChcbiAgaW5Qb3M6IGdsbS5SZWFkb25seVZlYzIsXG4gIHN0YWNrUmVuZGVyZXJzOiByZW5kZXJlcnMuSVN0YWNrUmVuZGVyZXJzLFxuICB0ZXh0UmVuZGVyZXI6IHJlbmRlcmVycy5JVGV4dFJlbmRlcmVyXG4pID0+IHtcbiAgLy8gYXJyb3cgbGVmdFxuICBfcmVuZGVySW5kaWNhdG9yKFxuICAgIHtcbiAgICAgIGNlbnRlcjogW2luUG9zWzBdLCBpblBvc1sxXV0sXG4gICAgICBzaXplOiBbNDAsIDQwXSxcbiAgICAgIGxpbmVzOiBbXG4gICAgICAgIHsgYTogWzE1LCAwXSwgYjogWy04LCAwXSwgdGhpY2tuZXNzOiA2LCBjb2xvcjogWzEsIDEsIDFdIH0sXG4gICAgICAgIHsgYTogWzAsIDEwXSwgYjogWy0xMiwgLTJdLCB0aGlja25lc3M6IDYsIGNvbG9yOiBbMSwgMSwgMV0gfSxcbiAgICAgICAgeyBhOiBbMCwgLTEwXSwgYjogWy0xMiwgMl0sIHRoaWNrbmVzczogNiwgY29sb3I6IFsxLCAxLCAxXSB9XG4gICAgICBdLFxuICAgICAgY29sb3I6IGJyb3dzZXIuR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmlzUHJlc3NlZCgnQXJyb3dMZWZ0JykgPyBhY3RpdmF0ZWRDb2xvciA6IGRlZmF1bHRDb2xvclxuICAgIH0sXG4gICAgc3RhY2tSZW5kZXJlcnMsXG4gICAgdGV4dFJlbmRlcmVyXG4gICk7XG5cbiAgLy8gYXJyb3cgZG93blxuICBfcmVuZGVySW5kaWNhdG9yKFxuICAgIHtcbiAgICAgIGNlbnRlcjogW2luUG9zWzBdICsgNDUsIGluUG9zWzFdXSxcbiAgICAgIHNpemU6IFs0MCwgNDBdLFxuICAgICAgbGluZXM6IFtcbiAgICAgICAgeyBhOiBbMCwgMTVdLCBiOiBbMCwgLThdLCB0aGlja25lc3M6IDYsIGNvbG9yOiBbMSwgMSwgMV0gfSxcbiAgICAgICAgeyBhOiBbMTAsIDBdLCBiOiBbLTIsIC0xMl0sIHRoaWNrbmVzczogNiwgY29sb3I6IFsxLCAxLCAxXSB9LFxuICAgICAgICB7IGE6IFstMTAsIDBdLCBiOiBbMiwgLTEyXSwgdGhpY2tuZXNzOiA2LCBjb2xvcjogWzEsIDEsIDFdIH1cbiAgICAgIF0sXG4gICAgICBjb2xvcjogYnJvd3Nlci5HbG9iYWxLZXlib2FyZE1hbmFnZXIuaXNQcmVzc2VkKCdBcnJvd0Rvd24nKSA/IGFjdGl2YXRlZENvbG9yIDogZGVmYXVsdENvbG9yXG4gICAgfSxcbiAgICBzdGFja1JlbmRlcmVycyxcbiAgICB0ZXh0UmVuZGVyZXJcbiAgKTtcblxuICAvLyBhcnJvdyB1cFxuICBfcmVuZGVySW5kaWNhdG9yKFxuICAgIHtcbiAgICAgIGNlbnRlcjogW2luUG9zWzBdICsgNDUsIGluUG9zWzFdICsgNDVdLFxuICAgICAgc2l6ZTogWzQwLCA0MF0sXG4gICAgICBsaW5lczogW1xuICAgICAgICB7IGE6IFswLCAtMTVdLCBiOiBbMCwgOF0sIHRoaWNrbmVzczogNiwgY29sb3I6IFsxLCAxLCAxXSB9LFxuICAgICAgICB7IGE6IFsxMCwgMF0sIGI6IFstMiwgMTJdLCB0aGlja25lc3M6IDYsIGNvbG9yOiBbMSwgMSwgMV0gfSxcbiAgICAgICAgeyBhOiBbLTEwLCAwXSwgYjogWzIsIDEyXSwgdGhpY2tuZXNzOiA2LCBjb2xvcjogWzEsIDEsIDFdIH1cbiAgICAgIF0sXG4gICAgICBjb2xvcjogYnJvd3Nlci5HbG9iYWxLZXlib2FyZE1hbmFnZXIuaXNQcmVzc2VkKCdBcnJvd1VwJykgPyBhY3RpdmF0ZWRDb2xvciA6IGRlZmF1bHRDb2xvclxuICAgIH0sXG4gICAgc3RhY2tSZW5kZXJlcnMsXG4gICAgdGV4dFJlbmRlcmVyXG4gICk7XG5cbiAgLy8gYXJyb3cgcmlnaHRcbiAgX3JlbmRlckluZGljYXRvcihcbiAgICB7XG4gICAgICBjZW50ZXI6IFtpblBvc1swXSArIDQ1ICogMiwgaW5Qb3NbMV1dLFxuICAgICAgc2l6ZTogWzQwLCA0MF0sXG4gICAgICBsaW5lczogW1xuICAgICAgICB7IGE6IFstMTUsIDBdLCBiOiBbOCwgMF0sIHRoaWNrbmVzczogNiwgY29sb3I6IFsxLCAxLCAxXSB9LFxuICAgICAgICB7IGE6IFswLCAxMF0sIGI6IFsxMiwgLTJdLCB0aGlja25lc3M6IDYsIGNvbG9yOiBbMSwgMSwgMV0gfSxcbiAgICAgICAgeyBhOiBbMCwgLTEwXSwgYjogWzEyLCAyXSwgdGhpY2tuZXNzOiA2LCBjb2xvcjogWzEsIDEsIDFdIH1cbiAgICAgIF0sXG4gICAgICBjb2xvcjogYnJvd3Nlci5HbG9iYWxLZXlib2FyZE1hbmFnZXIuaXNQcmVzc2VkKCdBcnJvd1JpZ2h0JykgPyBhY3RpdmF0ZWRDb2xvciA6IGRlZmF1bHRDb2xvclxuICAgIH0sXG4gICAgc3RhY2tSZW5kZXJlcnMsXG4gICAgdGV4dFJlbmRlcmVyXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgYWRkS2V5c1RvdWNoZXNXaWRnZXRzID0gKFxuICBpbkNhbnZhc0VsZW1lbnQ6IEhUTUxDYW52YXNFbGVtZW50LFxuICBpblBvczogZ2xtLlJlYWRvbmx5VmVjMixcbiAgc3RhY2tSZW5kZXJlcnM6IHJlbmRlcmVycy5JU3RhY2tSZW5kZXJlcnMsXG4gIHRleHRSZW5kZXJlcjogcmVuZGVyZXJzLklUZXh0UmVuZGVyZXJcbikgPT4ge1xuICBpZiAoYnJvd3Nlci5HbG9iYWxUb3VjaE1hbmFnZXIuaXNTdXBwb3J0ZWQoaW5DYW52YXNFbGVtZW50KSkge1xuICAgIF9yZW5kZXJJbmRpY2F0b3IoXG4gICAgICB7XG4gICAgICAgIGNlbnRlcjogW2luUG9zWzBdICsgMTE1LCBpblBvc1sxXV0sXG4gICAgICAgIHNpemU6IFsyMzAsIDYwXSxcbiAgICAgICAgdGV4dDogJ1RvdWNoIEV2ZW50c1xcblN1cHBvcnRlZFxcbihkb3VibGUgdGFwKScsXG4gICAgICAgIGNvbG9yOiBbMCwgMC41LCAwXVxuICAgICAgfSxcbiAgICAgIHN0YWNrUmVuZGVyZXJzLFxuICAgICAgdGV4dFJlbmRlcmVyXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBfcmVuZGVySW5kaWNhdG9yKFxuICAgICAge1xuICAgICAgICBjZW50ZXI6IFtpblBvc1swXSArIDExNSwgaW5Qb3NbMV1dLFxuICAgICAgICBzaXplOiBbMjMwLCA2MF0sXG4gICAgICAgIHRleHQ6ICdUb3VjaCBFdmVudHNcXG5Ob3QgU3VwcG9ydGVkJyxcbiAgICAgICAgY29sb3I6IFswLjUsIDAsIDBdXG4gICAgICB9LFxuICAgICAgc3RhY2tSZW5kZXJlcnMsXG4gICAgICB0ZXh0UmVuZGVyZXJcbiAgICApO1xuICB9XG5cbiAgaWYgKGJyb3dzZXIuR2xvYmFsUG9pbnRlckxvY2tNYW5hZ2VyLmNhbkJlUG9pbnRlckxvY2tlZChpbkNhbnZhc0VsZW1lbnQpKSB7XG4gICAgX3JlbmRlckluZGljYXRvcihcbiAgICAgIHtcbiAgICAgICAgY2VudGVyOiBbaW5Qb3NbMF0gKyAxMDUsIGluUG9zWzFdICsgNzBdLFxuICAgICAgICBzaXplOiBbMjEwLCA2MF0sXG4gICAgICAgIHRleHQ6ICdNb3VzZVxcblN1cHBvcnRlZCcsXG4gICAgICAgIGNvbG9yOiBbMCwgMC41LCAwXVxuICAgICAgfSxcbiAgICAgIHN0YWNrUmVuZGVyZXJzLFxuICAgICAgdGV4dFJlbmRlcmVyXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBfcmVuZGVySW5kaWNhdG9yKFxuICAgICAge1xuICAgICAgICBjZW50ZXI6IFtpblBvc1swXSArIDEwNSwgaW5Qb3NbMV0gKyA3MF0sXG4gICAgICAgIHNpemU6IFsyMTAsIDYwXSxcbiAgICAgICAgdGV4dDogJ01vdXNlIEV2ZW50c1xcbk5vdCBTdXBwb3J0ZWQnLFxuICAgICAgICBjb2xvcjogWzAuNSwgMCwgMF1cbiAgICAgIH0sXG4gICAgICBzdGFja1JlbmRlcmVycyxcbiAgICAgIHRleHRSZW5kZXJlclxuICAgICk7XG4gIH1cbn07XG5cbi8vIGV4cG9ydCBjb25zdCByZW5kZXJDb250cm9scyA9IChcbi8vICAgaW5DYW52YXNFbGVtZW50OiBIVE1MQ2FudmFzRWxlbWVudCxcbi8vICAgc3RhY2tSZW5kZXJlcnM6IHJlbmRlcmVycy5JU3RhY2tSZW5kZXJlcnMsXG4vLyAgIHRleHRSZW5kZXJlcjogcmVuZGVyZXJzLklUZXh0UmVuZGVyZXJcbi8vICkgPT4ge1xuLy8gICAvLyBjb25zdCBhbGxJbmRpY2F0b3I6IEluZGljYXRvcltdID0gW107XG5cbi8vICAgY29uc3Qga2V5RXZlbnRzUG9zOiBnbG0uUmVhZG9ubHlWZWMyID0gWzcgKyAyMCwgMTY1XTtcbi8vICAgY29uc3QgdG91Y2hFdmVudHNQb3M6IGdsbS5SZWFkb25seVZlYzIgPSBbNyArIDIwLCAyNjBdO1xuLy8gICBjb25zdCBib2FyZFBvczogZ2xtLlJlYWRvbmx5VmVjMiA9IFs3LCAzNV07XG5cbi8vICAgYWRkS2V5U3Ryb2tlc1dpZGdldHMoa2V5RXZlbnRzUG9zLCBzdGFja1JlbmRlcmVycywgdGV4dFJlbmRlcmVyKTtcbi8vICAgYWRkQXJyb3dTdHJva2VzV2lkZ2V0cyh0b3VjaEV2ZW50c1Bvcywgc3RhY2tSZW5kZXJlcnMsIHRleHRSZW5kZXJlcik7XG4vLyAgIGFkZEtleXNUb3VjaGVzV2lkZ2V0cyhpbkNhbnZhc0VsZW1lbnQsIGJvYXJkUG9zLCBzdGFja1JlbmRlcmVycywgdGV4dFJlbmRlcmVyKTtcbi8vIH07XG4iLAogICJpbXBvcnQgeyBzeXN0ZW0sIGdyYXBoaWNzIH0gZnJvbSAnLi4vLi4vLi4nO1xuXG5pbXBvcnQgKiBhcyBnbG0gZnJvbSAnZ2wtbWF0cml4JztcblxuZXhwb3J0IGNvbnN0IHJlbmRlckZwc01ldGVyID0gKFxuICBpblBvczogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgaW5TaXplOiBnbG0uUmVhZG9ubHlWZWMyLFxuICBpbkZyYW1lUHJvZmlsZXI6IHN5c3RlbS5tZXRyaWNzLklGcmFtZVByb2ZpbGVyLFxuICBpblN0YWNrUmVuZGVyZXJzOiBncmFwaGljcy5yZW5kZXJlcnMuSVN0YWNrUmVuZGVyZXJzLFxuICBpblRleHRSZW5kZXJlcjogZ3JhcGhpY3MucmVuZGVyZXJzLklUZXh0UmVuZGVyZXIsXG4gIGluU2hvd0ZwcyA9IGZhbHNlXG4pID0+IHtcbiAgLy8gZnBzIG1ldGVyXG5cbiAgY29uc3Qga19kaXZpZGVyID0gNTtcbiAgY29uc3Qga192ZXJ0aWNhbFNpemUgPSBNYXRoLmNlaWwoaW5GcmFtZVByb2ZpbGVyLm1heERlbHRhIC8ga19kaXZpZGVyKSAqIGtfZGl2aWRlcjtcblxuICB7XG4gICAgLy8gYm9yZGVyXG5cbiAgICBpblN0YWNrUmVuZGVyZXJzLnB1c2hPcmlnaW5Cb3VuZFJlY3RhbmdsZShpblBvcywgaW5TaXplLCBbMCwgMCwgMCwgMC41XSk7XG5cbiAgICBjb25zdCBhbGxWZXJ0aWNlczogW2dsbS5SZWFkb25seVZlYzMsIGdsbS5SZWFkb25seVZlYzMsIGdsbS5SZWFkb25seVZlYzMsIGdsbS5SZWFkb25seVZlYzNdID0gW1xuICAgICAgW2luUG9zWzBdICsgaW5TaXplWzBdICogMCwgaW5Qb3NbMV0gKyBpblNpemVbMV0gKiAwLCAwXSxcbiAgICAgIFtpblBvc1swXSArIGluU2l6ZVswXSAqIDEsIGluUG9zWzFdICsgaW5TaXplWzFdICogMCwgMF0sXG4gICAgICBbaW5Qb3NbMF0gKyBpblNpemVbMF0gKiAxLCBpblBvc1sxXSArIGluU2l6ZVsxXSAqIDEsIDBdLFxuICAgICAgW2luUG9zWzBdICsgaW5TaXplWzBdICogMCwgaW5Qb3NbMV0gKyBpblNpemVbMV0gKiAxLCAwXVxuICAgIF07XG5cbiAgICBpblN0YWNrUmVuZGVyZXJzLnB1c2hMaW5lKGFsbFZlcnRpY2VzWzBdLCBhbGxWZXJ0aWNlc1sxXSwgWzEsIDEsIDFdKTtcbiAgICBpblN0YWNrUmVuZGVyZXJzLnB1c2hMaW5lKGFsbFZlcnRpY2VzWzFdLCBhbGxWZXJ0aWNlc1syXSwgWzEsIDEsIDFdKTtcbiAgICBpblN0YWNrUmVuZGVyZXJzLnB1c2hMaW5lKGFsbFZlcnRpY2VzWzJdLCBhbGxWZXJ0aWNlc1szXSwgWzEsIDEsIDFdKTtcbiAgICBpblN0YWNrUmVuZGVyZXJzLnB1c2hMaW5lKGFsbFZlcnRpY2VzWzNdLCBhbGxWZXJ0aWNlc1swXSwgWzEsIDEsIDFdKTtcbiAgfSAvLyBib3JkZXJcblxuICB7XG4gICAgLy8gZGl2aWRlcnNcblxuICAgIGZvciAobGV0IGN1cnJEaXZpZGVyID0ga19kaXZpZGVyOyBjdXJyRGl2aWRlciA8IGtfdmVydGljYWxTaXplOyBjdXJyRGl2aWRlciArPSBrX2RpdmlkZXIpIHtcbiAgICAgIGNvbnN0IHJhdGlvID0gY3VyckRpdmlkZXIgLyBrX3ZlcnRpY2FsU2l6ZTtcblxuICAgICAgY29uc3QgcG9pbnRBOiBnbG0uUmVhZG9ubHlWZWMzID0gW2luUG9zWzBdICsgMCwgaW5Qb3NbMV0gKyBpblNpemVbMV0gKiByYXRpbywgMF07XG4gICAgICBjb25zdCBwb2ludEI6IGdsbS5SZWFkb25seVZlYzMgPSBbaW5Qb3NbMF0gKyBpblNpemVbMF0sIGluUG9zWzFdICsgaW5TaXplWzFdICogcmF0aW8sIDBdO1xuXG4gICAgICBpblN0YWNrUmVuZGVyZXJzLnB1c2hMaW5lKHBvaW50QSwgcG9pbnRCLCBbMC41LCAwLjUsIDAuNV0pO1xuICAgIH1cbiAgfSAvLyBkaXZpZGVyc1xuXG4gIHtcbiAgICAvLyBjdXJ2ZVxuXG4gICAgaWYgKGluRnJhbWVQcm9maWxlci5mcmFtZXNEZWx0YS5sZW5ndGggPj0gMikge1xuICAgICAgY29uc3Qgd2lkdGhTdGVwID0gaW5TaXplWzBdIC8gaW5GcmFtZVByb2ZpbGVyLmZyYW1lc0RlbHRhLmxlbmd0aDtcblxuICAgICAgbGV0IHByZXZEZWx0YSA9IGluRnJhbWVQcm9maWxlci5mcmFtZXNEZWx0YVswXTtcbiAgICAgIGxldCBwcmV2Q29vcmRYID0gMDtcbiAgICAgIGxldCBwcmV2Q29vcmRZID0gKGluU2l6ZVsxXSAqIHByZXZEZWx0YSkgLyBrX3ZlcnRpY2FsU2l6ZTtcblxuICAgICAgZm9yIChsZXQgaWkgPSAxOyBpaSA8IGluRnJhbWVQcm9maWxlci5mcmFtZXNEZWx0YS5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgY29uc3QgY3VyckRlbHRhID0gaW5GcmFtZVByb2ZpbGVyLmZyYW1lc0RlbHRhW2lpXTtcbiAgICAgICAgY29uc3QgY3VyckNvb3JkWCA9IGlpICogd2lkdGhTdGVwO1xuICAgICAgICBjb25zdCBjdXJyQ29vcmRZID0gKGluU2l6ZVsxXSAqIGN1cnJEZWx0YSkgLyBrX3ZlcnRpY2FsU2l6ZTtcblxuICAgICAgICBjb25zdCBwb2ludEE6IGdsbS5SZWFkb25seVZlYzMgPSBbaW5Qb3NbMF0gKyBwcmV2Q29vcmRYLCBpblBvc1sxXSArIHByZXZDb29yZFksIDBdO1xuICAgICAgICBjb25zdCBwb2ludEI6IGdsbS5SZWFkb25seVZlYzMgPSBbaW5Qb3NbMF0gKyBjdXJyQ29vcmRYLCBpblBvc1sxXSArIGN1cnJDb29yZFksIDBdO1xuXG4gICAgICAgIGluU3RhY2tSZW5kZXJlcnMucHVzaExpbmUocG9pbnRBLCBwb2ludEIsIFsxLCAxLCAxXSk7XG5cbiAgICAgICAgcHJldkRlbHRhID0gY3VyckRlbHRhO1xuICAgICAgICBwcmV2Q29vcmRYID0gY3VyckNvb3JkWDtcbiAgICAgICAgcHJldkNvb3JkWSA9IGN1cnJDb29yZFk7XG4gICAgICB9XG4gICAgfVxuICB9IC8vIGN1cnZlXG5cbiAge1xuICAgIC8vIGNvdW50ZXJcblxuICAgIGNvbnN0IGtfdGV4dFNjYWxlID0gMTQ7XG4gICAgY29uc3Qga190ZXh0SFNjYWxlID0ga190ZXh0U2NhbGUgKiAwLjU7XG5cbiAgICBjb25zdCBhdmVyYWdlVmFsdWUgPSBpbkZyYW1lUHJvZmlsZXIuYXZlcmFnZURlbHRhO1xuICAgIGNvbnN0IG1heFZhbHVlID0gaW5GcmFtZVByb2ZpbGVyLm1heERlbHRhO1xuICAgIGNvbnN0IG1pblZhbHVlID0gaW5GcmFtZVByb2ZpbGVyLm1pbkRlbHRhO1xuXG4gICAgbGV0IGF2ZXJhZ2VTdHIgPSBgfiR7YXZlcmFnZVZhbHVlLnRvRml4ZWQoMCl9bXNgO1xuICAgIGxldCBtYXhTdHIgPSBgPCR7bWF4VmFsdWV9bXNgO1xuICAgIGxldCBtaW5TdHIgPSBgPiR7bWluVmFsdWV9bXNgO1xuXG4gICAgaWYgKGluU2hvd0ZwcyA9PT0gdHJ1ZSkge1xuICAgICAgY29uc3QgX2dldEZwc1N0ciA9IChpblZhbDogbnVtYmVyKSA9PiAoaW5WYWwgPCA5OTkgPyBpblZhbC50b0ZpeGVkKDApIDogJz8/PycpO1xuXG4gICAgICBhdmVyYWdlU3RyICs9IGBcXG5+JHtfZ2V0RnBzU3RyKDEwMDAgLyBhdmVyYWdlVmFsdWUpfWZwc2A7XG4gICAgICBtYXhTdHIgKz0gYFxcbjwke19nZXRGcHNTdHIoMTAwMCAvIG1heFZhbHVlKX1mcHNgO1xuICAgICAgbWluU3RyICs9IGBcXG4+JHtfZ2V0RnBzU3RyKDEwMDAgLyBtaW5WYWx1ZSl9ZnBzYDtcbiAgICB9XG5cbiAgICBpblRleHRSZW5kZXJlclxuICAgICAgLnNldFRleHRTY2FsZShrX3RleHRTY2FsZSlcbiAgICAgIC5zZXRUZXh0QWxpZ24oJ2xlZnQnLCAndG9wJylcbiAgICAgIC5zZXRUZXh0Q29sb3IoMS4wLCAxLjAsIDAuNzUpXG4gICAgICAucHVzaFRleHQoYXZlcmFnZVN0ciwgW2luUG9zWzBdICsgNywgaW5Qb3NbMV0gLSA4XSlcbiAgICAgIC5zZXRUZXh0QWxpZ24oJ2xlZnQnLCAnY2VudGVyZWQnKVxuICAgICAgLnNldFRleHRDb2xvcigxLjAsIDAuNzUsIDAuNzUpXG4gICAgICAucHVzaFRleHQobWF4U3RyLCBbaW5Qb3NbMF0gKyBpblNpemVbMF0gKyBrX3RleHRIU2NhbGUsIGluUG9zWzFdICsgaW5TaXplWzFdIC0ga190ZXh0SFNjYWxlICogMV0pXG4gICAgICAuc2V0VGV4dENvbG9yKDAuNzUsIDEuMCwgMC43NSlcbiAgICAgIC5wdXNoVGV4dChtaW5TdHIsIFtpblBvc1swXSArIGluU2l6ZVswXSArIGtfdGV4dEhTY2FsZSwgaW5Qb3NbMV0gKyBrX3RleHRIU2NhbGUgKiAxXSlcbiAgICAgIC5zZXRUZXh0Q29sb3IoMS4wLCAxLjAsIDEuMCk7XG4gIH0gLy8gY291bnRlclxufTtcbiIsCiAgImV4cG9ydCBjb25zdCBnZXRJbWFnZUZyb21VcmwgPSAodXJsOiBzdHJpbmcpOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgcmVzb2x2ZShpbWFnZSk7XG4gICAgfTtcbiAgICBpbWFnZS5zcmMgPSB1cmw7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoSW1hZ2VCdWZmZXIgPSBhc3luYyAoXG4gIHVybDogc3RyaW5nLFxuICBvblByb2dyZXNzPzogKHJlY2VpdmVkOiBudW1iZXIsIHRvdGFsOiBudW1iZXIpID0+IHZvaWRcbik6IFByb21pc2U8eyBidWZmZXI6IFVpbnQ4QXJyYXk7IHR5cGU6IHN0cmluZyB9PiA9PiB7XG4gIC8vIFN0ZXAgMTogc3RhcnQgdGhlIGZldGNoIGFuZCBvYnRhaW4gYSByZWFkZXJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5IS5nZXRSZWFkZXIoKTtcblxuICAvLyBTdGVwIDI6IGdldCB0b3RhbCBsZW5ndGhcbiAgY29uc3QgY29udGVudExlbmd0aCA9ICtyZXNwb25zZS5oZWFkZXJzLmdldCgnQ29udGVudC1MZW5ndGgnKSE7XG4gIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpITtcblxuICBsZXQgbGFzdFBlcmNlbnQgPSAwO1xuXG4gIC8vIFN0ZXAgMzogcmVhZCB0aGUgZGF0YVxuICBsZXQgcmVjZWl2ZWRMZW5ndGggPSAwOyAvLyByZWNlaXZlZCB0aGF0IG1hbnkgYnl0ZXMgYXQgdGhlIG1vbWVudFxuICBsZXQgY2h1bmtzID0gW107IC8vIGFycmF5IG9mIHJlY2VpdmVkIGJpbmFyeSBjaHVua3MgKGNvbXByaXNlcyB0aGUgYm9keSlcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuXG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNodW5rcy5wdXNoKHZhbHVlKTtcbiAgICByZWNlaXZlZExlbmd0aCArPSB2YWx1ZS5sZW5ndGg7XG5cbiAgICBpZiAob25Qcm9ncmVzcykge1xuICAgICAgLy8gY29uc3QgY3VycmVudFBlcmNlbnQgPSBNYXRoLmZsb29yKHJlY2VpdmVkTGVuZ3RoIC8gY29udGVudExlbmd0aCAqIDEwMCk7XG4gICAgICAvLyBpZiAobGFzdFBlcmNlbnQgIT09IGN1cnJlbnRQZXJjZW50KSB7XG4gICAgICAvLyAgIGxhc3RQZXJjZW50ID0gY3VycmVudFBlcmNlbnQ7XG4gICAgICBvblByb2dyZXNzKHJlY2VpdmVkTGVuZ3RoLCBjb250ZW50TGVuZ3RoKTtcbiAgICAgIC8vIH1cbiAgICB9XG5cbiAgICAvLyBjb25zb2xlLmxvZyhgUmVjZWl2ZWQgJHtyZWNlaXZlZExlbmd0aH0gb2YgJHtjb250ZW50TGVuZ3RofWApO1xuICB9XG5cbiAgLy8gU3RlcCA0OiBjb25jYXRlbmF0ZSBjaHVua3MgaW50byBzaW5nbGUgVWludDhBcnJheVxuICBjb25zdCBjaHVua3NBbGwgPSBuZXcgVWludDhBcnJheShyZWNlaXZlZExlbmd0aCk7IC8vICg0LjEpXG4gIGxldCBwb3NpdGlvbiA9IDA7XG4gIGZvciAobGV0IGNodW5rIG9mIGNodW5rcykge1xuICAgIGNodW5rc0FsbC5zZXQoY2h1bmssIHBvc2l0aW9uKTsgLy8gKDQuMilcbiAgICBwb3NpdGlvbiArPSBjaHVuay5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJ1ZmZlcjogY2h1bmtzQWxsLFxuICAgIHR5cGU6IGNvbnRlbnRUeXBlXG4gIH07XG5cbiAgLy8gLy8gU3RlcCA1OiBkZWNvZGUgaW50byBhIHN0cmluZ1xuICAvLyBsZXQgcmVzdWx0ID0gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKGNodW5rc0FsbCk7XG5cbiAgLy8gLy8gV2UncmUgZG9uZSFcbiAgLy8gbGV0IGNvbW1pdHMgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG4gIC8vIGFsZXJ0KGNvbW1pdHNbMF0uYXV0aG9yLmxvZ2luKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRJbWFnZUZyb21CdWZmZXIgPSBhc3luYyAoYnVmZmVyOiBVaW50OEFycmF5LCB0eXBlOiBzdHJpbmcpOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+ID0+IHtcbiAgLy8gZmV0Y2hJbWFnZUJ1ZmZlcigpO1xuICByZXR1cm4gbmV3IFByb21pc2U8SFRNTEltYWdlRWxlbWVudD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgaW1hZ2Uub25lcnJvciA9IHJlamVjdDtcbiAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICByZXNvbHZlKGltYWdlKTtcbiAgICB9O1xuICAgIGltYWdlLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2J1ZmZlcl0sIHsgdHlwZSB9IC8qICgxKSAqLykpO1xuICB9KTtcblxuICAvLyBjb25zdCB0bXBJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAvLyB0bXBJbWFnZS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKFxuICAvLyAgIG5ldyBCbG9iKFtidWZmZXJdLCB7IHR5cGUgfSAvKiAoMSkgKi8pXG4gIC8vICk7XG5cbiAgLy8gcmV0dXJuIHRtcEltYWdlO1xufTtcblxuLy8gLy8gU21hbGwgcmVkIGRvdCBpbWFnZVxuLy8gY29uc3QgY29udGVudCA9IG5ldyBVaW50OEFycmF5KFsxMzcsIDgwLCA3OCwgNzEsIDEzLCAxMCwgMjYsIDEwLCAwLCAwLCAwLCAxMywgNzMsIDcyLCA2OCwgODIsIDAsIDAsIDAsIDUsIDAsIDAsIDAsIDUsIDgsIDYsIDAsIDAsIDAsIDE0MSwgMTExLCAzOCwgMjI5LCAwLCAwLCAwLCAyOCwgNzMsIDY4LCA2NSwgODQsIDgsIDIxNSwgOTksIDI0OCwgMjU1LCAyNTUsIDYzLCAxOTUsIDEyNywgNiwgMzIsIDUsIDE5NSwgMzIsIDE4LCAxMzIsIDIwOCwgNDksIDI0MSwgMTMwLCA4OCwgMjA1LCA0LCAwLCAxNCwgMjQ1LCA1MywgMjAzLCAyMDksIDE0MiwgMTQsIDMxLCAwLCAwLCAwLCAwLCA3MywgNjksIDc4LCA2OCwgMTc0LCA2NiwgOTYsIDEzMF0pO1xuXG4vLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXktaW1nJykuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChcbi8vICAgbmV3IEJsb2IoW2NvbnRlbnQuYnVmZmVyXSwgeyB0eXBlOiAnaW1hZ2UvcG5nJyB9IC8qICgxKSAqLylcbi8vICk7XG4iLAogICJpbXBvcnQgeyBJVmVydGV4IH0gZnJvbSAnLi9JVmVydGV4JztcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbi8vIGV4cG9ydCBpbnRlcmZhY2UgSVZlcnRleCB7XG4vLyAgIHBvczogZ2xtLnZlYzM7XG4vLyAgIG5vcm1hbDogZ2xtLnZlYzM7XG4vLyB9XG5cbmV4cG9ydCBjb25zdCBtYWtlQm94ID0gKGluU2l6ZTogZ2xtLlJlYWRvbmx5VmVjMyk6IElWZXJ0ZXhbXSA9PiB7XG4gIGNvbnN0IGhTaXplWCA9IGluU2l6ZVswXSAqIDAuNTtcbiAgY29uc3QgaFNpemVZID0gaW5TaXplWzFdICogMC41O1xuICBjb25zdCBoU2l6ZVogPSBpblNpemVbMl0gKiAwLjU7XG5cbiAgY29uc3QgYWxsTm9ybWFsczogZ2xtLlJlYWRvbmx5VmVjM1tdID0gW107XG4gIGFsbE5vcm1hbHMucHVzaChbLTEsIDAsIDBdKTsgLy8gMFxuICBhbGxOb3JtYWxzLnB1c2goWysxLCAwLCAwXSk7IC8vIDFcbiAgYWxsTm9ybWFscy5wdXNoKFswLCAtMSwgMF0pOyAvLyAyXG4gIGFsbE5vcm1hbHMucHVzaChbMCwgKzEsIDBdKTsgLy8gM1xuICBhbGxOb3JtYWxzLnB1c2goWzAsIDAsIC0xXSk7IC8vIDRcbiAgYWxsTm9ybWFscy5wdXNoKFswLCAwLCArMV0pOyAvLyA1XG5cbiAgY29uc3QgYWxsVmVydGljZXM6IGdsbS5SZWFkb25seVZlYzNbXSA9IFtdO1xuICBhbGxWZXJ0aWNlcy5wdXNoKFstaFNpemVYLCAtaFNpemVZLCAtaFNpemVaXSk7IC8vIDBcbiAgYWxsVmVydGljZXMucHVzaChbK2hTaXplWCwgLWhTaXplWSwgLWhTaXplWl0pOyAvLyAxXG4gIGFsbFZlcnRpY2VzLnB1c2goWy1oU2l6ZVgsICtoU2l6ZVksIC1oU2l6ZVpdKTsgLy8gMlxuICBhbGxWZXJ0aWNlcy5wdXNoKFsraFNpemVYLCAraFNpemVZLCAtaFNpemVaXSk7IC8vIDNcbiAgYWxsVmVydGljZXMucHVzaChbLWhTaXplWCwgLWhTaXplWSwgK2hTaXplWl0pOyAvLyA0XG4gIGFsbFZlcnRpY2VzLnB1c2goWytoU2l6ZVgsIC1oU2l6ZVksICtoU2l6ZVpdKTsgLy8gNVxuICBhbGxWZXJ0aWNlcy5wdXNoKFstaFNpemVYLCAraFNpemVZLCAraFNpemVaXSk7IC8vIDZcbiAgYWxsVmVydGljZXMucHVzaChbK2hTaXplWCwgK2hTaXplWSwgK2hTaXplWl0pOyAvLyA3XG5cbiAgLy9cblxuICBjb25zdCBhbGxJbmRpY2VzOiBnbG0uUmVhZG9ubHlWZWM0W10gPSBbXTtcblxuICAvLyAteiAwMTIzXG4gIGFsbEluZGljZXMucHVzaChbMCwgMiwgMSwgLypub3JtYWwgPT4gKi8gNF0pO1xuICBhbGxJbmRpY2VzLnB1c2goWzIsIDMsIDEsIC8qbm9ybWFsID0+ICovIDRdKTtcbiAgLy8gK3ogNDU2N1xuICBhbGxJbmRpY2VzLnB1c2goWzQsIDUsIDYsIC8qbm9ybWFsID0+ICovIDVdKTtcbiAgYWxsSW5kaWNlcy5wdXNoKFs2LCA1LCA3LCAvKm5vcm1hbCA9PiAqLyA1XSk7XG5cbiAgLy8gK3ggMTM1N1xuICBhbGxJbmRpY2VzLnB1c2goWzEsIDMsIDUsIC8qbm9ybWFsID0+ICovIDFdKTtcbiAgYWxsSW5kaWNlcy5wdXNoKFs1LCAzLCA3LCAvKm5vcm1hbCA9PiAqLyAxXSk7XG4gIC8vIC14IDAyNDZcbiAgYWxsSW5kaWNlcy5wdXNoKFswLCA0LCAyLCAvKm5vcm1hbCA9PiAqLyAwXSk7XG4gIGFsbEluZGljZXMucHVzaChbNCwgNiwgMiwgLypub3JtYWwgPT4gKi8gMF0pO1xuXG4gIC8vICt5IDIzNjdcbiAgYWxsSW5kaWNlcy5wdXNoKFsyLCA2LCAzLCAvKm5vcm1hbCA9PiAqLyAzXSk7XG4gIGFsbEluZGljZXMucHVzaChbNiwgNywgMywgLypub3JtYWwgPT4gKi8gM10pO1xuICAvLyAteSAwMTQ1XG4gIGFsbEluZGljZXMucHVzaChbMCwgMSwgNCwgLypub3JtYWwgPT4gKi8gMl0pO1xuICBhbGxJbmRpY2VzLnB1c2goWzQsIDEsIDUsIC8qbm9ybWFsID0+ICovIDJdKTtcblxuICAvLyBjb25zdCBmaW5hbFZlcnRpY2VzOiBudW1iZXJbXSA9IFtdO1xuICBjb25zdCB2ZXJ0aWNlczogSVZlcnRleFtdID0gW107XG5cbiAgZm9yIChjb25zdCBpbmRleCBvZiBhbGxJbmRpY2VzKSB7XG4gICAgdmVydGljZXMucHVzaCh7XG4gICAgICBwb3M6IGdsbS52ZWMzLmNvcHkoWzAsIDAsIDBdLCBhbGxWZXJ0aWNlc1tpbmRleFswXV0pLFxuICAgICAgbm9ybWFsOiBnbG0udmVjMy5jb3B5KFswLCAwLCAwXSwgYWxsTm9ybWFsc1tpbmRleFszXV0pXG4gICAgfSk7XG4gICAgdmVydGljZXMucHVzaCh7XG4gICAgICBwb3M6IGdsbS52ZWMzLmNvcHkoWzAsIDAsIDBdLCBhbGxWZXJ0aWNlc1tpbmRleFsxXV0pLFxuICAgICAgbm9ybWFsOiBnbG0udmVjMy5jb3B5KFswLCAwLCAwXSwgYWxsTm9ybWFsc1tpbmRleFszXV0pXG4gICAgfSk7XG4gICAgdmVydGljZXMucHVzaCh7XG4gICAgICBwb3M6IGdsbS52ZWMzLmNvcHkoWzAsIDAsIDBdLCBhbGxWZXJ0aWNlc1tpbmRleFsyXV0pLFxuICAgICAgbm9ybWFsOiBnbG0udmVjMy5jb3B5KFswLCAwLCAwXSwgYWxsTm9ybWFsc1tpbmRleFszXV0pXG4gICAgfSk7XG5cbiAgICAvLyBmaW5hbFZlcnRpY2VzLnB1c2goYWxsVmVydGljZXNbaW5kZXhbMF1dWzBdKTtcbiAgICAvLyBmaW5hbFZlcnRpY2VzLnB1c2goYWxsVmVydGljZXNbaW5kZXhbMF1dWzFdKTtcbiAgICAvLyBmaW5hbFZlcnRpY2VzLnB1c2goYWxsVmVydGljZXNbaW5kZXhbMF1dWzJdKTtcblxuICAgIC8vIGlmIChpbkFkZE5vcm1hbHMpIHtcbiAgICAvLyAgIGZpbmFsVmVydGljZXMucHVzaChhbGxOb3JtYWxzW2luZGV4WzNdXVswXSk7XG4gICAgLy8gICBmaW5hbFZlcnRpY2VzLnB1c2goYWxsTm9ybWFsc1tpbmRleFszXV1bMV0pO1xuICAgIC8vICAgZmluYWxWZXJ0aWNlcy5wdXNoKGFsbE5vcm1hbHNbaW5kZXhbM11dWzJdKTtcbiAgICAvLyB9XG5cbiAgICAvLyBmaW5hbFZlcnRpY2VzLnB1c2goYWxsVmVydGljZXNbaW5kZXhbMV1dWzBdKTtcbiAgICAvLyBmaW5hbFZlcnRpY2VzLnB1c2goYWxsVmVydGljZXNbaW5kZXhbMV1dWzFdKTtcbiAgICAvLyBmaW5hbFZlcnRpY2VzLnB1c2goYWxsVmVydGljZXNbaW5kZXhbMV1dWzJdKTtcblxuICAgIC8vIGlmIChpbkFkZE5vcm1hbHMpIHtcbiAgICAvLyAgIGZpbmFsVmVydGljZXMucHVzaChhbGxOb3JtYWxzW2luZGV4WzNdXVswXSk7XG4gICAgLy8gICBmaW5hbFZlcnRpY2VzLnB1c2goYWxsTm9ybWFsc1tpbmRleFszXV1bMV0pO1xuICAgIC8vICAgZmluYWxWZXJ0aWNlcy5wdXNoKGFsbE5vcm1hbHNbaW5kZXhbM11dWzJdKTtcbiAgICAvLyB9XG5cbiAgICAvLyBmaW5hbFZlcnRpY2VzLnB1c2goYWxsVmVydGljZXNbaW5kZXhbMl1dWzBdKTtcbiAgICAvLyBmaW5hbFZlcnRpY2VzLnB1c2goYWxsVmVydGljZXNbaW5kZXhbMl1dWzFdKTtcbiAgICAvLyBmaW5hbFZlcnRpY2VzLnB1c2goYWxsVmVydGljZXNbaW5kZXhbMl1dWzJdKTtcblxuICAgIC8vIGlmIChpbkFkZE5vcm1hbHMpIHtcbiAgICAvLyAgIGZpbmFsVmVydGljZXMucHVzaChhbGxOb3JtYWxzW2luZGV4WzNdXVswXSk7XG4gICAgLy8gICBmaW5hbFZlcnRpY2VzLnB1c2goYWxsTm9ybWFsc1tpbmRleFszXV1bMV0pO1xuICAgIC8vICAgZmluYWxWZXJ0aWNlcy5wdXNoKGFsbE5vcm1hbHNbaW5kZXhbM11dWzJdKTtcbiAgICAvLyB9XG4gIH1cblxuICByZXR1cm4gdmVydGljZXM7XG59O1xuIiwKICAiaW1wb3J0IHsgSVZlcnRleCB9IGZyb20gJy4vSVZlcnRleCc7XG5cbmltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG4vLyBleHBvcnQgaW50ZXJmYWNlIElWZXJ0ZXgge1xuLy8gICBwb3M6IGdsbS52ZWMzO1xuLy8gICBub3JtYWw6IGdsbS52ZWMzO1xuLy8gfVxuXG5jb25zdCBfZHJhd1NwaGVyZVBhdGNoID0gKFxuICB2ZXJ0aWNlczogSVZlcnRleFtdLFxuICBxdWFsaXR5OiBudW1iZXIsXG4gIHJhZGl1czogbnVtYmVyLFxuICB2MDE6IGdsbS5SZWFkb25seVZlYzMsXG4gIHYwMjogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgdjAzOiBnbG0uUmVhZG9ubHlWZWMzXG4pID0+IHtcbiAgaWYgKHF1YWxpdHkgPD0gMCkge1xuICAgIC8vIGhhY2s6IHBvc2l0aW9uID0gbm9ybWFsXG4gICAgdmVydGljZXMucHVzaCh7XG4gICAgICBwb3M6IGdsbS52ZWMzLnNjYWxlKGdsbS52ZWMzLmNyZWF0ZSgpLCB2MDEsIHJhZGl1cyksXG4gICAgICBub3JtYWw6IGdsbS52ZWMzLmNvcHkoZ2xtLnZlYzMuY3JlYXRlKCksIHYwMSlcbiAgICB9KTtcbiAgICB2ZXJ0aWNlcy5wdXNoKHtcbiAgICAgIHBvczogZ2xtLnZlYzMuc2NhbGUoZ2xtLnZlYzMuY3JlYXRlKCksIHYwMywgcmFkaXVzKSxcbiAgICAgIG5vcm1hbDogZ2xtLnZlYzMuY29weShnbG0udmVjMy5jcmVhdGUoKSwgdjAzKVxuICAgIH0pO1xuICAgIHZlcnRpY2VzLnB1c2goe1xuICAgICAgcG9zOiBnbG0udmVjMy5zY2FsZShnbG0udmVjMy5jcmVhdGUoKSwgdjAyLCByYWRpdXMpLFxuICAgICAgbm9ybWFsOiBnbG0udmVjMy5jb3B5KGdsbS52ZWMzLmNyZWF0ZSgpLCB2MDIpXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdjEyID0gZ2xtLnZlYzMubm9ybWFsaXplKGdsbS52ZWMzLmNyZWF0ZSgpLCBnbG0udmVjMy5sZXJwKGdsbS52ZWMzLmNyZWF0ZSgpLCB2MDEsIHYwMiwgMC41KSk7XG4gICAgY29uc3QgdjIzID0gZ2xtLnZlYzMubm9ybWFsaXplKGdsbS52ZWMzLmNyZWF0ZSgpLCBnbG0udmVjMy5sZXJwKGdsbS52ZWMzLmNyZWF0ZSgpLCB2MDIsIHYwMywgMC41KSk7XG4gICAgY29uc3QgdjMxID0gZ2xtLnZlYzMubm9ybWFsaXplKGdsbS52ZWMzLmNyZWF0ZSgpLCBnbG0udmVjMy5sZXJwKGdsbS52ZWMzLmNyZWF0ZSgpLCB2MDMsIHYwMSwgMC41KSk7XG5cbiAgICBxdWFsaXR5IC09IDE7XG5cbiAgICBfZHJhd1NwaGVyZVBhdGNoKHZlcnRpY2VzLCBxdWFsaXR5LCByYWRpdXMsIHYwMSwgdjEyLCB2MzEpO1xuICAgIF9kcmF3U3BoZXJlUGF0Y2godmVydGljZXMsIHF1YWxpdHksIHJhZGl1cywgdjEyLCB2MDIsIHYyMyk7XG4gICAgX2RyYXdTcGhlcmVQYXRjaCh2ZXJ0aWNlcywgcXVhbGl0eSwgcmFkaXVzLCB2MzEsIHYyMywgdjAzKTtcbiAgICBfZHJhd1NwaGVyZVBhdGNoKHZlcnRpY2VzLCBxdWFsaXR5LCByYWRpdXMsIHYxMiwgdjIzLCB2MzEpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbWFrZVNwaGVyZSA9IChcbiAgcXVhbGl0eTogbnVtYmVyLFxuICByYWRpdXM6IG51bWJlclxuICAvLyBtb2RlbE1hdDQ6IGdsbS5SZWFkb25seU1hdDRcbik6IElWZXJ0ZXhbXSA9PiB7XG4gIGNvbnN0IGtfaWN4ID0gMC41MjU3MzExMTIxMTkxMzM2MDY7XG4gIGNvbnN0IGtfaWN6ID0gMC44NTA2NTA4MDgzNTIwMzk5MzI7XG5cbiAgY29uc3QgdG1wVmVydGljZXM6IGdsbS5SZWFkb25seVZlYzNbXSA9IFtcbiAgICBbLWtfaWN4LCAwLjAsICtrX2ljel0sXG4gICAgWytrX2ljeCwgMC4wLCAra19pY3pdLFxuICAgIFsta19pY3gsIDAuMCwgLWtfaWN6XSxcbiAgICBbK2tfaWN4LCAwLjAsIC1rX2ljel0sXG4gICAgWzAuMCwgK2tfaWN6LCAra19pY3hdLFxuICAgIFswLjAsICtrX2ljeiwgLWtfaWN4XSxcbiAgICBbMC4wLCAta19pY3osICtrX2ljeF0sXG4gICAgWzAuMCwgLWtfaWN6LCAta19pY3hdLFxuICAgIFsra19pY3osICtrX2ljeCwgMC4wXSxcbiAgICBbLWtfaWN6LCAra19pY3gsIDAuMF0sXG4gICAgWytrX2ljeiwgLWtfaWN4LCAwLjBdLFxuICAgIFsta19pY3osIC1rX2ljeCwgMC4wXVxuICBdO1xuXG4gIGNvbnN0IHRtcEluZGljZXM6IGdsbS5SZWFkb25seVZlYzNbXSA9IFtcbiAgICBbMCwgNCwgMV0sXG4gICAgWzAsIDksIDRdLFxuICAgIFs5LCA1LCA0XSxcbiAgICBbNCwgNSwgOF0sXG4gICAgWzQsIDgsIDFdLFxuICAgIFs4LCAxMCwgMV0sXG4gICAgWzgsIDMsIDEwXSxcbiAgICBbNSwgMywgOF0sXG4gICAgWzUsIDIsIDNdLFxuICAgIFsyLCA3LCAzXSxcbiAgICBbNywgMTAsIDNdLFxuICAgIFs3LCA2LCAxMF0sXG4gICAgWzcsIDExLCA2XSxcbiAgICBbMTEsIDAsIDZdLFxuICAgIFswLCAxLCA2XSxcbiAgICBbNiwgMSwgMTBdLFxuICAgIFs5LCAwLCAxMV0sXG4gICAgWzksIDExLCAyXSxcbiAgICBbOSwgMiwgNV0sXG4gICAgWzcsIDIsIDExXVxuICBdO1xuXG4gIGNvbnN0IHZlcnRpY2VzOiBJVmVydGV4W10gPSBbXTtcblxuICBmb3IgKGNvbnN0IGluZGV4IG9mIHRtcEluZGljZXMpIHtcbiAgICBfZHJhd1NwaGVyZVBhdGNoKHZlcnRpY2VzLCBxdWFsaXR5LCByYWRpdXMsIHRtcFZlcnRpY2VzW2luZGV4WzBdXSwgdG1wVmVydGljZXNbaW5kZXhbMV1dLCB0bXBWZXJ0aWNlc1tpbmRleFsyXV0pO1xuICB9XG5cbiAgLy8gY29uc3QgbmV3UG9zID0gZ2xtLnZlYzMuY3JlYXRlKCk7XG4gIC8vIC8vIGNvbnN0IG5ld05vcm0gPSBnbG0udmVjMy5jcmVhdGUoKTtcbiAgLy8gLy8gY29uc3QgbW9kZWxNYXQzID0gZ2xtLm1hdDMuZnJvbU1hdDQoZ2xtLm1hdDMuY3JlYXRlKCksIG1vZGVsTWF0NCk7XG5cbiAgLy8gZm9yIChjb25zdCB2ZXJ0ZXggb2YgdmVydGljZXMpIHtcbiAgLy8gICBnbG0udmVjMy50cmFuc2Zvcm1NYXQ0KG5ld1BvcywgdmVydGV4LnBvcywgbW9kZWxNYXQ0KTtcbiAgLy8gICBnbG0udmVjMy5jb3B5KHZlcnRleC5wb3MsIG5ld1Bvcyk7XG4gIC8vIH1cblxuICByZXR1cm4gdmVydGljZXM7XG5cbiAgLy8gcmV0dXJuIHZlcnRpY2VzLm1hcCgodmVydGV4KSA9PiB7XG5cbiAgLy8gICBnbG0udmVjMy50cmFuc2Zvcm1NYXQ0KG5ld1BvcywgdmVydGV4LnBvcywgbW9kZWxNYXQ0KTtcbiAgLy8gICAvLyBnbG0udmVjMy50cmFuc2Zvcm1NYXQzKG5ld05vcm0sIHZlcnRleC5ub3JtYWwsIG1vZGVsTWF0Myk7XG5cbiAgLy8gICByZXR1cm4ge1xuICAvLyAgICAgcG9zOiBnbG0udmVjMy5jb3B5KGdsbS52ZWMzLmNyZWF0ZSgpLCBuZXdQb3MpLFxuICAvLyAgIH1cbiAgLy8gICAvLyAgIG5ld1Bvc1swXSxcbiAgLy8gICAvLyAgIG5ld1Bvc1sxXSxcbiAgLy8gICAvLyAgIG5ld1Bvc1syXSxcbiAgLy8gICAvLyAgIHZlcnRleC5ub3JtYWxbMF0sXG4gIC8vICAgLy8gICB2ZXJ0ZXgubm9ybWFsWzFdLFxuICAvLyAgIC8vICAgdmVydGV4Lm5vcm1hbFsyXVxuICAvLyAgIC8vIF07XG4gIC8vIH0pXG4gIC8vICAgLy8gLmZsYXQoKTtcbn07XG4iLAogICJleHBvcnQgY29uc3QgY2h1bmtHcmFwaGljU2l6ZSA9IDMwO1xuZXhwb3J0IGNvbnN0IGNodW5rTG9naWNTaXplID0gODtcbmV4cG9ydCBjb25zdCBjaHVua1RocmVzaG9sZCA9IDAuNTtcbmV4cG9ydCBjb25zdCBjaHVua1JhbmdlID0gMjtcblxuZXhwb3J0IGNvbnN0IGNvbnRyb2xsZXJNb3ZpbmdTcGVlZCA9IDMyO1xuZXhwb3J0IGNvbnN0IGNvbnRyb2xsZXJNb3VzZVNlbnNpYmlsaXR5ID0gMTU7XG5leHBvcnQgY29uc3QgY29udHJvbGxlcktleWJvYXJkU2Vuc2liaWxpdHkgPSBNYXRoLlBJICogMC41NTtcbmV4cG9ydCBjb25zdCBjb250cm9sbGVyVG91Y2hTZW5zaWJpbGl0eSA9IDE1O1xuXG5leHBvcnQgY29uc3Qgd29ya2VyRmlsZSA9ICcuL2Rpc3Qvd29ya2VyLmpzJztcbmV4cG9ydCBjb25zdCB3b3JrZXJUb3RhbCA9IDI7XG4iLAogICJleHBvcnQgY29uc3QgY2h1bmtHcmFwaGljU2l6ZSA9IDMwO1xuZXhwb3J0IGNvbnN0IGNodW5rTG9naWNTaXplID0gODtcbmV4cG9ydCBjb25zdCBjaHVua1RocmVzaG9sZCA9IDAuNTtcbmV4cG9ydCBjb25zdCBjaHVua1JhbmdlID0gMjtcblxuZXhwb3J0IGNvbnN0IGNvbnRyb2xsZXJNb3ZpbmdTcGVlZCA9IDMyO1xuZXhwb3J0IGNvbnN0IGNvbnRyb2xsZXJNb3VzZVNlbnNpYmlsaXR5ID0gMTU7XG5leHBvcnQgY29uc3QgY29udHJvbGxlcktleWJvYXJkU2Vuc2liaWxpdHkgPSBNYXRoLlBJICogMC41NTtcbmV4cG9ydCBjb25zdCBjb250cm9sbGVyVG91Y2hTZW5zaWJpbGl0eSA9IDE1O1xuXG5leHBvcnQgY29uc3Qgd29ya2VyRmlsZSA9ICcuL2Rpc3Qvd29ya2VyLmpzJztcbmV4cG9ydCBjb25zdCB3b3JrZXJUb3RhbCA9IDI7XG4iLAogICJ0eXBlIFZlYzMgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCBjbGFzcyBWZWMzSGFzaFNldCB7XG4gIHByaXZhdGUgX2hhc2hTZXQgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9oYXNoU2V0LmNsZWFyKCk7XG4gIH1cblxuICBhZGQoaW5WZWMzOiBSZWFkb25seTxWZWMzPikge1xuICAgIHRoaXMuX2hhc2hTZXQuYWRkKFZlYzNIYXNoU2V0Ll9nZXROYW1lKGluVmVjMykpO1xuICB9XG5cbiAgZGVsZXRlKGluVmVjMzogUmVhZG9ubHk8VmVjMz4pIHtcbiAgICB0aGlzLl9oYXNoU2V0LmRlbGV0ZShWZWMzSGFzaFNldC5fZ2V0TmFtZShpblZlYzMpKTtcbiAgfVxuXG4gIGhhcyhpblZlYzM6IFJlYWRvbmx5PFZlYzM+KSB7XG4gICAgdGhpcy5faGFzaFNldC5oYXMoVmVjM0hhc2hTZXQuX2dldE5hbWUoaW5WZWMzKSk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfZ2V0TmFtZShpblZlYzM6IFJlYWRvbmx5PFZlYzM+KSB7XG4gICAgcmV0dXJuIGAke2luVmVjM1swXX0vJHtpblZlYzNbMV19LyR7aW5WZWMzWzJdfWA7XG4gIH1cbn1cbiIsCiAgImltcG9ydCB7IFR5cGVkTWVzc2FnZUV2ZW50IH0gZnJvbSAnLi4vLi4vLi4vLi4vX2NvbW1vbic7XG5cbmludGVyZmFjZSBJV29ya2VySW5zdGFuY2U8VD4ge1xuICBpbnN0YW5jZTogV29ya2VyO1xuICBkYXRhOiBUO1xufVxuXG5leHBvcnQgdHlwZSBPbldvcmtlclJlc3VsdDxULCBQPiA9IChpbldvcmtlckRhdGE6IFQsIGluTWVzc2FnZURhdGE6IFApID0+IHZvaWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVdvcmtlck1hbmFnZXI8VD4ge1xuICBhcmVBbGxXb3JrZXJBdmFpbGFibGUoKTogYm9vbGVhbjtcbiAgZ2V0SW5Vc2VXb3JrZXJzRGF0YSgpOiBSZWFkb25seUFycmF5PFQ+O1xufVxuXG5leHBvcnQgY2xhc3MgV29ya2VyTWFuYWdlcjxULCBQPiBpbXBsZW1lbnRzIElXb3JrZXJNYW5hZ2VyPFQ+IHtcbiAgcHJpdmF0ZSBfdW51c2VkV29ya2VyczogSVdvcmtlckluc3RhbmNlPFQ+W10gPSBbXTtcbiAgcHJpdmF0ZSBfaW5Vc2VXb3JrZXJzOiBJV29ya2VySW5zdGFuY2U8VD5bXSA9IFtdO1xuXG4gIHByaXZhdGUgX29uV29ya2VyUmVzdWx0OiBPbldvcmtlclJlc3VsdDxULCBQPjtcblxuICBjb25zdHJ1Y3Rvcihpbk9uV29ya2VyUmVzdWx0OiBPbldvcmtlclJlc3VsdDxULCBQPikge1xuICAgIHRoaXMuX29uV29ya2VyUmVzdWx0ID0gaW5PbldvcmtlclJlc3VsdDtcbiAgfVxuXG4gIGFyZUFsbFdvcmtlckF2YWlsYWJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faW5Vc2VXb3JrZXJzLmxlbmd0aCA9PT0gMDtcbiAgfVxuXG4gIGlzV29ya2VyQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl91bnVzZWRXb3JrZXJzLmxlbmd0aCA+IDA7XG4gIH1cblxuICBnZXRJblVzZVdvcmtlcnNEYXRhKCk6IFJlYWRvbmx5QXJyYXk8VD4ge1xuICAgIHJldHVybiB0aGlzLl9pblVzZVdvcmtlcnMubWFwKCh3b3JrZXIpID0+IHdvcmtlci5kYXRhKTtcbiAgfVxuXG4gIHB1c2hUYXNrKFxuICAgIGluQ2FsbGJhY2s6IChcbiAgICAgIGluV29ya2VyRGF0YTogVCxcbiAgICAgIGluUHVzaFRhc2s6IChpblBheWxvYWQ6IFAsIGluVHJhbnNmZXI6IFRyYW5zZmVyYWJsZVtdKSA9PiB2b2lkXG4gICAgKSA9PiB2b2lkXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc1dvcmtlckF2YWlsYWJsZSgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBzZXQgd29ya2VyIGFzIFwiaW4gdXNlXCJcbiAgICAvL1xuXG4gICAgY29uc3QgY3VycmVudFdvcmtlciA9IHRoaXMuX3VudXNlZFdvcmtlcnMucG9wKCkhO1xuICAgIHRoaXMuX2luVXNlV29ya2Vycy5wdXNoKGN1cnJlbnRXb3JrZXIpO1xuXG4gICAgLy9cbiAgICAvLyBzdGFydFxuICAgIC8vXG5cbiAgICBpbkNhbGxiYWNrKGN1cnJlbnRXb3JrZXIuZGF0YSwgKGluUGF5bG9hZCwgaW5UcmFuc2ZlcikgPT4ge1xuICAgICAgY3VycmVudFdvcmtlci5pbnN0YW5jZS5wb3N0TWVzc2FnZShpblBheWxvYWQsIGluVHJhbnNmZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYWRkT25lV29ya2VyKGluV29ya2VyRmlsZTogc3RyaW5nLCBpbldvcmtlckRhdGE6IFQpIHtcbiAgICBjb25zdCBuZXdXb3JrZXI6IElXb3JrZXJJbnN0YW5jZTxUPiA9IHtcbiAgICAgIGluc3RhbmNlOiBuZXcgV29ya2VyKGluV29ya2VyRmlsZSksXG4gICAgICBkYXRhOiBpbldvcmtlckRhdGFcbiAgICB9O1xuXG4gICAgdGhpcy5fdW51c2VkV29ya2Vycy5wdXNoKG5ld1dvcmtlcik7XG5cbiAgICBjb25zdCBvbldvcmtlck1lc3NhZ2UgPSAoZXZlbnQ6IFR5cGVkTWVzc2FnZUV2ZW50PFA+KSA9PiB7XG4gICAgICAvL1xuICAgICAgLy8gc2V0IHdvcmtlciBhcyBcInVudXNlZFwiXG4gICAgICAvL1xuXG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2luVXNlV29ya2Vycy5pbmRleE9mKG5ld1dvcmtlcik7XG4gICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICB0aGlzLl91bnVzZWRXb3JrZXJzLnB1c2gobmV3V29ya2VyKTtcbiAgICAgICAgdGhpcy5faW5Vc2VXb3JrZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG5cbiAgICAgIC8vXG4gICAgICAvLyBwcm9jZXNzIHJlc3BvbnNlXG4gICAgICAvL1xuXG4gICAgICB0aGlzLl9vbldvcmtlclJlc3VsdChuZXdXb3JrZXIuZGF0YSwgZXZlbnQuZGF0YSk7XG4gICAgfTtcblxuICAgIG5ld1dvcmtlci5pbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25Xb3JrZXJNZXNzYWdlLCBmYWxzZSk7XG4gIH1cbn1cbiIsCiAgImltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG5pbXBvcnQgeyBJTGl2ZUdlb21ldHJ5IH0gZnJvbSAnLi4vLi4vd2ViR0xSZW5kZXJlci9XZWJHTFJlbmRlcmVyJztcblxuLy8gaW1wb3J0IHsgVmVjM0hhc2hTZXQsIElXb3JrZXJNYW5hZ2VyIH0gZnJvbSAnLic7XG5pbXBvcnQgeyBWZWMzSGFzaFNldCB9IGZyb20gJy4vVmVjM0hhc2hTZXQnO1xuaW1wb3J0IHsgSVdvcmtlck1hbmFnZXIgfSBmcm9tICcuL1dvcmtlck1hbmFnZXInO1xuXG50eXBlIFZlYzMgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBvc2l0aW9uRGF0YSB7XG4gIHJlYWxQb3NpdGlvbjogVmVjMztcbiAgaW5kZXhQb3NpdGlvbjogVmVjMztcbn1cblxuaW50ZXJmYWNlIElDaHVuayB7XG4gIHJlYWxQb3NpdGlvbjogVmVjMztcbiAgaW5kZXhQb3NpdGlvbjogVmVjMztcbiAgZ2VvbWV0cnk6IElMaXZlR2VvbWV0cnk7XG4gIGlzVmlzaWJsZTogYm9vbGVhbjtcbiAgaXNEaXJ0eTogYm9vbGVhbjtcbiAgZ2VvbWV0cnlGbG9hdDMyYnVmZmVyOiBGbG9hdDMyQXJyYXk7XG4gIGdlb21ldHJ5QnVmZmVyU2l6ZVVzZWQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgQ2h1bmtzID0gUmVhZG9ubHlBcnJheTxJQ2h1bms+O1xuXG5pbnRlcmZhY2UgSUNodW5rTWFuYWdlckRlZiB7XG4gIGNodW5rR3JhcGhpY1NpemU6IG51bWJlcjtcbiAgY2h1bmtHZW5lcmF0aW9uUmFuZ2U6IG51bWJlcjtcbiAgY2h1bmtMb2dpY1NpemU6IG51bWJlcjtcbiAgY2h1bmtJc1Zpc2libGU6IChwb3M6IFJlYWRvbmx5PFZlYzM+KSA9PiBib29sZWFuO1xuICBhY3F1aXJlR2VvbWV0cnk6IChpblNpemU6IG51bWJlcikgPT4gSUxpdmVHZW9tZXRyeTtcbiAgcmVsZWFzZUdlb21ldHJ5OiAoaW5HZW9tOiBJTGl2ZUdlb21ldHJ5KSA9PiB2b2lkO1xuICBvbkNodW5rQ3JlYXRlZDogKCkgPT4gdm9pZDtcbiAgb25DaHVua0Rpc2NhcmRlZDogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIENodW5rTWFuYWdlciB7XG4gIHByaXZhdGUgX2RlZjogSUNodW5rTWFuYWdlckRlZjtcblxuICBwcml2YXRlIF9jYW1lcmFQb3NpdGlvbjogZ2xtLnZlYzMgPSBnbG0udmVjMy5mcm9tVmFsdWVzKDAsIDAsIDApO1xuICBwcml2YXRlIF9jaHVua1Bvc2l0aW9uUXVldWU6IElQb3NpdGlvbkRhdGFbXSA9IFtdOyAvLyBwb3NpdGlvbiB0byBiZSBwcm9jZXNzZWRcbiAgcHJpdmF0ZSBfc2F2ZWRJbmRleDogZ2xtLnZlYzMgPSBbOTk5LCA5OTksIDk5OV07IC8vIGFueSBvdGhlciB2YWx1ZSB0aGFuIDAvMC8wIHdpbGwgd29ya1xuXG4gIHByaXZhdGUgX3VudXNlZENodW5rczogSUNodW5rW10gPSBbXTsgLy8gbGl2ZSBjaHVua3NcbiAgcHJpdmF0ZSBfdXNlZENodW5rczogSUNodW5rW10gPSBbXTsgLy8gbGl2ZSBjaHVua3NcbiAgcHJpdmF0ZSBfdXNlZFNldCA9IG5ldyBWZWMzSGFzaFNldCgpO1xuXG4gIGNvbnN0cnVjdG9yKGluRGVmOiBJQ2h1bmtNYW5hZ2VyRGVmKSB7XG4gICAgdGhpcy5fZGVmID0gaW5EZWY7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9jaHVua1Bvc2l0aW9uUXVldWUubGVuZ3RoID0gMDtcblxuICAgIHRoaXMuX3VudXNlZENodW5rcy5mb3JFYWNoKChjaHVuaykgPT5cbiAgICAgIHRoaXMuX2RlZi5yZWxlYXNlR2VvbWV0cnkoY2h1bmsuZ2VvbWV0cnkpXG4gICAgKTtcbiAgICB0aGlzLl91bnVzZWRDaHVua3MubGVuZ3RoID0gMDtcbiAgICB0aGlzLl91c2VkQ2h1bmtzLmZvckVhY2goKGNodW5rKSA9PlxuICAgICAgdGhpcy5fZGVmLnJlbGVhc2VHZW9tZXRyeShjaHVuay5nZW9tZXRyeSlcbiAgICApO1xuICAgIHRoaXMuX3VzZWRDaHVua3MubGVuZ3RoID0gMDtcbiAgICB0aGlzLl91c2VkU2V0LmNsZWFyKCk7XG4gIH1cblxuICBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLl91c2VkQ2h1bmtzLmxlbmd0aCA9PT0gMDtcbiAgfVxuXG4gIGlzTm90RG9uZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2h1bmtQb3NpdGlvblF1ZXVlLmxlbmd0aCA+IDA7XG4gIH1cblxuICBnZXRDaHVua3MoKTogQ2h1bmtzIHtcbiAgICByZXR1cm4gdGhpcy5fdXNlZENodW5rcztcbiAgfVxuXG4gIHB1c2hOZXcoXG4gICAgaW5JbmRleFBvc2l0aW9uOiBSZWFkb25seTxWZWMzPixcbiAgICBpblJlYWxQb3NpdGlvbjogUmVhZG9ubHk8VmVjMz4sXG4gICAgaW5HZW9tZXRyeURhdGFCdWZmZXI6IFJlYWRvbmx5PEZsb2F0MzJBcnJheT4sXG4gICAgaW5HZW9tZXRyeURhdGFMZW5ndGg6IG51bWJlcixcbiAgICBpbkdlb21ldHJ5VXNlZExlbmd0aDogbnVtYmVyXG4gICkge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5fZGVmLmFjcXVpcmVHZW9tZXRyeShpbkdlb21ldHJ5RGF0YUxlbmd0aCk7XG5cbiAgICBjb25zdCBzdWJCdWZmZXIgPSBpbkdlb21ldHJ5RGF0YUJ1ZmZlci5zbGljZSgwLCBpbkdlb21ldHJ5VXNlZExlbmd0aCk7XG5cbiAgICAvLyBzYXZlXG4gICAgaWYgKHRoaXMuX3VudXNlZENodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX3VzZWRDaHVua3MucHVzaCh7XG4gICAgICAgIHJlYWxQb3NpdGlvbjogWy4uLmluUmVhbFBvc2l0aW9uXSxcbiAgICAgICAgaW5kZXhQb3NpdGlvbjogWy4uLmluSW5kZXhQb3NpdGlvbl0sXG4gICAgICAgIGdlb21ldHJ5LFxuICAgICAgICBpc1Zpc2libGU6IGZhbHNlLFxuICAgICAgICBpc0RpcnR5OiB0cnVlLFxuICAgICAgICBnZW9tZXRyeUZsb2F0MzJidWZmZXI6IG5ldyBGbG9hdDMyQXJyYXkoc3ViQnVmZmVyKSxcbiAgICAgICAgZ2VvbWV0cnlCdWZmZXJTaXplVXNlZDogaW5HZW9tZXRyeVVzZWRMZW5ndGhcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZXVzZWQgPSB0aGlzLl91bnVzZWRDaHVua3MucG9wKCkhO1xuICAgICAgcmV1c2VkLnJlYWxQb3NpdGlvbiA9IFsuLi5pblJlYWxQb3NpdGlvbl07XG4gICAgICByZXVzZWQuaW5kZXhQb3NpdGlvbiA9IFsuLi5pbkluZGV4UG9zaXRpb25dO1xuICAgICAgcmV1c2VkLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgcmV1c2VkLmlzRGlydHkgPSB0cnVlO1xuICAgICAgcmV1c2VkLmdlb21ldHJ5RmxvYXQzMmJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoc3ViQnVmZmVyKTtcbiAgICAgIHJldXNlZC5nZW9tZXRyeUJ1ZmZlclNpemVVc2VkID0gaW5HZW9tZXRyeVVzZWRMZW5ndGg7XG4gICAgICB0aGlzLl91c2VkQ2h1bmtzLnB1c2gocmV1c2VkKTtcbiAgICB9XG5cbiAgICB0aGlzLl91c2VkU2V0LmFkZChpbkluZGV4UG9zaXRpb24pO1xuXG4gICAgdGhpcy5fZGVmLm9uQ2h1bmtDcmVhdGVkKCk7XG4gIH1cblxuICB1cGRhdGUoXG4gICAgY2FtZXJhUG9zaXRpb246IGdsbS5SZWFkb25seVZlYzMsXG4gICAgaW5Xb3JrZXJNYW5hZ2VyOiBJV29ya2VyTWFuYWdlcjx7IHByb2Nlc3Npbmc/OiBJUG9zaXRpb25EYXRhIH0+XG4gICkge1xuICAgIHRoaXMuX3VwZGF0ZUdlbmVyYXRpb24oY2FtZXJhUG9zaXRpb24sIGluV29ya2VyTWFuYWdlcik7XG5cbiAgICBmb3IgKGNvbnN0IGN1cnJDaHVuayBvZiB0aGlzLl91c2VkQ2h1bmtzKSB7XG4gICAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLl9kZWYuY2h1bmtJc1Zpc2libGUoY3VyckNodW5rLnJlYWxQb3NpdGlvbik7XG5cbiAgICAgIGN1cnJDaHVuay5pc1Zpc2libGUgPSBpc1Zpc2libGU7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBjdXJyQ2h1bmsgb2YgdGhpcy5fdXNlZENodW5rcykge1xuICAgICAgaWYgKCFjdXJyQ2h1bmsuaXNWaXNpYmxlIHx8ICFjdXJyQ2h1bmsuaXNEaXJ0eSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY3VyckNodW5rLmdlb21ldHJ5LnVwZGF0ZShcbiAgICAgICAgY3VyckNodW5rLnJlYWxQb3NpdGlvbixcbiAgICAgICAgY3VyckNodW5rLmdlb21ldHJ5QnVmZmVyU2l6ZVVzZWQsXG4gICAgICAgIGN1cnJDaHVuay5nZW9tZXRyeUZsb2F0MzJidWZmZXJcbiAgICAgICk7XG5cbiAgICAgIGN1cnJDaHVuay5pc0RpcnR5ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVHZW5lcmF0aW9uKFxuICAgIGluQ2FtZXJhUG9zaXRpb246IGdsbS5SZWFkb25seVZlYzMsXG4gICAgaW5Xb3JrZXJNYW5hZ2VyOiBJV29ya2VyTWFuYWdlcjx7IHByb2Nlc3Npbmc/OiBJUG9zaXRpb25EYXRhIH0+XG4gICkge1xuICAgIC8vICBjaGVjayBpZiBtb3ZlZCBlbm91Z2ggdG8ganVzdGlmeSBhc2tpbmcgZm9yIG5ldyBjaHVua3NcbiAgICAvLyAgICAgIC0+IGlmIHllc1xuICAgIC8vICAgICAgICAgIHJlc2V0IGNodW5rIHF1ZXVlXG4gICAgLy8gICAgICAgICAgZXhjbHVkZSBjaHVuayBvdXQgb2YgcmFuZ2VcbiAgICAvLyAgICAgICAgICBpbmNsdWRlIGNodW5rIGluIHJhbmdlXG5cbiAgICBnbG0udmVjMy5jb3B5KHRoaXMuX2NhbWVyYVBvc2l0aW9uLCBpbkNhbWVyYVBvc2l0aW9uKTtcblxuICAgIGNvbnN0IGN1cnJJbmRleDogZ2xtLlJlYWRvbmx5VmVjMyA9IFtcbiAgICAgIE1hdGguZmxvb3IoaW5DYW1lcmFQb3NpdGlvblswXSAvIHRoaXMuX2RlZi5jaHVua0dyYXBoaWNTaXplKSxcbiAgICAgIE1hdGguZmxvb3IoaW5DYW1lcmFQb3NpdGlvblsxXSAvIHRoaXMuX2RlZi5jaHVua0dyYXBoaWNTaXplKSxcbiAgICAgIE1hdGguZmxvb3IoaW5DYW1lcmFQb3NpdGlvblsyXSAvIHRoaXMuX2RlZi5jaHVua0dyYXBoaWNTaXplKVxuICAgIF07XG5cbiAgICBsZXQgbmVlZFJlZnJlc2ggPSBmYWxzZTtcblxuICAgIC8vIGZpcnN0IHRpbWUsIG5vIGNodW5rcyB5ZXQ/XG4gICAgaWYgKFxuICAgICAgdGhpcy5fdXNlZENodW5rcy5sZW5ndGggPT09IDAgJiZcbiAgICAgIGluV29ya2VyTWFuYWdlci5hcmVBbGxXb3JrZXJBdmFpbGFibGUoKVxuICAgICkge1xuICAgICAgbmVlZFJlZnJlc2ggPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIHN0aWxsIGluIHRoZSBzYW1lIGNodW5rP1xuICAgIGlmICghbmVlZFJlZnJlc2ggJiYgIWdsbS52ZWMzLmV4YWN0RXF1YWxzKGN1cnJJbmRleCwgdGhpcy5fc2F2ZWRJbmRleCkpIHtcbiAgICAgIG5lZWRSZWZyZXNoID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAobmVlZFJlZnJlc2ggPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8geWVzIC0+IHNhdmUgYXMgdGhlIG5ldyBjdXJyZW50IGNodW5rXG4gICAgZ2xtLnZlYzMuY29weSh0aGlzLl9zYXZlZEluZGV4LCBjdXJySW5kZXgpO1xuXG4gICAgLy9cblxuICAgIC8vIGNsZWFyIHRoZSBnZW5lcmF0aW9uIHF1ZXVlXG4gICAgdGhpcy5fY2h1bmtQb3NpdGlvblF1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgICAvLyB0aGUgcmFuZ2Ugb2YgY2h1bmsgZ2VuZXJhdGlvbi9leGNsdXNpb25cbiAgICBjb25zdCB7IGNodW5rR2VuZXJhdGlvblJhbmdlIH0gPSB0aGlzLl9kZWY7XG5cbiAgICBjb25zdCBtaW5DaHVua1BvczogZ2xtLlJlYWRvbmx5VmVjMyA9IFtcbiAgICAgIE1hdGguZmxvb3IoY3VyckluZGV4WzBdIC0gY2h1bmtHZW5lcmF0aW9uUmFuZ2UpLFxuICAgICAgTWF0aC5mbG9vcihjdXJySW5kZXhbMV0gLSBjaHVua0dlbmVyYXRpb25SYW5nZSksXG4gICAgICBNYXRoLmZsb29yKGN1cnJJbmRleFsyXSAtIGNodW5rR2VuZXJhdGlvblJhbmdlKVxuICAgIF07XG4gICAgY29uc3QgbWF4Q2h1bmtQb3M6IGdsbS5SZWFkb25seVZlYzMgPSBbXG4gICAgICBNYXRoLmZsb29yKGN1cnJJbmRleFswXSArIGNodW5rR2VuZXJhdGlvblJhbmdlKSxcbiAgICAgIE1hdGguZmxvb3IoY3VyckluZGV4WzFdICsgY2h1bmtHZW5lcmF0aW9uUmFuZ2UpLFxuICAgICAgTWF0aC5mbG9vcihjdXJySW5kZXhbMl0gKyBjaHVua0dlbmVyYXRpb25SYW5nZSlcbiAgICBdO1xuXG4gICAgLy9cbiAgICAvLyBleGNsdWRlIHRoZSBjaHVua3MgdGhhdCBhcmUgdG9vIGZhciBhd2F5XG5cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5fdXNlZENodW5rcy5sZW5ndGg7ICkge1xuICAgICAgY29uc3QgeyBpbmRleFBvc2l0aW9uIH0gPSB0aGlzLl91c2VkQ2h1bmtzW2lpXTtcblxuICAgICAgY29uc3QgaXNPdXRPZlJhbmdlID1cbiAgICAgICAgaW5kZXhQb3NpdGlvblswXSA8IG1pbkNodW5rUG9zWzBdIHx8XG4gICAgICAgIGluZGV4UG9zaXRpb25bMF0gPiBtYXhDaHVua1Bvc1swXSB8fFxuICAgICAgICBpbmRleFBvc2l0aW9uWzFdIDwgbWluQ2h1bmtQb3NbMV0gfHxcbiAgICAgICAgaW5kZXhQb3NpdGlvblsxXSA+IG1heENodW5rUG9zWzFdIHx8XG4gICAgICAgIGluZGV4UG9zaXRpb25bMl0gPCBtaW5DaHVua1Bvc1syXSB8fFxuICAgICAgICBpbmRleFBvc2l0aW9uWzJdID4gbWF4Q2h1bmtQb3NbMl07XG5cbiAgICAgIGlmIChpc091dE9mUmFuZ2UpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGNodW5rXG4gICAgICAgIHRoaXMuX2RlZi5yZWxlYXNlR2VvbWV0cnkodGhpcy5fdXNlZENodW5rc1tpaV0uZ2VvbWV0cnkpO1xuICAgICAgICBjb25zdCByZW1vdmVkQ2h1bmtzID0gdGhpcy5fdXNlZENodW5rcy5zcGxpY2UoaWksIDEpO1xuICAgICAgICB0aGlzLl91bnVzZWRDaHVua3MucHVzaChyZW1vdmVkQ2h1bmtzWzBdKTtcbiAgICAgICAgdGhpcy5fdXNlZFNldC5kZWxldGUoaW5kZXhQb3NpdGlvbik7XG5cbiAgICAgICAgdGhpcy5fZGVmLm9uQ2h1bmtEaXNjYXJkZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICsraWk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBpbmNsdWRlIGluIHRoZSBnZW5lcmF0aW9uIHF1ZXVlIHRoZSBjbG9zZSBlbm91Z2ggY2h1bmtzXG5cbiAgICBjb25zdCBjdXJyUG9zOiBWZWMzID0gWzAsIDAsIDBdO1xuICAgIGZvciAoXG4gICAgICBjdXJyUG9zWzJdID0gbWluQ2h1bmtQb3NbMl07XG4gICAgICBjdXJyUG9zWzJdIDw9IG1heENodW5rUG9zWzJdO1xuICAgICAgKytjdXJyUG9zWzJdXG4gICAgKSB7XG4gICAgICBmb3IgKFxuICAgICAgICBjdXJyUG9zWzFdID0gbWluQ2h1bmtQb3NbMV07XG4gICAgICAgIGN1cnJQb3NbMV0gPD0gbWF4Q2h1bmtQb3NbMV07XG4gICAgICAgICsrY3VyclBvc1sxXVxuICAgICAgKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgY3VyclBvc1swXSA9IG1pbkNodW5rUG9zWzBdO1xuICAgICAgICAgIGN1cnJQb3NbMF0gPD0gbWF4Q2h1bmtQb3NbMF07XG4gICAgICAgICAgKytjdXJyUG9zWzBdXG4gICAgICAgICkge1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcEluZGV4ID0gdGhpcy5fdXNlZENodW5rcy5maW5kSW5kZXgoKGN1cnJDaHVuaykgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlZFNldC5oYXMoY3VyckNodW5rLmluZGV4UG9zaXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodG1wSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICByZXR1cm47IC8vIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdG1wSW5kZXggPSBpbldvcmtlck1hbmFnZXJcbiAgICAgICAgICAgICAgLmdldEluVXNlV29ya2Vyc0RhdGEoKVxuICAgICAgICAgICAgICAuZmluZEluZGV4KChjdXJyV29ya2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdsbS52ZWMzLmV4YWN0RXF1YWxzKFxuICAgICAgICAgICAgICAgICAgY3Vycldvcmtlci5wcm9jZXNzaW5nIS5pbmRleFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgY3VyclBvc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodG1wSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICByZXR1cm47IC8vIGFscmVhZHkgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX2NodW5rUG9zaXRpb25RdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIGluZGV4UG9zaXRpb246IFsuLi5jdXJyUG9zXSxcbiAgICAgICAgICAgIHJlYWxQb3NpdGlvbjogW1xuICAgICAgICAgICAgICBjdXJyUG9zWzBdICogdGhpcy5fZGVmLmNodW5rR3JhcGhpY1NpemUsXG4gICAgICAgICAgICAgIGN1cnJQb3NbMV0gKiB0aGlzLl9kZWYuY2h1bmtHcmFwaGljU2l6ZSxcbiAgICAgICAgICAgICAgY3VyclBvc1syXSAqIHRoaXMuX2RlZi5jaHVua0dyYXBoaWNTaXplXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRCZXN0TmV4dENodW5rUG9zaXRpb24oKTogSVBvc2l0aW9uRGF0YSB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMuX2NodW5rUG9zaXRpb25RdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gZnJvbSBoZXJlLCB3ZSBkZXRlcm1pbmUgdGhlIG5leHQgYmVzdCBjaHVuayB0byBwcm9jZXNzXG5cbiAgICBjb25zdCBfZ2V0RGlzdGFuY2VUb0NhbWVyYSA9IChjaHVua1Bvc2l0aW9uOiBnbG0uUmVhZG9ubHlWZWMzKSA9PiB7XG4gICAgICBjb25zdCBjaHVua0hTaXplID0gdGhpcy5fZGVmLmNodW5rR3JhcGhpY1NpemUgKiAwLjU7XG5cbiAgICAgIGNvbnN0IGNodW5rQ2VudGVyOiBnbG0uUmVhZG9ubHlWZWMzID0gW1xuICAgICAgICB0aGlzLl9jYW1lcmFQb3NpdGlvblswXSAtIChjaHVua1Bvc2l0aW9uWzBdICsgY2h1bmtIU2l6ZSksXG4gICAgICAgIHRoaXMuX2NhbWVyYVBvc2l0aW9uWzFdIC0gKGNodW5rUG9zaXRpb25bMV0gKyBjaHVua0hTaXplKSxcbiAgICAgICAgdGhpcy5fY2FtZXJhUG9zaXRpb25bMl0gLSAoY2h1bmtQb3NpdGlvblsyXSArIGNodW5rSFNpemUpXG4gICAgICBdO1xuXG4gICAgICByZXR1cm4gZ2xtLnZlYzMubGVuZ3RoKGNodW5rQ2VudGVyKTtcbiAgICB9O1xuXG4gICAgbGV0IGJlc3RJbmRleCA9IC0xO1xuICAgIGxldCBiZXN0TWFnbml0dWRlID0gLTE7XG5cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5fY2h1bmtQb3NpdGlvblF1ZXVlLmxlbmd0aDsgKytpaSkge1xuICAgICAgY29uc3QgeyByZWFsUG9zaXRpb24gfSA9IHRoaXMuX2NodW5rUG9zaXRpb25RdWV1ZVtpaV07XG5cbiAgICAgIGlmICghdGhpcy5fZGVmLmNodW5rSXNWaXNpYmxlKHJlYWxQb3NpdGlvbikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1hZ25pdHVkZSA9IF9nZXREaXN0YW5jZVRvQ2FtZXJhKHJlYWxQb3NpdGlvbik7XG4gICAgICBpZiAoYmVzdE1hZ25pdHVkZSA+PSAwICYmIGJlc3RNYWduaXR1ZGUgPCBtYWduaXR1ZGUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGJlc3RJbmRleCA9IGlpO1xuICAgICAgYmVzdE1hZ25pdHVkZSA9IG1hZ25pdHVkZTtcbiAgICB9XG5cbiAgICBpZiAoYmVzdEluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyByZW1vdmFsXG4gICAgcmV0dXJuIHRoaXMuX2NodW5rUG9zaXRpb25RdWV1ZS5zcGxpY2UoYmVzdEluZGV4LCAxKVswXTtcbiAgfVxufVxuIiwKICAiaW1wb3J0IHsgc3lzdGVtIH0gZnJvbSAnQGxvY2FsLWZyYW1ld29yayc7XG5cbmltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG5pbXBvcnQge1xuICBXb3JrZXJNYW5hZ2VyLFxuICBDaHVua01hbmFnZXIsXG4gIENodW5rcyxcbiAgSVBvc2l0aW9uRGF0YSxcbiAgT25Xb3JrZXJSZXN1bHRcbn0gZnJvbSAnLi9pbnRlcm5hbHMnO1xuXG5pbXBvcnQgeyBJTGl2ZUdlb21ldHJ5IH0gZnJvbSAnLi4vd2ViR0xSZW5kZXJlci9XZWJHTFJlbmRlcmVyJztcbmltcG9ydCB7IElNZXNzYWdlIH0gZnJvbSAnLi4vLi4vLi4vX2NvbW1vbic7XG5cbnR5cGUgVmVjMyA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcblxuaW50ZXJmYWNlIElDaHVua0dlbmVyYXRvckRlZiB7XG4gIGNodW5rR3JhcGhpY1NpemU6IG51bWJlcjtcbiAgY2h1bmtHZW5lcmF0aW9uUmFuZ2U6IG51bWJlcjtcbiAgY2h1bmtMb2dpY1NpemU6IG51bWJlcjtcbiAgd29ya2VyVG90YWw6IG51bWJlcjtcbiAgd29ya2VyRmlsZTogc3RyaW5nO1xuICBjaHVua0lzVmlzaWJsZTogKHBvczogUmVhZG9ubHk8VmVjMz4pID0+IGJvb2xlYW47XG4gIGFjcXVpcmVHZW9tZXRyeTogKGluU2l6ZTogbnVtYmVyKSA9PiBJTGl2ZUdlb21ldHJ5O1xuICByZWxlYXNlR2VvbWV0cnk6IChpbkdlb206IElMaXZlR2VvbWV0cnkpID0+IHZvaWQ7XG4gIG9uQ2h1bmtDcmVhdGVkOiAoKSA9PiB2b2lkO1xuICBvbkNodW5rRGlzY2FyZGVkOiAoKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgV29ya2VyRGF0YSB7XG4gIGdlb21ldHJ5RmxvYXQzMmJ1ZmZlcjogRmxvYXQzMkFycmF5O1xuICBwcm9jZXNzaW5nPzogSVBvc2l0aW9uRGF0YTtcbn1cblxuZXhwb3J0IGNsYXNzIENodW5rR2VuZXJhdG9yIHtcbiAgcHJpdmF0ZSBfZGVmOiBQaWNrPFxuICAgIElDaHVua0dlbmVyYXRvckRlZixcbiAgICAnd29ya2VyRmlsZScgfCAnd29ya2VyVG90YWwnIHwgJ2NodW5rTG9naWNTaXplJ1xuICA+O1xuICBwcml2YXRlIF9nZW9tZXRyeUJ1ZmZlclNpemU6IG51bWJlcjtcbiAgcHJpdmF0ZSBfZGF0YUJ1ZmZlclNpemU6IG51bWJlcjtcblxuICBwcml2YXRlIF9ydW5uaW5nOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX2NodW5rTWFuYWdlcjogQ2h1bmtNYW5hZ2VyO1xuXG4gIHByaXZhdGUgX3dvcmtlck1hbmFnZXI6IFdvcmtlck1hbmFnZXI8V29ya2VyRGF0YSwgSU1lc3NhZ2U+O1xuXG4gIHByaXZhdGUgX2ZyYW1lUHJvZmlsZXIgPSBuZXcgc3lzdGVtLm1ldHJpY3MuRnJhbWVQcm9maWxlcigpO1xuXG4gIGNvbnN0cnVjdG9yKGRlZjogSUNodW5rR2VuZXJhdG9yRGVmKSB7XG4gICAgdGhpcy5fZGVmID0gZGVmO1xuXG4gICAgdGhpcy5fY2h1bmtNYW5hZ2VyID0gbmV3IENodW5rTWFuYWdlcih7XG4gICAgICBjaHVua0dyYXBoaWNTaXplOiBkZWYuY2h1bmtHcmFwaGljU2l6ZSxcbiAgICAgIGNodW5rR2VuZXJhdGlvblJhbmdlOiBkZWYuY2h1bmtHZW5lcmF0aW9uUmFuZ2UsXG4gICAgICBjaHVua0xvZ2ljU2l6ZTogZGVmLmNodW5rTG9naWNTaXplLFxuICAgICAgY2h1bmtJc1Zpc2libGU6IGRlZi5jaHVua0lzVmlzaWJsZSxcbiAgICAgIGFjcXVpcmVHZW9tZXRyeTogZGVmLmFjcXVpcmVHZW9tZXRyeSxcbiAgICAgIHJlbGVhc2VHZW9tZXRyeTogZGVmLnJlbGVhc2VHZW9tZXRyeSxcbiAgICAgIG9uQ2h1bmtDcmVhdGVkOiBkZWYub25DaHVua0NyZWF0ZWQsXG4gICAgICBvbkNodW5rRGlzY2FyZGVkOiBkZWYub25DaHVua0Rpc2NhcmRlZFxuICAgIH0pO1xuXG4gICAgY29uc3Qgb25Xb3JrZXJSZXN1bHQ6IE9uV29ya2VyUmVzdWx0PFdvcmtlckRhdGEsIElNZXNzYWdlPiA9IChcbiAgICAgIGluV29ya2VyRGF0YTogV29ya2VyRGF0YSxcbiAgICAgIGluTWVzc2FnZURhdGE6IElNZXNzYWdlXG4gICAgKSA9PiB7XG4gICAgICAvL1xuICAgICAgLy8gcHJvY2VzcyByZXNwb25zZVxuICAgICAgLy9cblxuICAgICAgY29uc3Qge1xuICAgICAgICBpbmRleFBvc2l0aW9uLFxuICAgICAgICByZWFsUG9zaXRpb24sXG4gICAgICAgIGdlb21ldHJ5RmxvYXQzMmJ1ZmZlciwgLy8gbWVtb3J5IG93bmVyc2hpcCB0cmFuc2ZlclxuICAgICAgICBnZW9tZXRyeUJ1ZmZlclNpemUsXG4gICAgICAgIHNpemVVc2VkXG4gICAgICB9ID0gaW5NZXNzYWdlRGF0YTtcblxuICAgICAgY29uc3QgY3VyclRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgZGVsdGEgPSBjdXJyVGltZSAtIGluTWVzc2FnZURhdGEudGltZTtcbiAgICAgIHRoaXMuX2ZyYW1lUHJvZmlsZXIucHVzaERlbHRhKGRlbHRhKTtcblxuICAgICAgaW5Xb3JrZXJEYXRhLmdlb21ldHJ5RmxvYXQzMmJ1ZmZlciA9IGdlb21ldHJ5RmxvYXQzMmJ1ZmZlcjtcblxuICAgICAgaW5Xb3JrZXJEYXRhLnByb2Nlc3NpbmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICghdGhpcy5fcnVubmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vXG4gICAgICAvLyBwcm9jZXNzIG5leHRcbiAgICAgIC8vXG5cbiAgICAgIHRoaXMuX2NodW5rTWFuYWdlci5wdXNoTmV3KFxuICAgICAgICBpbmRleFBvc2l0aW9uLFxuICAgICAgICByZWFsUG9zaXRpb24sXG4gICAgICAgIGluV29ya2VyRGF0YS5nZW9tZXRyeUZsb2F0MzJidWZmZXIsXG4gICAgICAgIGdlb21ldHJ5QnVmZmVyU2l6ZSxcbiAgICAgICAgc2l6ZVVzZWRcbiAgICAgICk7XG5cbiAgICAgIC8vIGxhdW5jaCBhZ2FpblxuICAgICAgdGhpcy5fbGF1bmNoV29ya2VyKCk7XG4gICAgfTtcblxuICAgIHRoaXMuX3dvcmtlck1hbmFnZXIgPSBuZXcgV29ya2VyTWFuYWdlcjxXb3JrZXJEYXRhLCBJTWVzc2FnZT4oXG4gICAgICBvbldvcmtlclJlc3VsdFxuICAgICk7XG5cbiAgICB0aGlzLl9kYXRhQnVmZmVyU2l6ZSA9IE1hdGgucG93KHRoaXMuX2RlZi5jaHVua0xvZ2ljU2l6ZSArIDEgKyAxLCAzKTsgLy8gVE9ETzogY2hlY2sgc2l6ZVxuICAgIHRoaXMuX2dlb21ldHJ5QnVmZmVyU2l6ZSA9IHRoaXMuX2RhdGFCdWZmZXJTaXplICogMjAgKiA2ICogMzsgLy8gMjAgdHJpYW5nbGVzICgzIHZlcnRpY2VzLCA2IGZsb2F0cyBlYWNoKVxuXG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuX2RlZi53b3JrZXJUb3RhbDsgKytpaSkge1xuICAgICAgdGhpcy5fd29ya2VyTWFuYWdlci5hZGRPbmVXb3JrZXIodGhpcy5fZGVmLndvcmtlckZpbGUsIHtcbiAgICAgICAgZ2VvbWV0cnlGbG9hdDMyYnVmZmVyOiBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2dlb21ldHJ5QnVmZmVyU2l6ZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMuX3J1bm5pbmcgPSB0cnVlO1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBpZiAoIXRoaXMuX3J1bm5pbmcpIHJldHVybjtcblxuICAgIHRoaXMuX3J1bm5pbmcgPSBmYWxzZTtcblxuICAgIHRoaXMuX2NodW5rTWFuYWdlci5jbGVhcigpO1xuICB9XG5cbiAgdXBkYXRlKGNhbWVyYVBvc2l0aW9uOiBnbG0uUmVhZG9ubHlWZWMzKSB7XG4gICAgaWYgKCF0aGlzLl9ydW5uaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy9cbiAgICAvL1xuXG4gICAgdGhpcy5fY2h1bmtNYW5hZ2VyLnVwZGF0ZShjYW1lcmFQb3NpdGlvbiwgdGhpcy5fd29ya2VyTWFuYWdlcik7XG5cbiAgICAvL1xuICAgIC8vXG5cbiAgICB0aGlzLl9sYXVuY2hXb3JrZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2xhdW5jaFdvcmtlcigpIHtcbiAgICAvLyBkZXRlcm1pbmUgdGhlIG5leHQgY2h1bmsgdG8gcHJvY2Vzc1xuXG4gICAgd2hpbGUgKFxuICAgICAgLy8gaXMgdGhlcmUgc29tZXRoaW5nIHRvIHByb2Nlc3M/XG4gICAgICB0aGlzLl9jaHVua01hbmFnZXIuaXNOb3REb25lKCkgJiZcbiAgICAgIC8vIGlzIHRoZXJlIGFuIHVudXNlZCB3b3JrZXI/XG4gICAgICB0aGlzLl93b3JrZXJNYW5hZ2VyLmlzV29ya2VyQXZhaWxhYmxlKClcbiAgICApIHtcbiAgICAgIC8vXG4gICAgICAvLyBmaW5kIHRoZSBcImJlc3RcIiBjaHVuayB0byBnZW5lcmF0ZVxuICAgICAgLy9cblxuICAgICAgY29uc3QgbmV4dFBvc2l0aW9uRGF0YSA9IHRoaXMuX2NodW5rTWFuYWdlci5nZXRCZXN0TmV4dENodW5rUG9zaXRpb24oKTtcbiAgICAgIGlmICghbmV4dFBvc2l0aW9uRGF0YSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy9cbiAgICAgIC8vIHNldCB3b3JrZXIgYXMgXCJpbiB1c2VcIlxuICAgICAgLy9cblxuICAgICAgdGhpcy5fd29ya2VyTWFuYWdlci5wdXNoVGFzaygoaW5Xb3JrZXJEYXRhLCBpblB1c2hUYXNrKSA9PiB7XG4gICAgICAgIGluV29ya2VyRGF0YS5wcm9jZXNzaW5nID0gbmV4dFBvc2l0aW9uRGF0YTtcblxuICAgICAgICBjb25zdCBwYXlsb2FkOiBJTWVzc2FnZSA9IHtcbiAgICAgICAgICByZWFsUG9zaXRpb246IG5leHRQb3NpdGlvbkRhdGEucmVhbFBvc2l0aW9uLFxuICAgICAgICAgIGluZGV4UG9zaXRpb246IG5leHRQb3NpdGlvbkRhdGEuaW5kZXhQb3NpdGlvbixcbiAgICAgICAgICBnZW9tZXRyeUZsb2F0MzJidWZmZXI6IGluV29ya2VyRGF0YS5nZW9tZXRyeUZsb2F0MzJidWZmZXIsXG4gICAgICAgICAgZ2VvbWV0cnlCdWZmZXJTaXplOiB0aGlzLl9nZW9tZXRyeUJ1ZmZlclNpemUsXG4gICAgICAgICAgc2l6ZVVzZWQ6IDAsXG4gICAgICAgICAgdGltZTogRGF0ZS5ub3coKVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHRyYW5zZmVyYWJsZTogVHJhbnNmZXJhYmxlW10gPSBbXG4gICAgICAgICAgaW5Xb3JrZXJEYXRhLmdlb21ldHJ5RmxvYXQzMmJ1ZmZlci5idWZmZXIgLy8gbWVtb3J5IG93bmVyc2hpcCB0cmFuc2ZlclxuICAgICAgICBdO1xuXG4gICAgICAgIGluUHVzaFRhc2socGF5bG9hZCwgdHJhbnNmZXJhYmxlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldENodW5rcygpOiBDaHVua3Mge1xuICAgIHJldHVybiB0aGlzLl9jaHVua01hbmFnZXIuZ2V0Q2h1bmtzKCk7XG4gIH1cblxuICBnZXRGcmFtZVByb2ZpbGVyKCk6IFJlYWRvbmx5PHN5c3RlbS5tZXRyaWNzLkZyYW1lUHJvZmlsZXI+IHtcbiAgICByZXR1cm4gdGhpcy5fZnJhbWVQcm9maWxlcjtcbiAgfVxuXG4gIGdldFByb2Nlc3NpbmdSZWFsUG9zaXRpb25zKCk6IGdsbS5SZWFkb25seVZlYzNbXSB7XG4gICAgcmV0dXJuIHRoaXMuX3dvcmtlck1hbmFnZXJcbiAgICAgIC5nZXRJblVzZVdvcmtlcnNEYXRhKClcbiAgICAgIC5tYXAoKHdvcmtlckRhdGEpID0+IHdvcmtlckRhdGEucHJvY2Vzc2luZyEucmVhbFBvc2l0aW9uKTtcbiAgfVxufVxuIiwKICAiZXhwb3J0IGRlZmF1bHQgYFxuI3ZlcnNpb24gMzAwIGVzXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxudW5pZm9ybSBtYXQ0IHVfY29tcG9zZWRNYXRyaXg7XG51bmlmb3JtIGZsb2F0IHVfc2NlbmVTY2FsZTtcbnVuaWZvcm0gZmxvYXQgdV90aWxlUmVwZWF0O1xuXG5pbiB2ZWMzIGFfdmVydGV4X3Bvc2l0aW9uO1xuaW4gdmVjMyBhX3ZlcnRleF9ub3JtYWw7XG5pbiB2ZWMzIGFfb2Zmc2V0X29yaWdpbjtcblxub3V0IHZlYzMgdl9jaHVua1NwYWNlUG9zaXRpb247XG5vdXQgdmVjMyB2X3dvcmxkU3BhY2VQb3NpdGlvbjtcbm91dCB2ZWMzIHZfd29ybGRTcGFjZU5vcm1hbDtcblxudm9pZCBtYWluKHZvaWQpXG57XG4gIHZlYzMgY2h1bmtTcGFjZVBvc2l0aW9uID0gYV92ZXJ0ZXhfcG9zaXRpb24gKiB1X3NjZW5lU2NhbGU7XG5cbiAgdl9jaHVua1NwYWNlUG9zaXRpb24gPSBhX3ZlcnRleF9wb3NpdGlvbiAqIHVfdGlsZVJlcGVhdDtcbiAgdl93b3JsZFNwYWNlUG9zaXRpb24gPSBhX29mZnNldF9vcmlnaW4gKyBjaHVua1NwYWNlUG9zaXRpb247XG4gIHZfd29ybGRTcGFjZU5vcm1hbCA9IGFfdmVydGV4X25vcm1hbDtcblxuICBnbF9Qb3NpdGlvbiA9IHVfY29tcG9zZWRNYXRyaXggKiB2ZWM0KHZfd29ybGRTcGFjZVBvc2l0aW9uLCAxLjApO1xufVxuYC50cmltKCk7IiwKICAiZXhwb3J0IGRlZmF1bHQgYFxuI3ZlcnNpb24gMzAwIGVzXG5cbnByZWNpc2lvbiBsb3dwIGZsb2F0O1xucHJlY2lzaW9uIGhpZ2hwIHNhbXBsZXIyREFycmF5O1xuXG5jb25zdCBmbG9hdCBrX2FtYmlhbnRDb2VmID0gMC4xO1xuY29uc3QgdmVjMyBrX3NwZWNDb2xvciA9IHZlYzMoMS4wLCAxLjAsIDEuMCk7XG5cbnVuaWZvcm0gc2FtcGxlcjJEQXJyYXkgdV90ZXh0dXJlQXJyYXk7XG5cbnVuaWZvcm0gdmVjMyB1X2V5ZVBvc2l0aW9uO1xuXG5pbiB2ZWMzIHZfY2h1bmtTcGFjZVBvc2l0aW9uO1xuaW4gdmVjMyB2X3dvcmxkU3BhY2VQb3NpdGlvbjtcbmluIHZlYzMgdl93b3JsZFNwYWNlTm9ybWFsO1xuXG5vdXQgdmVjNCBvX2NvbG9yO1xuXG52ZWM0IF9nZXRDb2xvclZhbHVlKClcbntcblxuICAvLyBjdXJyZW50IDNkIHRleHR1cmUgY29vcmRpbmF0ZVxuICB2ZWMzIGZsb29yZWRQb3MgPSB2ZWMzKFxuICAgIHZfY2h1bmtTcGFjZVBvc2l0aW9uLnggLSBmbG9vcih2X2NodW5rU3BhY2VQb3NpdGlvbi54KSxcbiAgICB2X2NodW5rU3BhY2VQb3NpdGlvbi55IC0gZmxvb3Iodl9jaHVua1NwYWNlUG9zaXRpb24ueSksXG4gICAgdl9jaHVua1NwYWNlUG9zaXRpb24ueiAtIGZsb29yKHZfY2h1bmtTcGFjZVBvc2l0aW9uLnopXG4gICk7XG5cbiAgdmVjMyBibGVuZFdlaWdodHMgPSBhYnMoIG5vcm1hbGl6ZSggdl93b3JsZFNwYWNlTm9ybWFsLnh5eiApICk7XG4gIGJsZW5kV2VpZ2h0cyA9IG1heCggKCBibGVuZFdlaWdodHMgLSAwLjIgKSAqIDcuMCwgMC4wICk7XG4gIGJsZW5kV2VpZ2h0cyAvPSAoIGJsZW5kV2VpZ2h0cy54ICsgYmxlbmRXZWlnaHRzLnkgKyBibGVuZFdlaWdodHMueiApO1xuXG4gIC8vIGhvcml6b250YWwgdGV4dHVyZSBjb29yZGluYXRlcyAtPiBzaG91bGQgYmUgYSB3YWxsXG4gIHZlYzIgdGV4Q29vcmRYID0gdmVjMihmbG9vcmVkUG9zLnksIGZsb29yZWRQb3Mueik7XG4gIHZlYzIgdGV4Q29vcmRZID0gdmVjMihmbG9vcmVkUG9zLngsIGZsb29yZWRQb3Mueik7XG5cbiAgLy8gdmVydGljYWwgdGV4dHVyZSBjb29yZCAtPiBzaG91bGQgYmUgZ3JlZW4gZ3Jhc3NcbiAgdmVjMiB0ZXhDb29yZFogPSB2ZWMyKGZsb29yZWRQb3MueCwgZmxvb3JlZFBvcy55KTtcblxuICAvLyBob3Jpem9udGFsIGNvbG9yXG4gIHZlYzMgdGV4Q29sb3JYID0gdGV4dHVyZSggdV90ZXh0dXJlQXJyYXksIHZlYzModGV4Q29vcmRYLCAyKSApLnJnYjtcbiAgdmVjMyB0ZXhDb2xvclkgPSB0ZXh0dXJlKCB1X3RleHR1cmVBcnJheSwgdmVjMyh0ZXhDb29yZFksIDIpICkucmdiO1xuXG4gIGZsb2F0IHNwZWN1bGFyUmF0aW9YID0gdGV4dHVyZSggdV90ZXh0dXJlQXJyYXksIHZlYzModGV4Q29vcmRYLCAzKSApLnIgKiBibGVuZFdlaWdodHMueDtcbiAgZmxvYXQgc3BlY3VsYXJSYXRpb1kgPSB0ZXh0dXJlKCB1X3RleHR1cmVBcnJheSwgdmVjMyh0ZXhDb29yZFksIDMpICkuciAqIGJsZW5kV2VpZ2h0cy55O1xuICBmbG9hdCBzcGVjdWxhclJhdGlvID0gbWF4KCBzcGVjdWxhclJhdGlvWCwgc3BlY3VsYXJSYXRpb1kgKTtcblxuICAvLyB2ZXJ0aWNhbCBjb2xvclxuICB2ZWMzIHRleENvbG9yWiA9IHZlYzMoMC4wKTtcbiAgaWYgKHZfd29ybGRTcGFjZU5vcm1hbC56IDwgMC4wKVxuICB7XG4gICAgdGV4Q29sb3JaID0gdGV4dHVyZSggdV90ZXh0dXJlQXJyYXksIHZlYzModGV4Q29vcmRaLCAwKSApLnJnYjtcbiAgfVxuICBlbHNlXG4gIHtcbiAgICB0ZXhDb2xvclogPSB0ZXh0dXJlKCB1X3RleHR1cmVBcnJheSwgdmVjMyh0ZXhDb29yZFosIDEpICkucmdiO1xuICB9XG5cbiAgcmV0dXJuIHZlYzQoXG4gICAgdGV4Q29sb3JYICogYmxlbmRXZWlnaHRzLnh4eCArXG4gICAgdGV4Q29sb3JZICogYmxlbmRXZWlnaHRzLnl5eSArXG4gICAgdGV4Q29sb3JaICogYmxlbmRXZWlnaHRzLnp6eixcbiAgICBzcGVjdWxhclJhdGlvXG4gICk7XG59XG5cbnZlYzMgX2dldExpZ2h0Q29sb3IodmVjNCBjdXJyZW50Q29sb3IpXG57XG4gIHZlYzMgbm9ybWFsID0gbm9ybWFsaXplKHZfd29ybGRTcGFjZU5vcm1hbCk7XG4gIHZlYzMgbGlnaHREaXIgPSBub3JtYWxpemUodV9leWVQb3NpdGlvbiAtIHZfd29ybGRTcGFjZVBvc2l0aW9uKTtcblxuICBmbG9hdCBkaWZmdXNlQ29lZiA9IG1heChkb3QobGlnaHREaXIsdl93b3JsZFNwYWNlTm9ybWFsLnh5eiksIDAuMCk7XG4gIGZsb2F0IHNwZWN1bGFyQ29lZiA9IDAuMDtcblxuICBpZiAoZGlmZnVzZUNvZWYgPiAwLjApXG4gIHtcbiAgICAvLyBzcGVjdWxhclxuXG4gICAgdmVjMyByZWZsZWN0RGlyID0gcmVmbGVjdCgtbGlnaHREaXIsIG5vcm1hbCk7XG4gICAgdmVjMyB2aWV3RGlyID0gbm9ybWFsaXplKHVfZXllUG9zaXRpb24gLSB2X3dvcmxkU3BhY2VQb3NpdGlvbik7XG5cbiAgICBmbG9hdCBzcGVjQW5nbGUgPSBtYXgoZG90KHJlZmxlY3REaXIsIHZpZXdEaXIpLCAwLjApO1xuICAgIHNwZWN1bGFyQ29lZiA9IHBvdyhzcGVjQW5nbGUsIDE2LjApO1xuICB9XG5cbiAgdmVjMyBkaWZmdXNlQ29sb3IgPSBjdXJyZW50Q29sb3IucmdiICogKGtfYW1iaWFudENvZWYgKyBkaWZmdXNlQ29lZik7XG4gIHZlYzMgc3BlY3VsYXJDb2xvciA9IGtfc3BlY0NvbG9yICogc3BlY3VsYXJDb2VmICogY3VycmVudENvbG9yLmE7XG5cbiAgcmV0dXJuIGRpZmZ1c2VDb2xvciArIHNwZWN1bGFyQ29sb3I7XG59XG5cbnZvaWQgbWFpbih2b2lkKVxue1xuICBvX2NvbG9yID0gdmVjNChfZ2V0TGlnaHRDb2xvcihfZ2V0Q29sb3JWYWx1ZSgpKSwgMS4wKTtcbn1cbmAudHJpbSgpOyIsCiAgImltcG9ydCB7IGdyYXBoaWNzIH0gZnJvbSAnQGxvY2FsLWZyYW1ld29yayc7XG5cbmltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgY2h1bmtzUmVuZGVyZXJWZXJ0ZXggZnJvbSAnLi9zaGFkZXJzL2NodW5rcy1yZW5kZXJlci5nbHNsLnZlcnQnO1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IGNodW5rc1JlbmRlcmVyRnJhZ21lbnQgZnJvbSAnLi9zaGFkZXJzL2NodW5rcy1yZW5kZXJlci5nbHNsLmZyYWcnO1xuXG5jb25zdCB7IEdlb21ldHJ5V3JhcHBlciwgU2hhZGVyUHJvZ3JhbSwgVGV4dHVyZUFycmF5LCBGZW5jZVN5bmMgfSA9XG4gIGdyYXBoaWNzLndlYmdsMjtcbi8vIGNvbnN0IHsgY2hlY2tFcnJvciB9ID0gZ3JhcGhpY3Mud2ViZ2wyO1xuXG50eXBlIElVbmJvdW5kU2hhZGVyID0gZ3JhcGhpY3Mud2ViZ2wyLklVbmJvdW5kU2hhZGVyO1xudHlwZSBJVW5ib3VuZFRleHR1cmVBcnJheSA9IGdyYXBoaWNzLndlYmdsMi5JVW5ib3VuZFRleHR1cmVBcnJheTtcbnR5cGUgR2VvbWV0cnkgPSBncmFwaGljcy53ZWJnbDIuR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5O1xudHlwZSBHZW9tZXRyeURlZmluaXRpb24gPSBncmFwaGljcy53ZWJnbDIuR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5RGVmaW5pdGlvbjtcblxuZXhwb3J0IGludGVyZmFjZSBJTGl2ZUdlb21ldHJ5IHtcbiAgdXBkYXRlKFxuICAgIGluT3JpZ2luOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluQnVmZmVyTGVuZ3RoOiBudW1iZXIsXG4gICAgaW5CdWZmZXI6IEZsb2F0MzJBcnJheVxuICApOiB2b2lkO1xuICBnZXRPcmlnaW4oKTogZ2xtLlJlYWRvbmx5VmVjMztcbiAgZ2V0U2l6ZSgpOiBudW1iZXI7XG59XG5cbmNsYXNzIExpdmVHZW9tZXRyeSBpbXBsZW1lbnRzIElMaXZlR2VvbWV0cnkge1xuICBwcml2YXRlIF9vcmlnaW46IGdsbS52ZWMzID0gZ2xtLnZlYzMuZnJvbVZhbHVlcygwLCAwLCAwKTtcbiAgcHJpdmF0ZSBfc2l6ZTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfZ2VvbWV0cnk6IEdlb21ldHJ5O1xuICBwcml2YXRlIF9mZW5jZSA9IG5ldyBGZW5jZVN5bmMoKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBpblNoYWRlcjogSVVuYm91bmRTaGFkZXIsXG4gICAgaW5HZW9tZXRyeURlZmluaXRpb246IEdlb21ldHJ5RGVmaW5pdGlvbixcbiAgICBwcmVBbGxvY2F0ZWRTaXplOiBudW1iZXJcbiAgKSB7XG4gICAgdGhpcy5fZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5KFxuICAgICAgaW5TaGFkZXIsXG4gICAgICBpbkdlb21ldHJ5RGVmaW5pdGlvblxuICAgICk7XG4gICAgdGhpcy5fZ2VvbWV0cnkuc2V0RmxvYXRCdWZmZXJTaXplKDAsIHByZUFsbG9jYXRlZFNpemUpO1xuICAgIHRoaXMuX2dlb21ldHJ5LnNldEZsb2F0QnVmZmVyU2l6ZSgxLCAzICogNCk7IC8vIHZlYzMgPT4gMyBmbG9hdCA9PiAzICogNCBieXRlc1xuICB9XG5cbiAgdXBkYXRlKFxuICAgIGluT3JpZ2luOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluQnVmZmVyTGVuZ3RoOiBudW1iZXIsXG4gICAgaW5CdWZmZXI6IEZsb2F0MzJBcnJheVxuICApOiB2b2lkIHtcbiAgICBnbG0udmVjMy5jb3B5KHRoaXMuX29yaWdpbiwgaW5PcmlnaW4pO1xuICAgIHRoaXMuX3NpemUgPSBpbkJ1ZmZlckxlbmd0aDtcblxuICAgIHRoaXMuX2dlb21ldHJ5LnVwZGF0ZUJ1ZmZlcigwLCBpbkJ1ZmZlciwgaW5CdWZmZXJMZW5ndGgpO1xuICAgIHRoaXMuX2dlb21ldHJ5LnNldFByaW1pdGl2ZUNvdW50KGluQnVmZmVyTGVuZ3RoIC8gNik7XG5cbiAgICBjb25zdCBuZXdCdWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KFtpbk9yaWdpblswXSwgaW5PcmlnaW5bMV0sIGluT3JpZ2luWzJdXSk7XG4gICAgdGhpcy5fZ2VvbWV0cnkudXBkYXRlQnVmZmVyKDEsIG5ld0J1ZmZlciwgbmV3QnVmZmVyLmxlbmd0aCk7XG4gICAgdGhpcy5fZ2VvbWV0cnkuc2V0SW5zdGFuY2VkQ291bnQoMSk7XG5cbiAgICAvLyB3ZSB3YW50IHRvIGtub3cgd2hlbiB0aGUgY3VycmVudCBjb21tYW5kIHF1ZXVlIHdpbCBiZSBjb21wbGV0ZWRcbiAgICB0aGlzLl9mZW5jZS5zdGFydCgpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIGFyZSB3ZSB3YWl0aW5nIGZvciB0aGUgZ2VvbWV0cnkgYnVmZmVycyB0byBnZXQgdXBsb2FkZWQ/XG4gICAgaWYgKHRoaXMuX2ZlbmNlLmlzU3RhcnRlZCgpKSB7XG4gICAgICAvLyB5ZXMgd2UncmUgd2FpdGluZ1xuXG4gICAgICAvLyBpcyB0aGUgZ2VvbWV0cnkgYnVmZmVycyByZWFkeT9cbiAgICAgIGlmICh0aGlzLl9mZW5jZS5pc1NpZ25hbGVkKCkpIHtcbiAgICAgICAgLy8geWVzIGl0J3MgcmVhZHksIGxldCdzIHJlbmRlciBpdCBmcm9tIG5vdyBvblxuICAgICAgICB0aGlzLl9mZW5jZS5kaXNwb3NlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBub1xuICAgICAgICAvLyAtPiBkbyBub3QgcmVuZGVyXG4gICAgICAgIC8vIC0tLT4gaXQgd291bGQgZm9yY2UgdXMgdG8gd2FpdCBmb3IgdGhlIGJ1ZmZlciB0byBmaW5pc2ggdXBsb2FkaW5nXG4gICAgICAgIC8vIC0tLT4gd2hpY2ggaW4gdHVybiBjb3VsZCB0cmlnZ2VyIGEgZnJlZXplLCBhbmQgbG93ZXIgdGhlIG92ZXJhbGwgZnBzXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjaGVja0Vycm9yKCk7XG5cbiAgICB0aGlzLl9nZW9tZXRyeS5yZW5kZXIoKTtcbiAgfVxuXG4gIHJldXNlKCk6IHZvaWQge1xuICAgIHRoaXMuX2ZlbmNlLmRpc3Bvc2UoKTtcbiAgfVxuXG4gIGdldE9yaWdpbigpOiBnbG0uUmVhZG9ubHlWZWMzIHtcbiAgICByZXR1cm4gdGhpcy5fb3JpZ2luO1xuICB9XG4gIGdldFNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDaHVua3NSZW5kZXJlciB7XG4gIGFjcXVpcmVHZW9tZXRyeShzaXplOiBudW1iZXIpOiBJTGl2ZUdlb21ldHJ5O1xuICByZWxlYXNlR2VvbWV0cnkoZ2VvbTogSUxpdmVHZW9tZXRyeSk6IHZvaWQ7XG4gIHJlbmRlcihcbiAgICBpbkNhbWVyYTogZ3JhcGhpY3MuY2FtZXJhLklDYW1lcmEsXG4gICAgaW5GcnVzdHVtQ3VsbGluZzogZ3JhcGhpY3MuY2FtZXJhLklGcnVzdHVtQ3VsbGluZyxcbiAgICBpbkNodW5rU2l6ZTogbnVtYmVyXG4gICk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBDaHVua3NSZW5kZXJlciBpbXBsZW1lbnRzIElDaHVua3NSZW5kZXJlciB7XG4gIHByaXZhdGUgX3NoYWRlcjogSVVuYm91bmRTaGFkZXI7XG4gIHByaXZhdGUgX3RleHR1cmVBcnJheTogSVVuYm91bmRUZXh0dXJlQXJyYXkgPSBuZXcgVGV4dHVyZUFycmF5KCk7XG5cbiAgcHJpdmF0ZSBfZ2VvbWV0cnlEZWZpbml0aW9uOiBHZW9tZXRyeURlZmluaXRpb247XG5cbiAgcHJpdmF0ZSBfdW51c2VkR2VvbWV0cmllczogTGl2ZUdlb21ldHJ5W10gPSBbXTtcbiAgcHJpdmF0ZSBfaW5Vc2VHZW9tZXRyaWVzOiBMaXZlR2VvbWV0cnlbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3NoYWRlciA9IG5ldyBTaGFkZXJQcm9ncmFtKCdDaHVua3NSZW5kZXJlcicsIHtcbiAgICAgIHZlcnRleFNyYzogY2h1bmtzUmVuZGVyZXJWZXJ0ZXgsXG4gICAgICBmcmFnbWVudFNyYzogY2h1bmtzUmVuZGVyZXJGcmFnbWVudCxcbiAgICAgIGF0dHJpYnV0ZXM6IFsnYV92ZXJ0ZXhfcG9zaXRpb24nLCAnYV92ZXJ0ZXhfbm9ybWFsJywgJ2Ffb2Zmc2V0X29yaWdpbiddLFxuICAgICAgdW5pZm9ybXM6IFtcbiAgICAgICAgJ3VfY29tcG9zZWRNYXRyaXgnLFxuICAgICAgICAndV9leWVQb3NpdGlvbicsXG4gICAgICAgICd1X3NjZW5lU2NhbGUnLFxuICAgICAgICAndV90aWxlUmVwZWF0JyxcbiAgICAgICAgJ3VfdGV4dHVyZUFycmF5J1xuICAgICAgXVxuICAgIH0pO1xuXG4gICAgY29uc3QgZ2VvQnVpbGRlciA9IG5ldyBHZW9tZXRyeVdyYXBwZXIuR2VvbWV0cnlCdWlsZGVyKCk7XG4gICAgZ2VvQnVpbGRlclxuICAgICAgLnJlc2V0KClcbiAgICAgIC5zZXRQcmltaXRpdmVUeXBlKCd0cmlhbmdsZXMnKVxuICAgICAgLmFkZFZibygpXG4gICAgICAuYWRkVmJvQXR0cmlidXRlKCdhX3ZlcnRleF9wb3NpdGlvbicsICd2ZWMzZicpXG4gICAgICAuYWRkVmJvQXR0cmlidXRlKCdhX3ZlcnRleF9ub3JtYWwnLCAndmVjM2YnKVxuICAgICAgLnNldFN0cmlkZSg2ICogNClcbiAgICAgIC5hZGRWYm8oKVxuICAgICAgLnNldFZib0FzSW5zdGFuY2VkKClcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2Ffb2Zmc2V0X29yaWdpbicsICd2ZWMzZicpXG4gICAgICAuc2V0U3RyaWRlKDMgKiA0KTtcblxuICAgIHRoaXMuX2dlb21ldHJ5RGVmaW5pdGlvbiA9IGdlb0J1aWxkZXIuZ2V0RGVmKCk7XG4gIH1cblxuICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgIGNvbnN0IGltYWdlID0gYXdhaXQgZ3JhcGhpY3MuaW1hZ2VzLmdldEltYWdlRnJvbVVybCgnYXNzZXRzL2NvbXBvc2VkLnBuZycpO1xuXG4gICAgdGhpcy5fdGV4dHVyZUFycmF5LmluaXRpYWxpemUoKTtcbiAgICB0aGlzLl90ZXh0dXJlQXJyYXkuYmluZCgoYm91bmQpID0+IHtcbiAgICAgIGJvdW5kLmxvYWRGcm9tSW1hZ2UoNTEyLCA1MTIsIDQsIGltYWdlKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3NoYWRlci5iaW5kKChib3VuZFNoYWRlcikgPT4ge1xuICAgICAgYm91bmRTaGFkZXIuc2V0VGV4dHVyZVVuaWZvcm0oJ3VfdGV4dHVyZUFycmF5JywgdGhpcy5fdGV4dHVyZUFycmF5LCAxKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFjcXVpcmVHZW9tZXRyeShpblNpemU6IG51bWJlcik6IElMaXZlR2VvbWV0cnkge1xuICAgIGlmICh0aGlzLl91bnVzZWRHZW9tZXRyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHJldXNlZEdlb20gPSB0aGlzLl91bnVzZWRHZW9tZXRyaWVzLnBvcCgpITtcbiAgICAgIHRoaXMuX2luVXNlR2VvbWV0cmllcy5wdXNoKHJldXNlZEdlb20pO1xuICAgICAgcmV0dXJuIHJldXNlZEdlb207XG4gICAgfVxuXG4gICAgY29uc3QgbmV3R2VvbSA9IG5ldyBMaXZlR2VvbWV0cnkoXG4gICAgICB0aGlzLl9zaGFkZXIsXG4gICAgICB0aGlzLl9nZW9tZXRyeURlZmluaXRpb24sXG4gICAgICBpblNpemVcbiAgICApO1xuICAgIHRoaXMuX2luVXNlR2VvbWV0cmllcy5wdXNoKG5ld0dlb20pO1xuICAgIHJldHVybiBuZXdHZW9tO1xuICB9XG5cbiAgcmVsZWFzZUdlb21ldHJ5KGdlb206IElMaXZlR2VvbWV0cnkpOiB2b2lkIHtcbiAgICBjb25zdCBnZW9tSW1wbCA9IGdlb20gYXMgTGl2ZUdlb21ldHJ5O1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5faW5Vc2VHZW9tZXRyaWVzLmluZGV4T2YoZ2VvbUltcGwpO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBnZW9tSW1wbC5yZXVzZSgpO1xuXG4gICAgdGhpcy5fdW51c2VkR2VvbWV0cmllcy5wdXNoKGdlb21JbXBsKTtcbiAgICB0aGlzLl9pblVzZUdlb21ldHJpZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIHJlbmRlcihcbiAgICBpbkNhbWVyYTogZ3JhcGhpY3MuY2FtZXJhLklDYW1lcmEsXG4gICAgaW5GcnVzdHVtQ3VsbGluZzogZ3JhcGhpY3MuY2FtZXJhLklGcnVzdHVtQ3VsbGluZyxcbiAgICBpbkNodW5rU2l6ZTogbnVtYmVyXG4gICkge1xuICAgIGNvbnN0IGV5ZVBvcyA9IGluQ2FtZXJhLmdldEV5ZSgpO1xuXG4gICAgdGhpcy5fc2hhZGVyLmJpbmQoKGJvdW5kU2hhZGVyKSA9PiB7XG4gICAgICBib3VuZFNoYWRlci5zZXRNYXRyaXg0VW5pZm9ybShcbiAgICAgICAgJ3VfY29tcG9zZWRNYXRyaXgnLFxuICAgICAgICBpbkNhbWVyYS5nZXRDb21wb3NlZE1hdHJpeCgpXG4gICAgICApO1xuICAgICAgYm91bmRTaGFkZXIuc2V0RmxvYXQzVW5pZm9ybShcbiAgICAgICAgJ3VfZXllUG9zaXRpb24nLFxuICAgICAgICBleWVQb3NbMF0sXG4gICAgICAgIGV5ZVBvc1sxXSxcbiAgICAgICAgZXllUG9zWzJdXG4gICAgICApO1xuXG4gICAgICBib3VuZFNoYWRlci5zZXRGbG9hdDFVbmlmb3JtKCd1X3NjZW5lU2NhbGUnLCBpbkNodW5rU2l6ZSk7XG4gICAgICBib3VuZFNoYWRlci5zZXRGbG9hdDFVbmlmb3JtKCd1X3RpbGVSZXBlYXQnLCAyKTtcblxuICAgICAgaW50ZXJmYWNlIFNvcnRhYmxlTGl2ZUdlb21ldHJ5IHtcbiAgICAgICAgZ2VvbWV0cnk6IExpdmVHZW9tZXRyeTtcbiAgICAgICAgY2VudGVyOiBnbG0uUmVhZG9ubHlWZWMzO1xuICAgICAgICBkaXN0YW5jZTogbnVtYmVyO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0b1JlbmRlcjogU29ydGFibGVMaXZlR2VvbWV0cnlbXSA9IHRoaXMuX2luVXNlR2VvbWV0cmllc1xuICAgICAgICAubWFwKChnZW9tZXRyeSk6IFNvcnRhYmxlTGl2ZUdlb21ldHJ5ID0+IHtcbiAgICAgICAgICBjb25zdCBrX3NpemUgPSBnZW9tZXRyeS5nZXRTaXplKCk7XG4gICAgICAgICAgY29uc3Qga19oU2l6ZSA9IGtfc2l6ZSAqIDAuNTtcbiAgICAgICAgICBjb25zdCBjZW50ZXJYID0gZ2VvbWV0cnkuZ2V0T3JpZ2luKClbMF0gKyBrX2hTaXplO1xuICAgICAgICAgIGNvbnN0IGNlbnRlclkgPSBnZW9tZXRyeS5nZXRPcmlnaW4oKVsxXSArIGtfaFNpemU7XG4gICAgICAgICAgY29uc3QgY2VudGVyWiA9IGdlb21ldHJ5LmdldE9yaWdpbigpWzJdICsga19oU2l6ZTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICBjZW50ZXI6IFtjZW50ZXJYLCBjZW50ZXJZLCBjZW50ZXJaXSxcbiAgICAgICAgICAgIGRpc3RhbmNlOiAwXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbHRlcigoeyBjZW50ZXIsIGdlb21ldHJ5IH0pID0+XG4gICAgICAgICAgaW5GcnVzdHVtQ3VsbGluZy5jdWJlSW5GcnVzdHVtVmVjMyhjZW50ZXIsIGdlb21ldHJ5LmdldFNpemUoKSlcbiAgICAgICAgKVxuICAgICAgICAubWFwKChzb3J0YWJsZUdlbyk6IFNvcnRhYmxlTGl2ZUdlb21ldHJ5ID0+IHtcbiAgICAgICAgICBzb3J0YWJsZUdlby5kaXN0YW5jZSA9IGdsbS52ZWMzLmRpc3RhbmNlKFxuICAgICAgICAgICAgc29ydGFibGVHZW8uY2VudGVyLFxuICAgICAgICAgICAgaW5DYW1lcmEuZ2V0RXllKClcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBzb3J0YWJsZUdlbztcbiAgICAgICAgfSlcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEuZGlzdGFuY2UgLSBiLmRpc3RhbmNlKTtcbiAgICAgIHRvUmVuZGVyLmZvckVhY2goKHNvcnRhYmxlR2VvKSA9PiBzb3J0YWJsZUdlby5nZW9tZXRyeS5yZW5kZXIoKSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsCiAgImV4cG9ydCBkZWZhdWx0IGBcbiN2ZXJzaW9uIDMwMCBlc1xuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnVuaWZvcm0gbWF0NCB1X2NvbXBvc2VkTWF0cml4O1xuXG5pbiB2ZWMzICBhX3ZlcnRleF9wb3NpdGlvbjtcblxuaW4gdmVjMyAgYV9vZmZzZXRfY2VudGVyO1xuaW4gZmxvYXQgYV9vZmZzZXRfc2NhbGU7XG5pbiB2ZWM0ICBhX29mZnNldF9jb2xvcjtcblxuZmxhdCBvdXQgdmVjNCB2X2NvbG9yO1xuXG52b2lkIG1haW4odm9pZClcbntcbiAgdmVjMyBwb3NpdGlvbiA9IGFfb2Zmc2V0X2NlbnRlciArIGFfdmVydGV4X3Bvc2l0aW9uICogYV9vZmZzZXRfc2NhbGU7XG5cbiAgZ2xfUG9zaXRpb24gPSB1X2NvbXBvc2VkTWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcblxuICB2X2NvbG9yID0gYV9vZmZzZXRfY29sb3I7XG59XG5gLnRyaW0oKTsiLAogICJleHBvcnQgZGVmYXVsdCBgXG4jdmVyc2lvbiAzMDAgZXNcblxucHJlY2lzaW9uIGxvd3AgZmxvYXQ7XG5cbmZsYXQgaW4gdmVjNCB2X2NvbG9yO1xuXG5vdXQgdmVjNCBvdXRfY29sb3I7XG5cbnZvaWQgbWFpbih2b2lkKVxue1xuICBvdXRfY29sb3IgPSB2X2NvbG9yO1xufVxuYC50cmltKCk7IiwKICAiaW1wb3J0IHsgZ3JhcGhpY3MgfSBmcm9tICdAbG9jYWwtZnJhbWV3b3JrJztcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHRyaWFuZ2xlQ3ViZXNSZW5kZXJlclZlcnRleCBmcm9tICcuL3NoYWRlcnMvdHJpYW5nbGUtY3ViZXMtcmVuZGVyZXIuZ2xzbC52ZXJ0Jztcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCB0cmlhbmdsZUN1YmVzUmVuZGVyZXJGcmFnbWVudCBmcm9tICcuL3NoYWRlcnMvdHJpYW5nbGUtY3ViZXMtcmVuZGVyZXIuZ2xzbC5mcmFnJztcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbnR5cGUgSVVuYm91bmRTaGFkZXIgPSBncmFwaGljcy53ZWJnbDIuSVVuYm91bmRTaGFkZXI7XG50eXBlIEdlb21ldHJ5ID0gZ3JhcGhpY3Mud2ViZ2wyLkdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeTtcblxuY29uc3QgeyBTaGFkZXJQcm9ncmFtLCBHZW9tZXRyeVdyYXBwZXIgfSA9IGdyYXBoaWNzLndlYmdsMjtcblxuY29uc3QgZ2VuZXJhdGVDdWJlVmVydGljZXMgPSAoXG4gIGluT3JpZ2luOiBnbG0uUmVhZG9ubHlWZWMzLFxuICBpblNpemU6IGdsbS5SZWFkb25seVZlYzNcbikgPT4ge1xuICBjb25zdCB2ZXJ0aWNlczogZ2xtLlJlYWRvbmx5VmVjM1tdID0gW107XG5cbiAgY29uc3QgaFNpemVYID0gaW5TaXplWzBdICogMC41O1xuICBjb25zdCBoU2l6ZVkgPSBpblNpemVbMV0gKiAwLjU7XG4gIGNvbnN0IGhTaXplWiA9IGluU2l6ZVsyXSAqIDAuNTtcblxuICBjb25zdCB0bXBWZXJ0aWNlczogZ2xtLlJlYWRvbmx5VmVjM1tdID0gW1xuICAgIFtpbk9yaWdpblswXSAtIGhTaXplWCwgaW5PcmlnaW5bMV0gLSBoU2l6ZVksIGluT3JpZ2luWzJdIC0gaFNpemVaXSwgLy8gMFxuICAgIFtpbk9yaWdpblswXSArIGhTaXplWCwgaW5PcmlnaW5bMV0gLSBoU2l6ZVksIGluT3JpZ2luWzJdIC0gaFNpemVaXSwgLy8gMVxuICAgIFtpbk9yaWdpblswXSAtIGhTaXplWCwgaW5PcmlnaW5bMV0gKyBoU2l6ZVksIGluT3JpZ2luWzJdIC0gaFNpemVaXSwgLy8gMlxuICAgIFtpbk9yaWdpblswXSArIGhTaXplWCwgaW5PcmlnaW5bMV0gKyBoU2l6ZVksIGluT3JpZ2luWzJdIC0gaFNpemVaXSwgLy8gM1xuICAgIFtpbk9yaWdpblswXSAtIGhTaXplWCwgaW5PcmlnaW5bMV0gLSBoU2l6ZVksIGluT3JpZ2luWzJdICsgaFNpemVaXSwgLy8gNFxuICAgIFtpbk9yaWdpblswXSArIGhTaXplWCwgaW5PcmlnaW5bMV0gLSBoU2l6ZVksIGluT3JpZ2luWzJdICsgaFNpemVaXSwgLy8gNVxuICAgIFtpbk9yaWdpblswXSAtIGhTaXplWCwgaW5PcmlnaW5bMV0gKyBoU2l6ZVksIGluT3JpZ2luWzJdICsgaFNpemVaXSwgLy8gNlxuICAgIFtpbk9yaWdpblswXSArIGhTaXplWCwgaW5PcmlnaW5bMV0gKyBoU2l6ZVksIGluT3JpZ2luWzJdICsgaFNpemVaXSAvLyA3XG4gIF07XG5cbiAgY29uc3QgaW5kaWNlczogbnVtYmVyW10gPSBbXTtcblxuICAvLyAteiAwMTIzXG4gIGluZGljZXMucHVzaCgwLCAyLCAxKTtcbiAgaW5kaWNlcy5wdXNoKDIsIDMsIDEpO1xuICAvLyAreiA0NTY3XG4gIGluZGljZXMucHVzaCg0LCA1LCA2KTtcbiAgaW5kaWNlcy5wdXNoKDYsIDUsIDcpO1xuXG4gIC8vICt4IDEzNTdcbiAgaW5kaWNlcy5wdXNoKDEsIDMsIDUpO1xuICBpbmRpY2VzLnB1c2goNSwgMywgNyk7XG4gIC8vIC14IDAyNDZcbiAgaW5kaWNlcy5wdXNoKDAsIDQsIDIpO1xuICBpbmRpY2VzLnB1c2goNCwgNiwgMik7XG5cbiAgLy8gK3kgMjM2N1xuICBpbmRpY2VzLnB1c2goMiwgNiwgMyk7XG4gIGluZGljZXMucHVzaCg2LCA3LCAzKTtcbiAgLy8gLXkgMDE0NVxuICBpbmRpY2VzLnB1c2goMCwgMSwgNCk7XG4gIGluZGljZXMucHVzaCg0LCAxLCA1KTtcblxuICBmb3IgKGNvbnN0IGluZGV4IG9mIGluZGljZXMpIHtcbiAgICB2ZXJ0aWNlcy5wdXNoKHRtcFZlcnRpY2VzW2luZGV4XSk7XG4gIH1cblxuICByZXR1cm4gdmVydGljZXM7XG59O1xuXG5jb25zdCBnZW5lcmF0ZVdpcmVGcmFtZUN1YmVWZXJ0aWNlcyA9IChpblNpemU6IG51bWJlcik6IG51bWJlcltdID0+IHtcbiAgY29uc3QgcmVjdFNpemUgPSAxIC8gNTEyO1xuICBjb25zdCByZWN0UG9zID0gMC41IC0gcmVjdFNpemUgKiAwLjU7XG5cbiAgY29uc3QgdmVydGljZXM6IGdsbS5SZWFkb25seVZlYzNbXSA9IFtcbiAgICAuLi5nZW5lcmF0ZUN1YmVWZXJ0aWNlcyhcbiAgICAgIFtpblNpemUgKiAtcmVjdFBvcywgaW5TaXplICogLXJlY3RQb3MsIDBdLFxuICAgICAgW3JlY3RTaXplLCByZWN0U2l6ZSwgMS4wXVxuICAgICksXG4gICAgLi4uZ2VuZXJhdGVDdWJlVmVydGljZXMoXG4gICAgICBbaW5TaXplICogK3JlY3RQb3MsIGluU2l6ZSAqIC1yZWN0UG9zLCAwXSxcbiAgICAgIFtyZWN0U2l6ZSwgcmVjdFNpemUsIDEuMF1cbiAgICApLFxuICAgIC4uLmdlbmVyYXRlQ3ViZVZlcnRpY2VzKFxuICAgICAgW2luU2l6ZSAqICtyZWN0UG9zLCBpblNpemUgKiArcmVjdFBvcywgMF0sXG4gICAgICBbcmVjdFNpemUsIHJlY3RTaXplLCAxLjBdXG4gICAgKSxcbiAgICAuLi5nZW5lcmF0ZUN1YmVWZXJ0aWNlcyhcbiAgICAgIFtpblNpemUgKiAtcmVjdFBvcywgaW5TaXplICogK3JlY3RQb3MsIDBdLFxuICAgICAgW3JlY3RTaXplLCByZWN0U2l6ZSwgMS4wXVxuICAgICksXG5cbiAgICAuLi5nZW5lcmF0ZUN1YmVWZXJ0aWNlcyhcbiAgICAgIFtpblNpemUgKiAtcmVjdFBvcywgMCwgaW5TaXplICogLXJlY3RQb3NdLFxuICAgICAgW3JlY3RTaXplLCAxLjAsIHJlY3RTaXplXVxuICAgICksXG4gICAgLi4uZ2VuZXJhdGVDdWJlVmVydGljZXMoXG4gICAgICBbaW5TaXplICogK3JlY3RQb3MsIDAsIGluU2l6ZSAqIC1yZWN0UG9zXSxcbiAgICAgIFtyZWN0U2l6ZSwgMS4wLCByZWN0U2l6ZV1cbiAgICApLFxuICAgIC4uLmdlbmVyYXRlQ3ViZVZlcnRpY2VzKFxuICAgICAgW2luU2l6ZSAqICtyZWN0UG9zLCAwLCBpblNpemUgKiArcmVjdFBvc10sXG4gICAgICBbcmVjdFNpemUsIDEuMCwgcmVjdFNpemVdXG4gICAgKSxcbiAgICAuLi5nZW5lcmF0ZUN1YmVWZXJ0aWNlcyhcbiAgICAgIFtpblNpemUgKiAtcmVjdFBvcywgMCwgaW5TaXplICogK3JlY3RQb3NdLFxuICAgICAgW3JlY3RTaXplLCAxLjAsIHJlY3RTaXplXVxuICAgICksXG5cbiAgICAuLi5nZW5lcmF0ZUN1YmVWZXJ0aWNlcyhcbiAgICAgIFswLCBpblNpemUgKiAtcmVjdFBvcywgaW5TaXplICogLXJlY3RQb3NdLFxuICAgICAgWzEuMCwgcmVjdFNpemUsIHJlY3RTaXplXVxuICAgICksXG4gICAgLi4uZ2VuZXJhdGVDdWJlVmVydGljZXMoXG4gICAgICBbMCwgaW5TaXplICogK3JlY3RQb3MsIGluU2l6ZSAqIC1yZWN0UG9zXSxcbiAgICAgIFsxLjAsIHJlY3RTaXplLCByZWN0U2l6ZV1cbiAgICApLFxuICAgIC4uLmdlbmVyYXRlQ3ViZVZlcnRpY2VzKFxuICAgICAgWzAsIGluU2l6ZSAqICtyZWN0UG9zLCBpblNpemUgKiArcmVjdFBvc10sXG4gICAgICBbMS4wLCByZWN0U2l6ZSwgcmVjdFNpemVdXG4gICAgKSxcbiAgICAuLi5nZW5lcmF0ZUN1YmVWZXJ0aWNlcyhcbiAgICAgIFswLCBpblNpemUgKiAtcmVjdFBvcywgaW5TaXplICogK3JlY3RQb3NdLFxuICAgICAgWzEuMCwgcmVjdFNpemUsIHJlY3RTaXplXVxuICAgIClcbiAgXTtcblxuICBjb25zdCBmaW5hbFZlcnRpY2VzOiBudW1iZXJbXSA9IFtdO1xuXG4gIHZlcnRpY2VzLmZvckVhY2goKHZlcnRleCkgPT4ge1xuICAgIGZpbmFsVmVydGljZXMucHVzaCh2ZXJ0ZXhbMF0sIHZlcnRleFsxXSwgdmVydGV4WzJdKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGZpbmFsVmVydGljZXM7XG59O1xuXG4vL1xuLy9cbi8vXG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRyaWFuZ2xlQ3ViZXNSZW5kZXJlciB7XG4gIHB1c2hDZW50ZXJlZEN1YmUoXG4gICAgaW5DZW50ZXI6IGdsbS5SZWFkb25seVZlYzMsXG4gICAgaW5TY2FsZTogbnVtYmVyLFxuICAgIGluQ29sb3I6IGdsbS5SZWFkb25seVZlYzNcbiAgKTogdm9pZDtcblxuICBwdXNoT3JpZ2luQm91bmRDdWJlKFxuICAgIGluT3JpZ2luOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluU2NhbGU6IG51bWJlcixcbiAgICBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzXG4gICk6IHZvaWQ7XG5cbiAgY2xlYXIoKTogdm9pZDtcbiAgZmx1c2goaW5DYW1lcmE6IGdyYXBoaWNzLmNhbWVyYS5JQ2FtZXJhKTogdm9pZDtcbn1cblxuY29uc3Qga19idWZmZXJTaXplID0gOCAqIDEwMjQgKiA0O1xuXG5leHBvcnQgY2xhc3MgVHJpYW5nbGVDdWJlc1JlbmRlcmVyIGltcGxlbWVudHMgSVRyaWFuZ2xlQ3ViZXNSZW5kZXJlciB7XG4gIHByaXZhdGUgX3NoYWRlcjogSVVuYm91bmRTaGFkZXI7XG4gIHByaXZhdGUgX2dlb21ldHJ5OiBHZW9tZXRyeTtcblxuICBwcml2YXRlIF9idWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGtfYnVmZmVyU2l6ZSk7XG4gIHByaXZhdGUgX2N1cnJlbnRTaXplOiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3NoYWRlciA9IG5ldyBTaGFkZXJQcm9ncmFtKCdUcmlhbmdsZUN1YmVzUmVuZGVyZXInLCB7XG4gICAgICB2ZXJ0ZXhTcmM6IHRyaWFuZ2xlQ3ViZXNSZW5kZXJlclZlcnRleCxcbiAgICAgIGZyYWdtZW50U3JjOiB0cmlhbmdsZUN1YmVzUmVuZGVyZXJGcmFnbWVudCxcbiAgICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgJ2FfdmVydGV4X3Bvc2l0aW9uJyxcbiAgICAgICAgJ2Ffb2Zmc2V0X2NlbnRlcicsXG4gICAgICAgICdhX29mZnNldF9zY2FsZScsXG4gICAgICAgICdhX29mZnNldF9jb2xvcidcbiAgICAgIF0sXG4gICAgICB1bmlmb3JtczogWyd1X2NvbXBvc2VkTWF0cml4J11cbiAgICB9KTtcblxuICAgIGNvbnN0IGdlb0J1aWxkZXIgPSBuZXcgR2VvbWV0cnlXcmFwcGVyLkdlb21ldHJ5QnVpbGRlcigpO1xuICAgIGdlb0J1aWxkZXJcbiAgICAgIC5yZXNldCgpXG4gICAgICAuc2V0UHJpbWl0aXZlVHlwZSgndHJpYW5nbGVzJylcbiAgICAgIC5hZGRWYm8oKVxuICAgICAgLmFkZFZib0F0dHJpYnV0ZSgnYV92ZXJ0ZXhfcG9zaXRpb24nLCAndmVjM2YnKVxuICAgICAgLnNldFN0cmlkZSgzICogNClcbiAgICAgIC5hZGRWYm8oKVxuICAgICAgLnNldFZib0FzRHluYW1pYygpXG4gICAgICAuc2V0VmJvQXNJbnN0YW5jZWQoKVxuICAgICAgLmFkZFZib0F0dHJpYnV0ZSgnYV9vZmZzZXRfY2VudGVyJywgJ3ZlYzNmJylcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2Ffb2Zmc2V0X3NjYWxlJywgJ2Zsb2F0JylcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2Ffb2Zmc2V0X2NvbG9yJywgJ3ZlYzRmJylcbiAgICAgIC5zZXRTdHJpZGUoOCAqIDQpO1xuXG4gICAgY29uc3QgdmVydGljZXMgPSBnZW5lcmF0ZVdpcmVGcmFtZUN1YmVWZXJ0aWNlcygxKTtcblxuICAgIHRoaXMuX2dlb21ldHJ5ID0gbmV3IEdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeShcbiAgICAgIHRoaXMuX3NoYWRlcixcbiAgICAgIGdlb0J1aWxkZXIuZ2V0RGVmKClcbiAgICApO1xuICAgIHRoaXMuX2dlb21ldHJ5LmFsbG9jYXRlQnVmZmVyKDAsIHZlcnRpY2VzLCB2ZXJ0aWNlcy5sZW5ndGgpO1xuICAgIHRoaXMuX2dlb21ldHJ5LnNldFByaW1pdGl2ZUNvdW50KHZlcnRpY2VzLmxlbmd0aCAvIDMpO1xuICAgIHRoaXMuX2dlb21ldHJ5LnNldEZsb2F0QnVmZmVyU2l6ZSgxLCBrX2J1ZmZlclNpemUpO1xuICB9XG5cbiAgcHVzaENlbnRlcmVkQ3ViZShcbiAgICBpbkNlbnRlcjogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBpblNjYWxlOiBudW1iZXIsXG4gICAgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyB8IGdsbS5SZWFkb25seVZlYzRcbiAgKSB7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRTaXplICsgOCA+PSB0aGlzLl9idWZmZXIubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5DZW50ZXJbMF07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5DZW50ZXJbMV07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5DZW50ZXJbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5TY2FsZTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpbkNvbG9yWzBdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IGluQ29sb3JbMV07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5Db2xvclsyXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpbkNvbG9yWzNdIHx8IDE7XG4gIH1cblxuICBwdXNoT3JpZ2luQm91bmRDdWJlKFxuICAgIGluT3JpZ2luOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluU2NhbGU6IG51bWJlcixcbiAgICBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzIHwgZ2xtLlJlYWRvbmx5VmVjNFxuICApIHtcbiAgICBpZiAodGhpcy5fY3VycmVudFNpemUgKyA4ID49IHRoaXMuX2J1ZmZlci5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBoU2NhbGUgPSBpblNjYWxlICogMC41O1xuXG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5PcmlnaW5bMF0gKyBoU2NhbGU7XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5PcmlnaW5bMV0gKyBoU2NhbGU7XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5PcmlnaW5bMl0gKyBoU2NhbGU7XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5TY2FsZTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpbkNvbG9yWzBdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IGluQ29sb3JbMV07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5Db2xvclsyXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpbkNvbG9yWzNdIHx8IDE7XG4gIH1cblxuICBmbHVzaChpbkNhbWVyYTogZ3JhcGhpY3MuY2FtZXJhLklDYW1lcmEpIHtcbiAgICBpZiAodGhpcy5fY3VycmVudFNpemUgPD0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3NoYWRlci5iaW5kKChib3VuZFNoYWRlcikgPT4ge1xuICAgICAgYm91bmRTaGFkZXIuc2V0TWF0cml4NFVuaWZvcm0oXG4gICAgICAgICd1X2NvbXBvc2VkTWF0cml4JyxcbiAgICAgICAgaW5DYW1lcmEuZ2V0Q29tcG9zZWRNYXRyaXgoKVxuICAgICAgKTtcblxuICAgICAgdGhpcy5fZ2VvbWV0cnkudXBkYXRlQnVmZmVyKDEsIHRoaXMuX2J1ZmZlciwgdGhpcy5fY3VycmVudFNpemUpO1xuICAgICAgdGhpcy5fZ2VvbWV0cnkuc2V0SW5zdGFuY2VkQ291bnQodGhpcy5fY3VycmVudFNpemUgLyA4KTtcbiAgICAgIHRoaXMuX2dlb21ldHJ5LnJlbmRlcigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jbGVhcigpO1xuICB9XG5cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgLy8gcmVzZXQgdmVydGljZXNcbiAgICB0aGlzLl9jdXJyZW50U2l6ZSA9IDA7XG4gIH1cbn1cbiIsCiAgImV4cG9ydCBkZWZhdWx0IGBcbiN2ZXJzaW9uIDMwMCBlc1xuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnVuaWZvcm0gbWF0NCB1X2NvbXBvc2VkTWF0cml4O1xuXG5pbiB2ZWMzICBhX3ZlcnRleF9wb3NpdGlvbjtcblxuaW4gdmVjMyAgYV9vZmZzZXRfY2VudGVyO1xuaW4gZmxvYXQgYV9vZmZzZXRfc2NhbGU7XG5pbiB2ZWM0ICBhX29mZnNldF9jb2xvcjtcblxuZmxhdCBvdXQgdmVjNCB2X2NvbG9yO1xuXG52b2lkIG1haW4odm9pZClcbntcbiAgdmVjMyBwb3NpdGlvbiA9IGFfb2Zmc2V0X2NlbnRlciArIGFfdmVydGV4X3Bvc2l0aW9uICogYV9vZmZzZXRfc2NhbGU7XG5cbiAgZ2xfUG9zaXRpb24gPSB1X2NvbXBvc2VkTWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcblxuICB2X2NvbG9yID0gYV9vZmZzZXRfY29sb3I7XG59XG5gLnRyaW0oKTsiLAogICJleHBvcnQgZGVmYXVsdCBgXG4jdmVyc2lvbiAzMDAgZXNcblxucHJlY2lzaW9uIGxvd3AgZmxvYXQ7XG5cbmZsYXQgaW4gdmVjNCB2X2NvbG9yO1xuXG5vdXQgdmVjNCBvdXRfY29sb3I7XG5cbnZvaWQgbWFpbih2b2lkKVxue1xuICBvdXRfY29sb3IgPSB2X2NvbG9yO1xufVxuYC50cmltKCk7IiwKICAiaW1wb3J0IHsgZ3JhcGhpY3MgfSBmcm9tICdAbG9jYWwtZnJhbWV3b3JrJztcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHdpcmVGcmFtZUN1YmVzUmVuZGVyZXJWZXJ0ZXggZnJvbSAnLi9zaGFkZXJzL3dpcmVGcmFtZS1jdWJlcy1yZW5kZXJlci5nbHNsLnZlcnQnO1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHdpcmVGcmFtZUN1YmVzUmVuZGVyZXJGcmFnbWVudCBmcm9tICcuL3NoYWRlcnMvd2lyZUZyYW1lLWN1YmVzLXJlbmRlcmVyLmdsc2wuZnJhZyc7XG5cbmltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG5jb25zdCB7IFNoYWRlclByb2dyYW0sIEdlb21ldHJ5V3JhcHBlciB9ID0gZ3JhcGhpY3Mud2ViZ2wyO1xuXG50eXBlIElVbmJvdW5kU2hhZGVyID0gZ3JhcGhpY3Mud2ViZ2wyLklVbmJvdW5kU2hhZGVyO1xudHlwZSBHZW9tZXRyeSA9IGdyYXBoaWNzLndlYmdsMi5HZW9tZXRyeVdyYXBwZXIuR2VvbWV0cnk7XG5cbmNvbnN0IGdlbmVyYXRlV2lyZUZyYW1lQ3ViZVZlcnRpY2VzID0gKGluU2l6ZTogbnVtYmVyKTogbnVtYmVyW10gPT4ge1xuICBjb25zdCBoU2l6ZSA9IGluU2l6ZSAqIDAuNTtcblxuICBjb25zdCB2ZXJ0aWNlczogZ2xtLlJlYWRvbmx5VmVjM1tdID0gW107XG5cbiAgdmVydGljZXMucHVzaChbK2hTaXplLCAraFNpemUsICtoU2l6ZV0pO1xuICB2ZXJ0aWNlcy5wdXNoKFstaFNpemUsICtoU2l6ZSwgK2hTaXplXSk7XG4gIHZlcnRpY2VzLnB1c2goWytoU2l6ZSwgLWhTaXplLCAraFNpemVdKTtcbiAgdmVydGljZXMucHVzaChbLWhTaXplLCAtaFNpemUsICtoU2l6ZV0pO1xuXG4gIHZlcnRpY2VzLnB1c2goWytoU2l6ZSwgK2hTaXplLCAtaFNpemVdKTtcbiAgdmVydGljZXMucHVzaChbLWhTaXplLCAraFNpemUsIC1oU2l6ZV0pO1xuICB2ZXJ0aWNlcy5wdXNoKFsraFNpemUsIC1oU2l6ZSwgLWhTaXplXSk7XG4gIHZlcnRpY2VzLnB1c2goWy1oU2l6ZSwgLWhTaXplLCAtaFNpemVdKTtcblxuICAvL1xuXG4gIGNvbnN0IGluZGljZXM6IG51bWJlcltdID0gW107XG5cbiAgaW5kaWNlcy5wdXNoKDAsIDEsIDEsIDMsIDMsIDIsIDIsIDApO1xuICBpbmRpY2VzLnB1c2goNCwgNSwgNSwgNywgNywgNiwgNiwgNCk7XG4gIGluZGljZXMucHVzaCgwLCA0LCAxLCA1LCAzLCA3LCAyLCA2KTtcblxuICAvL1xuXG4gIGNvbnN0IGZpbmFsVmVydGljZXM6IG51bWJlcltdID0gW107XG5cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGluZGljZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgY29uc3QgdmVydGV4ID0gdmVydGljZXNbaW5kaWNlc1tpaV1dO1xuICAgIGZpbmFsVmVydGljZXMucHVzaCh2ZXJ0ZXhbMF0sIHZlcnRleFsxXSwgdmVydGV4WzJdKTtcbiAgfVxuXG4gIHJldHVybiBmaW5hbFZlcnRpY2VzO1xufTtcblxuLy9cbi8vXG4vL1xuXG5leHBvcnQgaW50ZXJmYWNlIElXaXJlRnJhbWVDdWJlc1JlbmRlcmVyIHtcbiAgcHVzaENlbnRlcmVkQ3ViZShcbiAgICBpbkNlbnRlcjogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBpblNjYWxlOiBudW1iZXIsXG4gICAgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyB8IGdsbS5SZWFkb25seVZlYzRcbiAgKTogdm9pZDtcbiAgcHVzaE9yaWdpbkJvdW5kQ3ViZShcbiAgICBpbk9yaWdpbjogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBpblNjYWxlOiBudW1iZXIsXG4gICAgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyB8IGdsbS5SZWFkb25seVZlYzRcbiAgKTogdm9pZDtcbiAgZmx1c2goY29tcG9zZWRNYXRyaXg6IGdsbS5SZWFkb25seU1hdDQpOiB2b2lkO1xuICBjbGVhcigpOiB2b2lkO1xufVxuXG5jb25zdCBrX2J1ZmZlclNpemUgPSA4ICogMTAyNCAqIDQ7XG5cbmV4cG9ydCBjbGFzcyBXaXJlRnJhbWVDdWJlc1JlbmRlcmVyIGltcGxlbWVudHMgSVdpcmVGcmFtZUN1YmVzUmVuZGVyZXIge1xuICBwcml2YXRlIF9zaGFkZXI6IElVbmJvdW5kU2hhZGVyO1xuICBwcml2YXRlIF9nZW9tZXRyeTogR2VvbWV0cnk7XG5cbiAgcHJpdmF0ZSBfYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShrX2J1ZmZlclNpemUpO1xuICBwcml2YXRlIF9jdXJyZW50U2l6ZTogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zaGFkZXIgPSBuZXcgU2hhZGVyUHJvZ3JhbSgnV2lyZUZyYW1lQ3ViZXNSZW5kZXJlcicsIHtcbiAgICAgIHZlcnRleFNyYzogd2lyZUZyYW1lQ3ViZXNSZW5kZXJlclZlcnRleCxcbiAgICAgIGZyYWdtZW50U3JjOiB3aXJlRnJhbWVDdWJlc1JlbmRlcmVyRnJhZ21lbnQsXG4gICAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgICdhX3ZlcnRleF9wb3NpdGlvbicsXG4gICAgICAgICdhX29mZnNldF9jZW50ZXInLFxuICAgICAgICAnYV9vZmZzZXRfc2NhbGUnLFxuICAgICAgICAnYV9vZmZzZXRfY29sb3InXG4gICAgICBdLFxuICAgICAgdW5pZm9ybXM6IFsndV9jb21wb3NlZE1hdHJpeCddXG4gICAgfSk7XG5cbiAgICBjb25zdCBnZW9CdWlsZGVyID0gbmV3IEdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeUJ1aWxkZXIoKTtcbiAgICBnZW9CdWlsZGVyXG4gICAgICAucmVzZXQoKVxuICAgICAgLnNldFByaW1pdGl2ZVR5cGUoJ2xpbmVzJylcbiAgICAgIC5hZGRWYm8oKVxuICAgICAgLmFkZFZib0F0dHJpYnV0ZSgnYV92ZXJ0ZXhfcG9zaXRpb24nLCAndmVjM2YnKVxuICAgICAgLnNldFN0cmlkZSgzICogNClcbiAgICAgIC5hZGRWYm8oKVxuICAgICAgLnNldFZib0FzRHluYW1pYygpXG4gICAgICAuc2V0VmJvQXNJbnN0YW5jZWQoKVxuICAgICAgLmFkZFZib0F0dHJpYnV0ZSgnYV9vZmZzZXRfY2VudGVyJywgJ3ZlYzNmJylcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2Ffb2Zmc2V0X3NjYWxlJywgJ2Zsb2F0JylcbiAgICAgIC5hZGRWYm9BdHRyaWJ1dGUoJ2Ffb2Zmc2V0X2NvbG9yJywgJ3ZlYzRmJylcbiAgICAgIC5zZXRTdHJpZGUoOCAqIDQpO1xuXG4gICAgY29uc3QgdmVydGljZXMgPSBnZW5lcmF0ZVdpcmVGcmFtZUN1YmVWZXJ0aWNlcygxKTtcblxuICAgIHRoaXMuX2dlb21ldHJ5ID0gbmV3IEdlb21ldHJ5V3JhcHBlci5HZW9tZXRyeShcbiAgICAgIHRoaXMuX3NoYWRlcixcbiAgICAgIGdlb0J1aWxkZXIuZ2V0RGVmKClcbiAgICApO1xuICAgIHRoaXMuX2dlb21ldHJ5LmFsbG9jYXRlQnVmZmVyKDAsIHZlcnRpY2VzLCB2ZXJ0aWNlcy5sZW5ndGgpO1xuICAgIHRoaXMuX2dlb21ldHJ5LnNldFByaW1pdGl2ZUNvdW50KHZlcnRpY2VzLmxlbmd0aCAvIDMpO1xuICAgIHRoaXMuX2dlb21ldHJ5LnNldEZsb2F0QnVmZmVyU2l6ZSgxLCBrX2J1ZmZlclNpemUpO1xuICB9XG5cbiAgcHVzaENlbnRlcmVkQ3ViZShcbiAgICBpbkNlbnRlcjogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgICBpblNjYWxlOiBudW1iZXIsXG4gICAgaW5Db2xvcjogZ2xtLlJlYWRvbmx5VmVjMyB8IGdsbS5SZWFkb25seVZlYzRcbiAgKSB7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRTaXplICsgOCA+PSB0aGlzLl9idWZmZXIubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5DZW50ZXJbMF07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5DZW50ZXJbMV07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5DZW50ZXJbMl07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5TY2FsZTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpbkNvbG9yWzBdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IGluQ29sb3JbMV07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5Db2xvclsyXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpbkNvbG9yWzNdIHx8IDE7XG4gIH1cblxuICBwdXNoT3JpZ2luQm91bmRDdWJlKFxuICAgIGluT3JpZ2luOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluU2NhbGU6IG51bWJlcixcbiAgICBpbkNvbG9yOiBnbG0uUmVhZG9ubHlWZWMzIHwgZ2xtLlJlYWRvbmx5VmVjNFxuICApIHtcbiAgICBpZiAodGhpcy5fY3VycmVudFNpemUgKyA4ID49IHRoaXMuX2J1ZmZlci5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBoU2NhbGUgPSBpblNjYWxlICogMC41O1xuXG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5PcmlnaW5bMF0gKyBoU2NhbGU7XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5PcmlnaW5bMV0gKyBoU2NhbGU7XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5PcmlnaW5bMl0gKyBoU2NhbGU7XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5TY2FsZTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpbkNvbG9yWzBdO1xuICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9jdXJyZW50U2l6ZSsrXSA9IGluQ29sb3JbMV07XG4gICAgdGhpcy5fYnVmZmVyW3RoaXMuX2N1cnJlbnRTaXplKytdID0gaW5Db2xvclsyXTtcbiAgICB0aGlzLl9idWZmZXJbdGhpcy5fY3VycmVudFNpemUrK10gPSBpbkNvbG9yWzNdIHx8IDE7XG4gIH1cblxuICBmbHVzaChjb21wb3NlZE1hdHJpeDogZ2xtLlJlYWRvbmx5TWF0NCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9jdXJyZW50U2l6ZSA8PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2hhZGVyLmJpbmQoKGJvdW5kU2hhZGVyKSA9PiB7XG4gICAgICBib3VuZFNoYWRlci5zZXRNYXRyaXg0VW5pZm9ybSgndV9jb21wb3NlZE1hdHJpeCcsIGNvbXBvc2VkTWF0cml4KTtcblxuICAgICAgdGhpcy5fZ2VvbWV0cnkudXBkYXRlQnVmZmVyKDEsIHRoaXMuX2J1ZmZlciwgdGhpcy5fY3VycmVudFNpemUpO1xuICAgICAgdGhpcy5fZ2VvbWV0cnkuc2V0SW5zdGFuY2VkQ291bnQodGhpcy5fY3VycmVudFNpemUgLyA4KTtcbiAgICAgIHRoaXMuX2dlb21ldHJ5LnJlbmRlcigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jbGVhcigpO1xuICB9XG5cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgLy8gcmVzZXQgdmVydGljZXNcbiAgICB0aGlzLl9jdXJyZW50U2l6ZSA9IDA7XG4gIH1cbn1cbiIsCiAgImltcG9ydCB7IHN5c3RlbSwgZ3JhcGhpY3MgfSBmcm9tICdAbG9jYWwtZnJhbWV3b3JrJztcblxuaW1wb3J0ICogYXMgc2NlbmUgZnJvbSAnLi9yZW5kZXJlcnMvc2NlbmUnO1xuaW1wb3J0ICogYXMgaHVkIGZyb20gJy4vcmVuZGVyZXJzL2h1ZCc7XG5cbmltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG5jb25zdCB7IEdsb2JhbE1vdXNlTWFuYWdlciwgR2xvYmFsVG91Y2hNYW5hZ2VyIH0gPSBzeXN0ZW0uYnJvd3NlcjtcbmNvbnN0IHsgV2ViR0xDb250ZXh0LCBTaGFkZXJQcm9ncmFtIH0gPSBncmFwaGljcy53ZWJnbDI7XG5cbi8vXG5cbmludGVyZmFjZSBJRGVmaW5pdGlvbiB7XG4gIGNhbnZhc0RvbUVsZW1lbnQ6IEhUTUxDYW52YXNFbGVtZW50O1xufVxuXG5pbnRlcmZhY2UgSVNjZW5lIHtcbiAgY2h1bmtzUmVuZGVyZXI6IHNjZW5lLkNodW5rc1JlbmRlcmVyO1xuICB0cmlhbmdsZUN1YmVzUmVuZGVyZXI6IHNjZW5lLlRyaWFuZ2xlQ3ViZXNSZW5kZXJlcjtcbn1cblxuaW50ZXJmYWNlIElIdWQge1xuICB0ZXh0UmVuZGVyZXI6IGdyYXBoaWNzLnJlbmRlcmVycy5JVGV4dFJlbmRlcmVyO1xuICBzdGFja1JlbmRlcmVyczogZ3JhcGhpY3MucmVuZGVyZXJzLklTdGFja1JlbmRlcmVycztcbiAgd2lyZUZyYW1lQ3ViZXNSZW5kZXJlcjogaHVkLldpcmVGcmFtZUN1YmVzUmVuZGVyZXI7XG4gIG11bHRpcGxlQnVmZmVyaW5nOiBncmFwaGljcy5yZW5kZXJlcnMuTXVsdGlCdWZmZXJzUmVuZGVyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgV2ViR0xSZW5kZXJlciB7XG4gIHByaXZhdGUgX2RlZjogSURlZmluaXRpb247XG5cbiAgcHJpdmF0ZSBfdmlld3BvcnRTaXplID0gZ2xtLnZlYzIuY3JlYXRlKCk7XG5cbiAgcHJpdmF0ZSBfZnJ1c3R1bUN1bGxpbmcgPSBuZXcgZ3JhcGhpY3MuY2FtZXJhLkZydXN0dW1DdWxsaW5nKCk7XG5cbiAgcHJpdmF0ZSBfbWFpbkNhbWVyYSA9IG5ldyBncmFwaGljcy5jYW1lcmEuQ2FtZXJhKCk7XG4gIHByaXZhdGUgX21haW5IdWRDYW1lcmEgPSBuZXcgZ3JhcGhpY3MuY2FtZXJhLkNhbWVyYSgpO1xuXG4gIHByaXZhdGUgb25Db250ZXh0TG9zdDogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgb25Db250ZXh0UmVzdG9yZWQ6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgX3NjZW5lOiBJU2NlbmU7XG4gIHByaXZhdGUgX2h1ZDogSUh1ZDtcblxuICBjb25zdHJ1Y3RvcihkZWY6IElEZWZpbml0aW9uKSB7XG4gICAgdGhpcy5fZGVmID0gZGVmO1xuXG4gICAgV2ViR0xDb250ZXh0LmluaXRpYWxpemUodGhpcy5fZGVmLmNhbnZhc0RvbUVsZW1lbnQpO1xuXG4gICAgY29uc3Qgb25Db250ZXh0TG9zdCA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zb2xlLmxvZygnY29udGV4dCBpcyBsb3N0Jyk7XG5cbiAgICAgIGlmICh0aGlzLm9uQ29udGV4dExvc3QpIHtcbiAgICAgICAgdGhpcy5vbkNvbnRleHRMb3N0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9uQ29udGV4dFJlc3RvcmVkID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ2NvbnRleHQgaXMgcmVzdG9yZWQnKTtcblxuICAgICAgV2ViR0xDb250ZXh0LmluaXRpYWxpemUodGhpcy5fZGVmLmNhbnZhc0RvbUVsZW1lbnQpO1xuXG4gICAgICBpZiAodGhpcy5vbkNvbnRleHRSZXN0b3JlZCkge1xuICAgICAgICB0aGlzLm9uQ29udGV4dFJlc3RvcmVkKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuX2RlZi5jYW52YXNEb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnd2ViZ2xjb250ZXh0bG9zdCcsXG4gICAgICBvbkNvbnRleHRMb3N0LFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIHRoaXMuX2RlZi5jYW52YXNEb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnd2ViZ2xjb250ZXh0cmVzdG9yZWQnLFxuICAgICAgb25Db250ZXh0UmVzdG9yZWQsXG4gICAgICBmYWxzZVxuICAgICk7XG5cbiAgICB0aGlzLl9zY2VuZSA9IHtcbiAgICAgIGNodW5rc1JlbmRlcmVyOiBuZXcgc2NlbmUuQ2h1bmtzUmVuZGVyZXIoKSxcbiAgICAgIHRyaWFuZ2xlQ3ViZXNSZW5kZXJlcjogbmV3IHNjZW5lLlRyaWFuZ2xlQ3ViZXNSZW5kZXJlcigpXG4gICAgfTtcblxuICAgIHRoaXMuX2h1ZCA9IHtcbiAgICAgIHRleHRSZW5kZXJlcjogbmV3IGdyYXBoaWNzLnJlbmRlcmVycy5UZXh0UmVuZGVyZXIoKSxcbiAgICAgIHN0YWNrUmVuZGVyZXJzOiBuZXcgZ3JhcGhpY3MucmVuZGVyZXJzLlN0YWNrUmVuZGVyZXJzKCksXG4gICAgICB3aXJlRnJhbWVDdWJlc1JlbmRlcmVyOiBuZXcgaHVkLldpcmVGcmFtZUN1YmVzUmVuZGVyZXIoKSxcbiAgICAgIG11bHRpcGxlQnVmZmVyaW5nOiBuZXcgZ3JhcGhpY3MucmVuZGVyZXJzLk11bHRpQnVmZmVyc1JlbmRlcmluZyhcbiAgICAgICAgdGhpcy5fZGVmLmNhbnZhc0RvbUVsZW1lbnQud2lkdGgsXG4gICAgICAgIHRoaXMuX2RlZi5jYW52YXNEb21FbGVtZW50LmhlaWdodFxuICAgICAgKSxcbiAgICB9O1xuXG4gICAgdGhpcy5yZXNpemUoXG4gICAgICB0aGlzLl9kZWYuY2FudmFzRG9tRWxlbWVudC53aWR0aCxcbiAgICAgIHRoaXMuX2RlZi5jYW52YXNEb21FbGVtZW50LmhlaWdodFxuICAgICk7XG5cblxuICB9XG5cbiAgcmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy5fdmlld3BvcnRTaXplWzBdID0gd2lkdGg7XG4gICAgdGhpcy5fdmlld3BvcnRTaXplWzFdID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5fbWFpbkNhbWVyYS5zZXRWaWV3cG9ydFNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgdGhpcy5fbWFpbkNhbWVyYS5zZXRBc1BlcnNwZWN0aXZlKHsgZm92eTogNzAsIG5lYXI6IDAuMSwgZmFyOiA3MCB9KTtcblxuICAgIHRoaXMuX21haW5IdWRDYW1lcmEuc2V0Vmlld3BvcnRTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIHRoaXMuX21haW5IdWRDYW1lcmEuc2V0QXNPcnRob2dvbmFsKHtcbiAgICAgIGxlZnQ6IC13aWR0aCAqIDAuNSxcbiAgICAgIHJpZ2h0OiArd2lkdGggKiAwLjUsXG4gICAgICB0b3A6IC1oZWlnaHQgKiAwLjUsXG4gICAgICBib3R0b206ICtoZWlnaHQgKiAwLjUsXG4gICAgICBuZWFyOiAtMjAwLFxuICAgICAgZmFyOiAyMDBcbiAgICB9KTtcbiAgICB0aGlzLl9tYWluSHVkQ2FtZXJhLnNldEV5ZShbK3dpZHRoICogMC41LCAraGVpZ2h0ICogMC41LCAxXSk7XG4gICAgdGhpcy5fbWFpbkh1ZENhbWVyYS5zZXRUYXJnZXQoWyt3aWR0aCAqIDAuNSwgK2hlaWdodCAqIDAuNSwgMF0pO1xuICAgIHRoaXMuX21haW5IdWRDYW1lcmEuc2V0VXBBeGlzKFswLCAxLCAwXSk7XG4gICAgdGhpcy5fbWFpbkh1ZENhbWVyYS5jb21wdXRlTWF0cmljZXMoKTtcblxuICAgIHRoaXMuX2h1ZC5tdWx0aXBsZUJ1ZmZlcmluZy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gIH1cblxuICAvL1xuXG4gIHRvZ2dsZUNvbnRleHRMb3NzKCkge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcbiAgICBjb25zdCBleHRlbnNpb25Mb3NlQ29udGV4dCA9IFdlYkdMQ29udGV4dC5nZXRFeHRlbnNpb25Mb3NlQ29udGV4dCgpO1xuXG4gICAgaWYgKGV4dGVuc2lvbkxvc2VDb250ZXh0KSB7XG4gICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpKSB7XG4gICAgICAgIGV4dGVuc2lvbkxvc2VDb250ZXh0LnJlc3RvcmVDb250ZXh0KCk7IC8vIHJlc3RvcmVzIHRoZSBjb250ZXh0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleHRlbnNpb25Mb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpOyAvLyB0cmlnZ2VyIGEgY29udGV4dCBsb3NzXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29udGV4dElzTG9zdCgpIHtcbiAgICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG5cbiAgICByZXR1cm4gZ2wuaXNDb250ZXh0TG9zdCgpO1xuICB9XG5cbiAgc2V0T25Db250ZXh0TG9zdChjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgIHRoaXMub25Db250ZXh0TG9zdCA9IGNhbGxiYWNrO1xuICB9XG5cbiAgc2V0T25Db250ZXh0UmVzdG9yZWQoY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICB0aGlzLm9uQ29udGV4dFJlc3RvcmVkID0gY2FsbGJhY2s7XG4gIH1cblxuICAvL1xuXG4gIGFzeW5jIGluaXQoKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgLy9cbiAgICAvL1xuICAgIC8vIGluaXRcblxuICAgIGdsLmNsZWFyQ29sb3IoMC4wLCAwLjAsIDAuMCwgMS4wKTtcbiAgICAvLyBnbC5jbGVhckRlcHRoKDEuMCk7XG5cbiAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7XG4gICAgZ2wuZGVwdGhGdW5jKGdsLkxFU1MpO1xuXG4gICAgZ2wuZGlzYWJsZShnbC5CTEVORCk7XG4gICAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUik7XG5cbiAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcblxuICAgIGdsLmVuYWJsZShnbC5DVUxMX0ZBQ0UpO1xuXG4gICAgYXdhaXQgdGhpcy5fc2NlbmUuY2h1bmtzUmVuZGVyZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgZ2V0U2l6ZSgpOiBnbG0uUmVhZG9ubHlWZWMyIHtcbiAgICByZXR1cm4gdGhpcy5fdmlld3BvcnRTaXplO1xuICB9XG5cbiAgbG9va0F0KFxuICAgIGluRXllOiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluVGFyZ2V0OiBnbG0uUmVhZG9ubHlWZWMzLFxuICAgIGluVXBBeGlzOiBnbG0uUmVhZG9ubHlWZWMzXG4gICkge1xuICAgIHRoaXMuX21haW5DYW1lcmEuc2V0RXllKGluRXllKTtcbiAgICB0aGlzLl9tYWluQ2FtZXJhLnNldFRhcmdldChpblRhcmdldCk7XG4gICAgdGhpcy5fbWFpbkNhbWVyYS5zZXRVcEF4aXMoaW5VcEF4aXMpO1xuICAgIHRoaXMuX21haW5DYW1lcmEuY29tcHV0ZU1hdHJpY2VzKCk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgR2xvYmFsTW91c2VNYW5hZ2VyLnJlc2V0RGVsdGFzKCk7XG4gICAgR2xvYmFsVG91Y2hNYW5hZ2VyLnJlc2V0RGVsdGFzKCk7XG5cbiAgICB0aGlzLl9mcnVzdHVtQ3VsbGluZy5jYWxjdWxhdGVGcnVzdHVtKFxuICAgICAgdGhpcy5fbWFpbkNhbWVyYS5nZXRQcm9qZWN0aW9uTWF0cml4KCksXG4gICAgICB0aGlzLl9tYWluQ2FtZXJhLmdldFZpZXdNYXRyaXgoKVxuICAgICk7XG4gIH1cblxuICByZW5kZXJTY2VuZShjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgIGNvbnN0IGdsID0gV2ViR0xDb250ZXh0LmdldENvbnRleHQoKTtcblxuICAgIGNvbnN0IHZpZXdQb3MgPSB0aGlzLl9tYWluQ2FtZXJhLmdldFZpZXdwb3J0UG9zKCk7XG4gICAgY29uc3Qgdmlld1NpemUgPSB0aGlzLl9tYWluQ2FtZXJhLmdldFZpZXdwb3J0U2l6ZSgpO1xuICAgIGdsLnZpZXdwb3J0KHZpZXdQb3NbMF0sIHZpZXdQb3NbMV0sIHZpZXdTaXplWzBdLCB2aWV3U2l6ZVsxXSk7XG5cbiAgICBnbC5jbGVhckNvbG9yKDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xuXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG5cbiAgICBjYWxsYmFjaygpO1xuICB9XG5cbiAgcmVuZGVySFVEKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgY29uc3QgZ2wgPSBXZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgY29uc3Qgdmlld1BvcyA9IHRoaXMuX21haW5IdWRDYW1lcmEuZ2V0Vmlld3BvcnRQb3MoKTtcbiAgICBjb25zdCB2aWV3U2l6ZSA9IHRoaXMuX21haW5IdWRDYW1lcmEuZ2V0Vmlld3BvcnRTaXplKCk7XG4gICAgZ2wudmlld3BvcnQodmlld1Bvc1swXSwgdmlld1Bvc1sxXSwgdmlld1NpemVbMF0sIHZpZXdTaXplWzFdKTtcblxuICAgIGdsLmNsZWFyKGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xuXG4gICAgU2hhZGVyUHJvZ3JhbS51bmJpbmQoKTtcblxuICAgIGNhbGxiYWNrKCk7XG4gIH1cblxuICBmbHVzaCgpIHtcbiAgICBjb25zdCBnbCA9IGdyYXBoaWNzLndlYmdsMi5XZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuICAgIGdsLmZsdXNoKCk7XG4gICAgLy8gZ2wuZmluaXNoKCk7XG4gIH1cblxuICBnZXQgbWFpbkNhbWVyYSgpOiBSZWFkb25seTxncmFwaGljcy5jYW1lcmEuSUNhbWVyYT4ge1xuICAgIHJldHVybiB0aGlzLl9tYWluQ2FtZXJhO1xuICB9XG4gIGdldCBodWRDYW1lcmEoKTogUmVhZG9ubHk8Z3JhcGhpY3MuY2FtZXJhLklDYW1lcmE+IHtcbiAgICByZXR1cm4gdGhpcy5fbWFpbkh1ZENhbWVyYTtcbiAgfVxuICBnZXQgZnJ1c3R1bUN1bGxpbmcoKTogZ3JhcGhpY3MuY2FtZXJhLklGcnVzdHVtQ3VsbGluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2ZydXN0dW1DdWxsaW5nO1xuICB9XG5cbiAgZ2V0IGNodW5rc1JlbmRlcmVyKCk6IHNjZW5lLklDaHVua3NSZW5kZXJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3NjZW5lLmNodW5rc1JlbmRlcmVyO1xuICB9XG4gIGdldCB0cmlhbmdsZUN1YmVzUmVuZGVyZXIoKTogc2NlbmUuSVRyaWFuZ2xlQ3ViZXNSZW5kZXJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3NjZW5lLnRyaWFuZ2xlQ3ViZXNSZW5kZXJlcjtcbiAgfVxuXG4gIGdldCBzdGFja1JlbmRlcmVycygpOiBncmFwaGljcy5yZW5kZXJlcnMuSVN0YWNrUmVuZGVyZXJzIHtcbiAgICByZXR1cm4gdGhpcy5faHVkLnN0YWNrUmVuZGVyZXJzO1xuICB9XG4gIGdldCB3aXJlRnJhbWVDdWJlc1JlbmRlcmVyKCk6IGh1ZC5JV2lyZUZyYW1lQ3ViZXNSZW5kZXJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2h1ZC53aXJlRnJhbWVDdWJlc1JlbmRlcmVyO1xuICB9XG4gIGdldCB0ZXh0UmVuZGVyZXIoKTogZ3JhcGhpY3MucmVuZGVyZXJzLklUZXh0UmVuZGVyZXIge1xuICAgIHJldHVybiB0aGlzLl9odWQudGV4dFJlbmRlcmVyO1xuICB9XG4gIGdldCBtdWx0aXBsZUJ1ZmZlcmluZygpOiBncmFwaGljcy5yZW5kZXJlcnMuTXVsdGlCdWZmZXJzUmVuZGVyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faHVkLm11bHRpcGxlQnVmZmVyaW5nO1xuICB9XG59XG5cbmV4cG9ydCB7IElMaXZlR2VvbWV0cnkgfSBmcm9tICcuL3JlbmRlcmVycy9zY2VuZS9jaHVua3MtcmVuZGVyZXIvQ2h1bmtzUmVuZGVyZXInO1xuIiwKICAiaW1wb3J0IHsgZ3JhcGhpY3MgfSBmcm9tICdAbG9jYWwtZnJhbWV3b3JrJztcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbmV4cG9ydCBjb25zdCByZW5kZXJDdXJyZW50Q29vcmRpbmF0ZXMgPSAoXG4gIGluVmlld3BvcnRTaXplOiBnbG0uUmVhZG9ubHlWZWMyLFxuICBpbkNodW5rU2l6ZTogbnVtYmVyLFxuICBpbkV5ZVBvczogZ2xtLlJlYWRvbmx5VmVjMyxcbiAgaW5UZXh0UmVuZGVyZXI6IGdyYXBoaWNzLnJlbmRlcmVycy5JVGV4dFJlbmRlcmVyXG4pID0+IHtcbiAgY29uc3QgY2h1bmtDb29yZDogZ2xtLlJlYWRvbmx5VmVjMyA9IFtcbiAgICBNYXRoLmZsb29yKGluRXllUG9zWzBdIC8gaW5DaHVua1NpemUpLFxuICAgIE1hdGguZmxvb3IoaW5FeWVQb3NbMV0gLyBpbkNodW5rU2l6ZSksXG4gICAgTWF0aC5mbG9vcihpbkV5ZVBvc1syXSAvIGluQ2h1bmtTaXplKVxuICBdO1xuXG4gIGNvbnN0IGFsbExpbmVzOiBzdHJpbmdbXSA9IFtcbiAgICBgQ29vcmRpbmF0ZXM6YCxcbiAgICBgWDogJHtjaHVua0Nvb3JkWzBdfWAsXG4gICAgYFk6ICR7Y2h1bmtDb29yZFsxXX1gLFxuICAgIGBaOiAke2NodW5rQ29vcmRbMl19YFxuICBdO1xuXG4gIGNvbnN0IHRleHRzT3JpZ2luOiBnbG0uUmVhZG9ubHlWZWMyID0gWzE0LCBpblZpZXdwb3J0U2l6ZVsxXSAtIDIwMF07XG5cbiAgaW5UZXh0UmVuZGVyZXJcbiAgICAuc2V0VGV4dFNjYWxlKDE0KVxuICAgIC5zZXRUZXh0QWxpZ24oJ2xlZnQnLCAndG9wJylcbiAgICAucHVzaFRleHQoYWxsTGluZXMuam9pbignXFxuJyksIHRleHRzT3JpZ2luKTtcbn07XG4iLAogICJpbXBvcnQgeyBncmFwaGljcyB9IGZyb20gJ0Bsb2NhbC1mcmFtZXdvcmsnO1xuXG5pbXBvcnQgKiBhcyBnbG0gZnJvbSAnZ2wtbWF0cml4JztcblxuZXhwb3J0IGNvbnN0IHJlbmRlckdlbmVyYXRpb25NZXRyaWNzID0gKFxuICBpblZpZXdwb3J0U2l6ZTogZ2xtLlJlYWRvbmx5VmVjMixcbiAgaW5DaHVua3NDcmVhdGVkOiBudW1iZXIsXG4gIGluQ2h1bmtzRGlzY2FyZGVkOiBudW1iZXIsXG4gIGluVmlzaWJsZUNodW5rczogbnVtYmVyLFxuICBpblRleHRSZW5kZXJlcjogZ3JhcGhpY3MucmVuZGVyZXJzLklUZXh0UmVuZGVyZXJcbikgPT4ge1xuICBjb25zdCB0ZXh0c09yaWdpbjogZ2xtLlJlYWRvbmx5VmVjMiA9IFtcbiAgICBpblZpZXdwb3J0U2l6ZVswXSAtIDEwLFxuICAgIGluVmlld3BvcnRTaXplWzFdIC0gMTBcbiAgXTtcblxuICBjb25zdCB0ZXh0OiBzdHJpbmcgPSBbXG4gICAgYENodW5rc1xcbkdlbmVyYXRlZDpcXG4ke2luQ2h1bmtzQ3JlYXRlZH0gPGAsXG4gICAgJycsXG4gICAgYENodW5rc1xcbkRpc2NhcmRlZDpcXG4ke2luQ2h1bmtzRGlzY2FyZGVkfSA8YCxcbiAgICAnJyxcbiAgICBgTGl2ZVxcbkNodW5rczpcXG4ke2luQ2h1bmtzQ3JlYXRlZCAtIGluQ2h1bmtzRGlzY2FyZGVkfSA8YCxcbiAgICAnJyxcbiAgICBgVmlzaWJsZVxcbkNodW5rczpcXG4ke2luVmlzaWJsZUNodW5rc30gPGBcbiAgXS5qb2luKCdcXG4nKTtcblxuICBpblRleHRSZW5kZXJlclxuICAgIC5zZXRUZXh0U2NhbGUoMTQpXG4gICAgLnNldFRleHRBbGlnbigncmlnaHQnLCAndG9wJylcbiAgICAucHVzaFRleHQodGV4dCwgdGV4dHNPcmlnaW4pO1xufTtcbiIsCiAgImltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuaW1wb3J0IHsgZ3JhcGhpY3MgfSBmcm9tICdAbG9jYWwtZnJhbWV3b3JrJztcblxuZXhwb3J0IGNvbnN0IHJlbmRlclBlcnNwZWN0aXZlRnJ1c3R1bSA9IChcbiAgaW5Gb3ZZOiBudW1iZXIsXG4gIGluQXNwZWN0OiBudW1iZXIsXG4gIGluTmVhcjogbnVtYmVyLFxuICBpbkZhcjogbnVtYmVyLFxuICBleWVQb3M6IGdsbS5SZWFkb25seVZlYzMsXG4gIHRoZXRhOiBudW1iZXIsXG4gIHBoaTogbnVtYmVyLFxuICBpblN0YWNrUmVuZGVyZXJzOiBncmFwaGljcy5yZW5kZXJlcnMuSVN0YWNrUmVuZGVyZXJzXG4pOiB2b2lkID0+IHtcbiAgY29uc3QgZkggPSBNYXRoLnRhbigoaW5Gb3ZZIC8gMzYwLjApICogTWF0aC5QSSkgKiBpbk5lYXI7XG4gIGNvbnN0IGZXID0gZkggKiBpbkFzcGVjdDtcblxuICBjb25zdCBuZWFyTGVmdCA9IC1mVztcbiAgY29uc3QgbmVhclJpZ2h0ID0gK2ZXO1xuXG4gIGNvbnN0IG5lYXJUb3AgPSArZkg7XG4gIGNvbnN0IG5lYXJCb3R0b20gPSAtZkg7XG5cbiAgY29uc3QgZmFySGFsZlogPSBpbkZhciAqIE1hdGguc2luKChpbkZvdlkgKiBNYXRoLlBJKSAvIDE4MC4wKTtcbiAgY29uc3QgZmFySGFsZlkgPSBmYXJIYWxmWiAqIGluQXNwZWN0O1xuXG4gIGNvbnN0IHRtcFZlcnRpY2VzOiBnbG0udmVjM1tdID0gW107XG5cbiAgdG1wVmVydGljZXMucHVzaChbaW5OZWFyLCBuZWFyTGVmdCwgbmVhclRvcF0pO1xuICB0bXBWZXJ0aWNlcy5wdXNoKFtpbk5lYXIsIG5lYXJSaWdodCwgbmVhclRvcF0pO1xuICB0bXBWZXJ0aWNlcy5wdXNoKFtpbk5lYXIsIG5lYXJMZWZ0LCBuZWFyQm90dG9tXSk7XG4gIHRtcFZlcnRpY2VzLnB1c2goW2luTmVhciwgbmVhclJpZ2h0LCBuZWFyQm90dG9tXSk7IC8vIDNcblxuICB0bXBWZXJ0aWNlcy5wdXNoKFtpbkZhciwgLWZhckhhbGZZLCArZmFySGFsZlpdKTsgLy8gNFxuICB0bXBWZXJ0aWNlcy5wdXNoKFtpbkZhciwgK2ZhckhhbGZZLCArZmFySGFsZlpdKTtcbiAgdG1wVmVydGljZXMucHVzaChbaW5GYXIsIC1mYXJIYWxmWSwgLWZhckhhbGZaXSk7XG4gIHRtcFZlcnRpY2VzLnB1c2goW2luRmFyLCArZmFySGFsZlksIC1mYXJIYWxmWl0pOyAvLyA3XG5cbiAgdG1wVmVydGljZXMucHVzaChbMCwgMCwgMF0pOyAvLyA4XG4gIHRtcFZlcnRpY2VzLnB1c2goWzEwMCwgMCwgMF0pO1xuICB0bXBWZXJ0aWNlcy5wdXNoKFswLCAxMDAsIDBdKTtcbiAgdG1wVmVydGljZXMucHVzaChbMCwgMCwgMTAwXSk7IC8vIDExXG5cbiAgLy9cblxuICB7XG4gICAgY29uc3QgdG1wTWF0cml4ID0gZ2xtLm1hdDQuaWRlbnRpdHkoZ2xtLm1hdDQuY3JlYXRlKCkpO1xuXG4gICAgZ2xtLm1hdDQudHJhbnNsYXRlKHRtcE1hdHJpeCwgdG1wTWF0cml4LCBleWVQb3MpO1xuICAgIGdsbS5tYXQ0LnJvdGF0ZSh0bXBNYXRyaXgsIHRtcE1hdHJpeCwgdGhldGEsIFswLCAwLCAxXSk7XG4gICAgZ2xtLm1hdDQucm90YXRlKHRtcE1hdHJpeCwgdG1wTWF0cml4LCBwaGksIFswLCAtMSwgMF0pO1xuXG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRtcFZlcnRpY2VzLmxlbmd0aDsgKytpaSkge1xuICAgICAgdG1wVmVydGljZXNbaWldID0gZ2xtLnZlYzMudHJhbnNmb3JtTWF0NChcbiAgICAgICAgdG1wVmVydGljZXNbaWldLFxuICAgICAgICB0bXBWZXJ0aWNlc1tpaV0sXG4gICAgICAgIHRtcE1hdHJpeFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvL1xuXG4gIHtcbiAgICBjb25zdCBpbmRpY2VzID0gW107XG4gICAgaW5kaWNlcy5wdXNoKDAsIDEsIDEsIDMsIDMsIDIsIDIsIDApO1xuICAgIGluZGljZXMucHVzaCgwLCA0LCAxLCA1LCAyLCA2LCAzLCA3KTtcbiAgICBpbmRpY2VzLnB1c2goNCwgNSwgNSwgNywgNywgNiwgNiwgNCk7XG5cbiAgICBjb25zdCBjb2xvclRvcDogZ2xtLlJlYWRvbmx5VmVjMyA9IFsxLCAxLCAwXTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaW5kaWNlcy5sZW5ndGg7IGlpICs9IDIpIHtcbiAgICAgIGNvbnN0IHBvc0EgPSB0bXBWZXJ0aWNlc1tpbmRpY2VzW2lpICsgMF1dO1xuICAgICAgY29uc3QgcG9zQiA9IHRtcFZlcnRpY2VzW2luZGljZXNbaWkgKyAxXV07XG4gICAgICBpblN0YWNrUmVuZGVyZXJzLnB1c2hMaW5lKHBvc0EsIHBvc0IsIGNvbG9yVG9wKTtcbiAgICB9XG5cbiAgICB7XG4gICAgICBjb25zdCBwb3NBID0gdG1wVmVydGljZXNbOF07XG4gICAgICBjb25zdCBwb3NCMSA9IHRtcFZlcnRpY2VzWzldO1xuICAgICAgY29uc3QgcG9zQjIgPSB0bXBWZXJ0aWNlc1sxMF07XG4gICAgICBjb25zdCBwb3NCMyA9IHRtcFZlcnRpY2VzWzExXTtcbiAgICAgIGluU3RhY2tSZW5kZXJlcnMucHVzaExpbmUocG9zQSwgcG9zQjEsIFsxLCAwLCAwXSk7XG4gICAgICBpblN0YWNrUmVuZGVyZXJzLnB1c2hMaW5lKHBvc0EsIHBvc0IyLCBbMCwgMSwgMF0pO1xuICAgICAgaW5TdGFja1JlbmRlcmVycy5wdXNoTGluZShwb3NBLCBwb3NCMywgWzAsIDAsIDFdKTtcbiAgICB9XG4gIH1cbn07XG4iLAogICJpbXBvcnQgeyBncmFwaGljcyB9IGZyb20gJ0Bsb2NhbC1mcmFtZXdvcmsnO1xuXG5pbXBvcnQgeyBDaHVua3MgfSBmcm9tICcuLi8uLi8uLi8uLi9nZW5lcmF0aW9uL2ludGVybmFscyc7XG5cbmltcG9ydCAqIGFzIGh1ZCBmcm9tICcuLi8uLi9odWQnO1xuXG5pbXBvcnQgeyByZW5kZXJQZXJzcGVjdGl2ZUZydXN0dW0gfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbmNvbnN0IHsgV2ViR0xDb250ZXh0IH0gPSBncmFwaGljcy53ZWJnbDI7XG5cbmV4cG9ydCBjb25zdCByZW5kZXJNaW5pTWFwID0gKFxuICBpbkNhbWVyYTogZ3JhcGhpY3MuY2FtZXJhLklDYW1lcmEsXG4gIGluTWluU2NyZWVuU2l6ZTogbnVtYmVyLFxuICBpbk1pblZpZXdTaXplOiBudW1iZXIsXG4gIGluQ2h1bmtzOiBDaHVua3MsXG4gIGluQ2h1bmtTaXplOiBudW1iZXIsXG4gIGluVmlld3BvcnRTaXplOiBnbG0uUmVhZG9ubHlWZWMyLFxuICBpblByb2Nlc3NpbmdQb3M6IGdsbS5SZWFkb25seVZlYzNbXSxcbiAgaW5XaXJlRnJhbWVDdWJlc1JlbmRlcmVyOiBodWQuSVdpcmVGcmFtZUN1YmVzUmVuZGVyZXIsXG4gIGluU3RhY2tSZW5kZXJlcnM6IGdyYXBoaWNzLnJlbmRlcmVycy5JU3RhY2tSZW5kZXJlcnNcbik6IHZvaWQgPT4ge1xuICBjb25zdCBnbCA9IFdlYkdMQ29udGV4dC5nZXRDb250ZXh0KCk7XG5cbiAgLy9cbiAgLy9cblxuICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBpblZpZXdwb3J0U2l6ZTtcblxuICBjb25zdCBtaW5pTWFwSHVkQ2FtZXJhID0gbmV3IGdyYXBoaWNzLmNhbWVyYS5DYW1lcmEoKTtcblxuICBjb25zdCBtaW5WaWV3cG9ydFNpemUgPSBNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAqIDAuNTtcblxuICBjb25zdCBtaW5pbWFwV2lkdGggPSBNYXRoLm1heChtaW5WaWV3cG9ydFNpemUsIGluTWluU2NyZWVuU2l6ZSk7XG4gIGNvbnN0IG1pbmltYXBIZWlnaHQgPSBNYXRoLm1heChtaW5WaWV3cG9ydFNpemUsIGluTWluU2NyZWVuU2l6ZSk7XG5cbiAgY29uc3QgbWluaW1hcFBvc1ggPSB3aWR0aCAtIG1pbmltYXBXaWR0aDtcbiAgbWluaU1hcEh1ZENhbWVyYS5zZXRWaWV3cG9ydFBvcyhtaW5pbWFwUG9zWCwgMCk7XG5cbiAgbWluaU1hcEh1ZENhbWVyYS5zZXRWaWV3cG9ydFNpemUobWluaW1hcFdpZHRoLCBtaW5pbWFwSGVpZ2h0KTtcbiAgY29uc3QgYXNwZWN0UmF0aW8gPSBtaW5pbWFwV2lkdGggLyBtaW5pbWFwSGVpZ2h0O1xuICBjb25zdCBvcnRob1NpemVIID1cbiAgICBhc3BlY3RSYXRpbyA+PSAxLjAgPyBpbk1pblZpZXdTaXplIDogaW5NaW5WaWV3U2l6ZSAqICgxIC8gYXNwZWN0UmF0aW8pO1xuICBjb25zdCBvcnRob1NpemVXID0gb3J0aG9TaXplSCAqIGFzcGVjdFJhdGlvO1xuICBtaW5pTWFwSHVkQ2FtZXJhLnNldEFzT3J0aG9nb25hbCh7XG4gICAgbGVmdDogLW9ydGhvU2l6ZVcsXG4gICAgcmlnaHQ6ICtvcnRob1NpemVXLFxuICAgIHRvcDogLW9ydGhvU2l6ZUgsXG4gICAgYm90dG9tOiArb3J0aG9TaXplSCxcbiAgICBuZWFyOiAtaW5NaW5WaWV3U2l6ZSxcbiAgICBmYXI6ICtpbk1pblZpZXdTaXplXG4gIH0pO1xuICBtaW5pTWFwSHVkQ2FtZXJhLnNldFVwQXhpcyhbMCwgMCwgMV0pO1xuXG4gIC8vXG4gIC8vXG5cbiAgY29uc3QgbWFpbkV5ZVBvcyA9IGluQ2FtZXJhLmdldEV5ZSgpO1xuICBjb25zdCB0YXJnZXRQb3MgPSBpbkNhbWVyYS5nZXRUYXJnZXQoKTtcbiAgY29uc3QgZGlmZiA9IGdsbS52ZWMzLnN1YihnbG0udmVjMy5jcmVhdGUoKSwgdGFyZ2V0UG9zLCBtYWluRXllUG9zKTtcblxuICBjb25zdCBmb3J3YXJkVGhldGEgPSBNYXRoLmF0YW4yKGRpZmZbMV0sIGRpZmZbMF0pO1xuICBjb25zdCBmb3J3YXJkUGhpID0gTWF0aC5hdGFuMihcbiAgICBkaWZmWzJdLFxuICAgIGdsbS52ZWMyLmxlbmd0aChnbG0udmVjMi5mcm9tVmFsdWVzKGRpZmZbMV0sIGRpZmZbMF0pKVxuICApO1xuXG4gIGNvbnN0IGluY2xpbmVkVGhldGEgPSBmb3J3YXJkVGhldGEgLSBNYXRoLlBJICogMC4yNTtcbiAgY29uc3QgdXBQaGkgPSBmb3J3YXJkUGhpICsgTWF0aC5QSSAqIDAuNTtcblxuICBjb25zdCBpbmNsaW5lZENvc1RoZXRhID0gTWF0aC5jb3MoaW5jbGluZWRUaGV0YSk7XG4gIGNvbnN0IGluY2xpbmVkU2luVGhldGEgPSBNYXRoLnNpbihpbmNsaW5lZFRoZXRhKTtcbiAgY29uc3QgdXBBeGlzWiA9IE1hdGguc2luKHVwUGhpKTtcblxuICBjb25zdCBtaW5pTWFwRXllUG9zID0gZ2xtLnZlYzMuY29weShnbG0udmVjMy5jcmVhdGUoKSwgbWFpbkV5ZVBvcyk7XG4gIG1pbmlNYXBFeWVQb3NbMF0gLT0gaW5jbGluZWRDb3NUaGV0YSAqIDIwLjA7XG4gIG1pbmlNYXBFeWVQb3NbMV0gLT0gaW5jbGluZWRTaW5UaGV0YSAqIDIwLjA7XG4gIG1pbmlNYXBFeWVQb3NbMl0gKz0gdXBBeGlzWiAqIDEwLjA7XG5cbiAgbWluaU1hcEh1ZENhbWVyYS5zZXRFeWUobWluaU1hcEV5ZVBvcyk7XG4gIG1pbmlNYXBIdWRDYW1lcmEuc2V0VGFyZ2V0KG1haW5FeWVQb3MpO1xuICBtaW5pTWFwSHVkQ2FtZXJhLmNvbXB1dGVNYXRyaWNlcygpO1xuXG4gIGNvbnN0IHZpZXdQb3MgPSBtaW5pTWFwSHVkQ2FtZXJhLmdldFZpZXdwb3J0UG9zKCk7XG4gIGNvbnN0IHZpZXdTaXplID0gbWluaU1hcEh1ZENhbWVyYS5nZXRWaWV3cG9ydFNpemUoKTtcbiAgZ2wudmlld3BvcnQodmlld1Bvc1swXSwgdmlld1Bvc1sxXSwgdmlld1NpemVbMF0sIHZpZXdTaXplWzFdKTtcblxuICBnbC5jbGVhcihnbC5ERVBUSF9CVUZGRVJfQklUKTtcblxuICBnbC5kaXNhYmxlKGdsLkRFUFRIX1RFU1QpO1xuICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuXG4gIGluV2lyZUZyYW1lQ3ViZXNSZW5kZXJlci5jbGVhcigpO1xuXG4gIGNvbnN0IGtfd2hpdGVDb2xvciA9IGdsbS52ZWMzLmZyb21WYWx1ZXMoMSwgMSwgMSk7XG4gIGNvbnN0IGtfcmVkQ29sb3IgPSBnbG0udmVjNC5mcm9tVmFsdWVzKDEsIDAsIDAsIDAuOCk7XG4gIGNvbnN0IGtfZ3JlZW5Db2xvciA9IGdsbS52ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCk7XG5cbiAgY29uc3QgaFNpemUgPSBpbkNodW5rU2l6ZSAqIDAuNTtcblxuICBjb25zdCBjaHVua0NlbnRlciA9IGdsbS52ZWMzLmNyZWF0ZSgpO1xuICBjb25zdCBjaHVua0hhbGZTaXplID0gZ2xtLnZlYzMuZnJvbVZhbHVlcyhoU2l6ZSwgaFNpemUsIGhTaXplKTtcblxuICBpbkNodW5rcy5mb3JFYWNoKChjdXJyQ2h1bmspID0+IHtcbiAgICBnbG0udmVjMy5jb3B5KGNodW5rQ2VudGVyLCBjdXJyQ2h1bmsucmVhbFBvc2l0aW9uKTtcbiAgICBnbG0udmVjMy5hZGQoY2h1bmtDZW50ZXIsIGNodW5rQ2VudGVyLCBjaHVua0hhbGZTaXplKTtcblxuICAgIGlmIChjdXJyQ2h1bmsuaXNWaXNpYmxlKSB7XG4gICAgICAvLyByZW5kZXIgd2hpdGUgY3ViZXNcblxuICAgICAgaW5XaXJlRnJhbWVDdWJlc1JlbmRlcmVyLnB1c2hDZW50ZXJlZEN1YmUoXG4gICAgICAgIGNodW5rQ2VudGVyLFxuICAgICAgICBoU2l6ZSxcbiAgICAgICAga193aGl0ZUNvbG9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZW5kZXIgc21hbGxlciByZWQgY3ViZXNcblxuICAgICAgaW5XaXJlRnJhbWVDdWJlc1JlbmRlcmVyLnB1c2hDZW50ZXJlZEN1YmUoY2h1bmtDZW50ZXIsIGhTaXplLCBrX3JlZENvbG9yKTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChpblByb2Nlc3NpbmdQb3MubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGV4dHJhU2l6ZSA9IGluQ2h1bmtTaXplICogMS4yO1xuXG4gICAgaW5Qcm9jZXNzaW5nUG9zLmZvckVhY2goKGN1cnJQb3MpID0+IHtcbiAgICAgIC8vIHJlbmRlciBncmVlbiBjdWJlcyAoc21hbGxlciAtPiBzY2FsZWQpXG5cbiAgICAgIGdsbS52ZWMzLmNvcHkoY2h1bmtDZW50ZXIsIGN1cnJQb3MpO1xuICAgICAgZ2xtLnZlYzMuYWRkKGNodW5rQ2VudGVyLCBjaHVua0NlbnRlciwgY2h1bmtIYWxmU2l6ZSk7XG5cbiAgICAgIGluV2lyZUZyYW1lQ3ViZXNSZW5kZXJlci5wdXNoQ2VudGVyZWRDdWJlKFxuICAgICAgICBjaHVua0NlbnRlcixcbiAgICAgICAgZXh0cmFTaXplLFxuICAgICAgICBrX2dyZWVuQ29sb3JcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICBpbldpcmVGcmFtZUN1YmVzUmVuZGVyZXIuZmx1c2gobWluaU1hcEh1ZENhbWVyYS5nZXRDb21wb3NlZE1hdHJpeCgpKTtcbiAgaW5TdGFja1JlbmRlcmVycy5mbHVzaChtaW5pTWFwSHVkQ2FtZXJhLmdldENvbXBvc2VkTWF0cml4KCkpO1xuXG4gIHtcbiAgICBjb25zdCBwcm9qRGF0YSA9IGluQ2FtZXJhLmdldFBlcnNwZWN0aXZlRGF0YSgpITtcblxuICAgIHJlbmRlclBlcnNwZWN0aXZlRnJ1c3R1bShcbiAgICAgIHByb2pEYXRhLmZvdnksXG4gICAgICBwcm9qRGF0YS5hc3BlY3RSYXRpbyxcbiAgICAgIHByb2pEYXRhLm5lYXIsXG4gICAgICBwcm9qRGF0YS5mYXIsXG4gICAgICBtYWluRXllUG9zLFxuICAgICAgZm9yd2FyZFRoZXRhLFxuICAgICAgZm9yd2FyZFBoaSxcbiAgICAgIGluU3RhY2tSZW5kZXJlcnNcbiAgICApO1xuXG4gICAgaW5TdGFja1JlbmRlcmVycy5mbHVzaChtaW5pTWFwSHVkQ2FtZXJhLmdldENvbXBvc2VkTWF0cml4KCkpO1xuICB9XG5cbiAgZ2wuZGlzYWJsZShnbC5CTEVORCk7XG4gIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcbn07XG4iLAogICJpbXBvcnQgeyBzeXN0ZW0sIGdyYXBoaWNzIH0gZnJvbSAnQGxvY2FsLWZyYW1ld29yayc7XG5cbmltcG9ydCAqIGFzIGdsbSBmcm9tICdnbC1tYXRyaXgnO1xuXG5jb25zdCB7IEdsb2JhbFRvdWNoTWFuYWdlciB9ID0gc3lzdGVtLmJyb3dzZXI7XG5cbmNvbnN0IF90b3VjaGVzQW5nbGVNYXAgPSBuZXcgTWFwPG51bWJlciwgbnVtYmVyPigpO1xuXG5leHBvcnQgY29uc3QgcmVuZGVyVG91Y2hFdmVudHMgPSAoXG4gIHZpZXdwb3J0U2l6ZTogZ2xtLlJlYWRvbmx5VmVjMixcbiAgc3RhY2tSZW5kZXJlcnM6IGdyYXBoaWNzLnJlbmRlcmVycy5JU3RhY2tSZW5kZXJlcnMsXG4gIGlzTW92aW5nRm9yd2FyZDogYm9vbGVhblxuKSA9PiB7XG4gIC8vIHRvdWNoZXNcblxuICBjb25zdCBhbGxUb3VjaERhdGEgPSBHbG9iYWxUb3VjaE1hbmFnZXIuZ2V0VG91Y2hEYXRhKCk7XG5cbiAgaWYgKGFsbFRvdWNoRGF0YS5sZW5ndGggPT09IDApIHtcbiAgICBfdG91Y2hlc0FuZ2xlTWFwLmNsZWFyKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbGF0ZXN0VG91Y2hJZHMgPSBuZXcgU2V0PG51bWJlcj4oKTtcblxuICAgIGNvbnN0IHJlZENvbG9yOiBnbG0uUmVhZG9ubHlWZWMzID0gWzEsIDAsIDBdO1xuICAgIGNvbnN0IGdyZWVuQ29sb3I6IGdsbS5SZWFkb25seVZlYzMgPSBbMCwgMSwgMF07XG4gICAgY29uc3QgY29sb3IgPSBhbGxUb3VjaERhdGEubGVuZ3RoID4gMSA/IHJlZENvbG9yIDogZ3JlZW5Db2xvcjtcblxuICAgIGFsbFRvdWNoRGF0YS5mb3JFYWNoKChjdXJyVG91Y2gpID0+IHtcbiAgICAgIGxhdGVzdFRvdWNoSWRzLmFkZChjdXJyVG91Y2guaWQpO1xuXG4gICAgICAvLyBnZXQgb3Igc2V0XG4gICAgICBsZXQgYW5nbGUgPSBfdG91Y2hlc0FuZ2xlTWFwLmdldChjdXJyVG91Y2guaWQpO1xuICAgICAgaWYgKGFuZ2xlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYW5nbGUgPSAwO1xuICAgICAgICBfdG91Y2hlc0FuZ2xlTWFwLnNldChjdXJyVG91Y2guaWQsIGFuZ2xlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYW5nbGVzID0gWzAuMCwgMC41XTtcbiAgICAgIGlmIChpc01vdmluZ0ZvcndhcmQpIGFuZ2xlcy5wdXNoKDAuMjUsIDAuNzUpO1xuXG4gICAgICBmb3IgKGNvbnN0IG9mZnNldEFuZ2xlIG9mIGFuZ2xlcykge1xuICAgICAgICBjb25zdCBmaW5hbEFuZ2xlID0gYW5nbGUgKyBvZmZzZXRBbmdsZSAqIE1hdGguUEk7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb246IGdsbS5SZWFkb25seVZlYzMgPSBbXG4gICAgICAgICAgY3VyclRvdWNoLnBvc2l0aW9uWCxcbiAgICAgICAgICB2aWV3cG9ydFNpemVbMV0gLSBjdXJyVG91Y2gucG9zaXRpb25ZLFxuICAgICAgICAgIDBcbiAgICAgICAgXTtcblxuICAgICAgICBzdGFja1JlbmRlcmVycy5wdXNoUm90YXRlZExpbmUocG9zaXRpb24sIGZpbmFsQW5nbGUsIDE1MCwgMTUsIGNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLy8gdXBkYXRlIHRoZSBhbmdsZVxuICAgICAgYW5nbGUgKz0gMC4xO1xuICAgICAgX3RvdWNoZXNBbmdsZU1hcC5zZXQoY3VyclRvdWNoLmlkLCBhbmdsZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBpZE5vdEluVXNlID0gbmV3IFNldDxudW1iZXI+KCk7XG5cbiAgICBfdG91Y2hlc0FuZ2xlTWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGlmICghbGF0ZXN0VG91Y2hJZHMuaGFzKGtleSkpIGlkTm90SW5Vc2UuYWRkKGtleSk7XG4gICAgfSk7XG5cbiAgICBpZE5vdEluVXNlLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICBfdG91Y2hlc0FuZ2xlTWFwLmRlbGV0ZSh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cbn07IC8vIHRvdWNoZXNcbiIsCiAgImltcG9ydCAqIGFzIGNvbmZpZ3VyYXRpb24gZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cbmltcG9ydCB7IGdyYXBoaWNzLCBzeXN0ZW0gfSBmcm9tICdAbG9jYWwtZnJhbWV3b3JrJztcblxuaW1wb3J0IHsgQ2h1bmtHZW5lcmF0b3IgfSBmcm9tICcuL2dlbmVyYXRpb24vQ2h1bmtHZW5lcmF0b3InO1xuaW1wb3J0IHsgSUxpdmVHZW9tZXRyeSwgV2ViR0xSZW5kZXJlciB9IGZyb20gJy4vd2ViR0xSZW5kZXJlci9XZWJHTFJlbmRlcmVyJztcblxuaW1wb3J0ICogYXMgd2lkZ2V0cyBmcm9tICcuL3dlYkdMUmVuZGVyZXIvcmVuZGVyZXJzL2h1ZC93aWRnZXRzJztcblxuaW1wb3J0ICogYXMgZ2xtIGZyb20gJ2dsLW1hdHJpeCc7XG5cbmNvbnN0IHtcbiAgR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLFxuICBHbG9iYWxUb3VjaE1hbmFnZXIsXG4gIEdsb2JhbE1vdXNlTWFuYWdlcixcbiAgR2xvYmFsUG9pbnRlckxvY2tNYW5hZ2VyXG59ID0gc3lzdGVtLmJyb3dzZXI7XG5cbmV4cG9ydCBjbGFzcyBXZWJHTEV4cGVyaW1lbnQge1xuICBwcml2YXRlIF9jYW52YXNFbGVtZW50OiBIVE1MQ2FudmFzRWxlbWVudDtcblxuICBwcml2YXRlIF9mcmVlRmx5Q29udHJvbGxlcjogc3lzdGVtLmNvbnRyb2xsZXJzLkZyZWVGbHlDb250cm9sbGVyO1xuXG4gIHByaXZhdGUgX3JlbmRlcmVyOiBXZWJHTFJlbmRlcmVyO1xuICBwcml2YXRlIF9jaHVua0dlbmVyYXRvcjogQ2h1bmtHZW5lcmF0b3I7XG5cbiAgcHJpdmF0ZSBfcnVubmluZzogYm9vbGVhbjtcbiAgcHJpdmF0ZSBfZXJyb3JHcmFwaGljQ29udGV4dDogYm9vbGVhbjtcblxuICBwcml2YXRlIF9jaHVua3NDcmVhdGVkOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9jaHVua3NEaXNjYXJkZWQ6IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSBfY3VyckZyYW1lVGltZTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfZnJhbWVQcm9maWxlciA9IG5ldyBzeXN0ZW0ubWV0cmljcy5GcmFtZVByb2ZpbGVyKCk7XG5cbiAgY29uc3RydWN0b3IoY2FudmFzRWxlbWVudDogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICB0aGlzLl9jYW52YXNFbGVtZW50ID0gY2FudmFzRWxlbWVudDtcblxuICAgIHRoaXMuX2ZyZWVGbHlDb250cm9sbGVyID0gbmV3IHN5c3RlbS5jb250cm9sbGVycy5GcmVlRmx5Q29udHJvbGxlcih7XG4gICAgICBwb3NpdGlvbjogZ2xtLnZlYzMuZnJvbVZhbHVlcygwLCAwLCAwKSxcbiAgICAgIGNvb3JkaW5hdGVzOiBbJ1gnLCAnWScsICdaJ10sXG4gICAgICB0aGV0YTogMCxcbiAgICAgIHBoaTogMCxcbiAgICAgIG1vdXNlU2Vuc2liaWxpdHk6IGNvbmZpZ3VyYXRpb24uY29udHJvbGxlck1vdXNlU2Vuc2liaWxpdHksXG4gICAgICBtb3ZpbmdTcGVlZDogY29uZmlndXJhdGlvbi5jb250cm9sbGVyTW92aW5nU3BlZWQsXG4gICAgICBrZXlib2FyZFNlbnNpYmlsaXR5OiBjb25maWd1cmF0aW9uLmNvbnRyb2xsZXJLZXlib2FyZFNlbnNpYmlsaXR5LFxuICAgICAgdG91Y2hTZW5zaWJpbGl0eTogY29uZmlndXJhdGlvbi5jb250cm9sbGVyVG91Y2hTZW5zaWJpbGl0eVxuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVuZGVyZXIgPSBuZXcgV2ViR0xSZW5kZXJlcih7XG4gICAgICBjYW52YXNEb21FbGVtZW50OiBjYW52YXNFbGVtZW50XG4gICAgfSk7XG5cbiAgICB0aGlzLl9jaHVua0dlbmVyYXRvciA9IG5ldyBDaHVua0dlbmVyYXRvcih7XG4gICAgICBjaHVua0dyYXBoaWNTaXplOiBjb25maWd1cmF0aW9uLmNodW5rR3JhcGhpY1NpemUsXG4gICAgICBjaHVua0dlbmVyYXRpb25SYW5nZTogY29uZmlndXJhdGlvbi5jaHVua1JhbmdlLFxuICAgICAgY2h1bmtMb2dpY1NpemU6IGNvbmZpZ3VyYXRpb24uY2h1bmtMb2dpY1NpemUsXG5cbiAgICAgIHdvcmtlclRvdGFsOiBjb25maWd1cmF0aW9uLndvcmtlclRvdGFsLFxuICAgICAgd29ya2VyRmlsZTogY29uZmlndXJhdGlvbi53b3JrZXJGaWxlLFxuXG4gICAgICBjaHVua0lzVmlzaWJsZTogKHBvczogZ2xtLlJlYWRvbmx5VmVjMykgPT4ge1xuICAgICAgICBjb25zdCBrX3NpemUgPSBjb25maWd1cmF0aW9uLmNodW5rR3JhcGhpY1NpemU7XG4gICAgICAgIGNvbnN0IGtfaFNpemUgPSBrX3NpemUgKiAwLjU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVyLmZydXN0dW1DdWxsaW5nLmN1YmVJbkZydXN0dW0oXG4gICAgICAgICAgcG9zWzBdICsga19oU2l6ZSxcbiAgICAgICAgICBwb3NbMV0gKyBrX2hTaXplLFxuICAgICAgICAgIHBvc1syXSArIGtfaFNpemUsXG4gICAgICAgICAga19zaXplXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgYWNxdWlyZUdlb21ldHJ5OiAoaW5TaXplOiBudW1iZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVyLmNodW5rc1JlbmRlcmVyLmFjcXVpcmVHZW9tZXRyeShpblNpemUpO1xuICAgICAgfSxcbiAgICAgIHJlbGVhc2VHZW9tZXRyeTogKGluR2VvbTogSUxpdmVHZW9tZXRyeSkgPT4ge1xuICAgICAgICB0aGlzLl9yZW5kZXJlci5jaHVua3NSZW5kZXJlci5yZWxlYXNlR2VvbWV0cnkoaW5HZW9tKTtcbiAgICAgIH0sXG4gICAgICBvbkNodW5rQ3JlYXRlZDogKCkgPT4ge1xuICAgICAgICArK3RoaXMuX2NodW5rc0NyZWF0ZWQ7XG4gICAgICB9LFxuICAgICAgb25DaHVua0Rpc2NhcmRlZDogKCkgPT4ge1xuICAgICAgICArK3RoaXMuX2NodW5rc0Rpc2NhcmRlZDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vXG4gICAgLy9cblxuICAgIHtcbiAgICAgIEdsb2JhbEtleWJvYXJkTWFuYWdlci5hY3RpdmF0ZSgpO1xuICAgICAgR2xvYmFsVG91Y2hNYW5hZ2VyLmFjdGl2YXRlKHRoaXMuX2NhbnZhc0VsZW1lbnQpO1xuXG4gICAgICBHbG9iYWxQb2ludGVyTG9ja01hbmFnZXIuYWxsb3dQb2ludGVyTG9ja2VkT25DbGlja0V2ZW50KGNhbnZhc0VsZW1lbnQpO1xuICAgICAgR2xvYmFsUG9pbnRlckxvY2tNYW5hZ2VyLmFkZE9uTG9ja0NoYW5nZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzTG9ja2VkID1cbiAgICAgICAgICBHbG9iYWxQb2ludGVyTG9ja01hbmFnZXIuaXNQb2ludGVyTG9ja2VkKGNhbnZhc0VsZW1lbnQpO1xuXG4gICAgICAgIGlmIChpc0xvY2tlZCkge1xuICAgICAgICAgIC8vIGdfbG9nZ2VyLmxvZygnVGhlIHBvaW50ZXIgbG9jayBzdGF0dXMgaXMgbm93IGxvY2tlZCcpO1xuXG4gICAgICAgICAgR2xvYmFsTW91c2VNYW5hZ2VyLmFjdGl2YXRlKGRvY3VtZW50LmJvZHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGdfbG9nZ2VyLmxvZygnVGhlIHBvaW50ZXIgbG9jayBzdGF0dXMgaXMgbm93IHVubG9ja2VkJyk7XG5cbiAgICAgICAgICBHbG9iYWxNb3VzZU1hbmFnZXIuZGVhY3RpdmF0ZShkb2N1bWVudC5ib2R5KTtcblxuICAgICAgICAgIEdsb2JhbFBvaW50ZXJMb2NrTWFuYWdlci5hbGxvd1BvaW50ZXJMb2NrZWRPbkNsaWNrRXZlbnQoXG4gICAgICAgICAgICBjYW52YXNFbGVtZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIEdsb2JhbFBvaW50ZXJMb2NrTWFuYWdlci5hZGRPbkxvY2tFcnJvcigoZXZlbnQpID0+IHtcbiAgICAgICAgLy8gZ19sb2dnZXIubG9nKFxuICAgICAgICAvLyAgIGBUaGUgcG9pbnRlciBsb2NrIHNlbnQgYW4gZXJyb3IsIGV2ZW50OiBcIiR7SlNPTi5zdHJpbmdpZnkoZXZlbnQpfVwiYFxuICAgICAgICAvLyApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG5cbiAgICB0aGlzLl9ydW5uaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fZXJyb3JHcmFwaGljQ29udGV4dCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fcmVuZGVyZXIuc2V0T25Db250ZXh0TG9zdCgoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnb25fY29udGV4dF9sb3N0Jyk7XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wyIGNvbnRleHQgd2FzIGxvc3QnKTtcbiAgICB9KTtcblxuICAgIC8vIHRoaXMuX3JlbmRlcmVyLnNldE9uQ29udGV4dFJlc3RvcmVkKCgpID0+IHtcbiAgICAvLyAgIGNvbnNvbGUubG9nKCdvbl9jb250ZXh0X3Jlc3RvcmVkJyk7XG4gICAgLy8gfSk7XG4gIH1cblxuICBhc3luYyBpbml0KCkge1xuICAgIGF3YWl0IHRoaXMuX3JlbmRlcmVyLmluaXQoKTtcbiAgfVxuXG4gIHJlc2l6ZShpbldpZHRoOiBudW1iZXIsIGluSGVpZ2h0OiBudW1iZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlci5yZXNpemUoaW5XaWR0aCwgaW5IZWlnaHQpO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKHRoaXMuaXNSdW5uaW5nKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9ydW5uaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMuX2NodW5rR2VuZXJhdG9yLnN0YXJ0KCk7XG5cbiAgICB0aGlzLl90aWNrKCk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIHRoaXMuX3J1bm5pbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9jaHVua0dlbmVyYXRvci5zdG9wKCk7XG4gIH1cblxuICBpc1J1bm5pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3J1bm5pbmcgJiYgIXRoaXMuX2Vycm9yR3JhcGhpY0NvbnRleHQ7XG4gIH1cblxuICAvL1xuICAvL1xuICAvL1xuXG4gIHByaXZhdGUgX3RpY2soKSB7XG4gICAgY29uc3QgdGljayA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fcnVubmluZyB8fCB0aGlzLl9lcnJvckdyYXBoaWNDb250ZXh0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gcGxhbiB0aGUgbmV4dCBmcmFtZVxuICAgICAgLy8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRpY2ssIDEwMDAgLyA2MCk7XG5cbiAgICAgIHRoaXMuX21haW5Mb29wKCk7XG4gICAgfTtcblxuICAgIHRpY2soKTtcbiAgfVxuXG4gIHByaXZhdGUgX21haW5Mb29wKCkge1xuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBlbGFwc2VkVGltZU1zZWMgPSBzeXN0ZW0ubWF0aC5jbGFtcChcbiAgICAgIGN1cnJlbnRUaW1lIC0gdGhpcy5fY3VyckZyYW1lVGltZSxcbiAgICAgIDAsXG4gICAgICAxMDAwXG4gICAgKTtcbiAgICB0aGlzLl9jdXJyRnJhbWVUaW1lID0gY3VycmVudFRpbWU7XG4gICAgdGhpcy5fZnJhbWVQcm9maWxlci5wdXNoRGVsdGEoZWxhcHNlZFRpbWVNc2VjKTtcblxuICAgIGNvbnN0IGRlbHRhVGltZVNlYyA9IGVsYXBzZWRUaW1lTXNlYyAvIDEwMDA7XG5cbiAgICAvL1xuICAgIC8vXG5cbiAgICB0aGlzLl9mcmVlRmx5Q29udHJvbGxlci51cGRhdGUoZGVsdGFUaW1lU2VjKTtcblxuICAgIHRoaXMuX3JlbmRlcmVyLmxvb2tBdChcbiAgICAgIHRoaXMuX2ZyZWVGbHlDb250cm9sbGVyLmdldFBvc2l0aW9uKCksXG4gICAgICB0aGlzLl9mcmVlRmx5Q29udHJvbGxlci5nZXRUYXJnZXQoKSxcbiAgICAgIHRoaXMuX2ZyZWVGbHlDb250cm9sbGVyLmdldFVwQXhpcygpXG4gICAgKTtcblxuICAgIHRoaXMuX3JlbmRlcmVyLnVwZGF0ZSgpO1xuXG4gICAgY29uc3QgZXllUG9zID0gdGhpcy5fZnJlZUZseUNvbnRyb2xsZXIuZ2V0UG9zaXRpb24oKTtcblxuICAgIHRoaXMuX2NodW5rR2VuZXJhdG9yLnVwZGF0ZShleWVQb3MpO1xuXG5cbiAgICBsZXQgdmlzaWJsZUNodW5rcyA9IDA7XG4gICAgdGhpcy5fY2h1bmtHZW5lcmF0b3IuZ2V0Q2h1bmtzKCkuZm9yRWFjaCgoY2h1bmspID0+IHtcbiAgICAgIGlmIChjaHVuay5pc1Zpc2libGUpIHtcbiAgICAgICAgKyt2aXNpYmxlQ2h1bmtzO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy9cbiAgICAvL1xuICAgIC8vLy8vLyByZW5kZXIgM2Qgc2NlbmVcblxuICAgIHRoaXMuX3JlbmRlcmVyLm11bHRpcGxlQnVmZmVyaW5nLmNhcHR1cmVTY2VuZSgoKSA9PiB7XG5cbiAgICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclNjZW5lKCgpID0+IHtcblxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLndpcmVGcmFtZUN1YmVzUmVuZGVyZXIuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLl9jaHVua0dlbmVyYXRvci5nZXRDaHVua3MoKS5mb3JFYWNoKChjaHVuaykgPT4ge1xuICAgICAgICAgIGlmICghY2h1bmsuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5fcmVuZGVyZXIudHJpYW5nbGVDdWJlc1JlbmRlcmVyLnB1c2hPcmlnaW5Cb3VuZEN1YmUoXG4gICAgICAgICAgICBjaHVuay5yZWFsUG9zaXRpb24sXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLmNodW5rR3JhcGhpY1NpemUsXG4gICAgICAgICAgICBbMSwgMSwgMV1cbiAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9yZW5kZXJlci50cmlhbmdsZUN1YmVzUmVuZGVyZXIuZmx1c2godGhpcy5fcmVuZGVyZXIubWFpbkNhbWVyYSk7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZXIuY2h1bmtzUmVuZGVyZXIucmVuZGVyKFxuICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLm1haW5DYW1lcmEsXG4gICAgICAgICAgdGhpcy5fcmVuZGVyZXIuZnJ1c3R1bUN1bGxpbmcsXG4gICAgICAgICAgY29uZmlndXJhdGlvbi5jaHVua0dyYXBoaWNTaXplXG4gICAgICAgICk7XG5cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cblxuICAgICAgfSk7XG5cbiAgICB9KTtcblxuICAgIC8vXG4gICAgLy9cbiAgICAvLy8vLy8gSFVEXG5cbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJIVUQoKCkgPT4ge1xuXG4gICAgICBjb25zdCBnbCA9IGdyYXBoaWNzLndlYmdsMi5XZWJHTENvbnRleHQuZ2V0Q29udGV4dCgpO1xuXG4gICAgICBnbC5jbGVhckNvbG9yKDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XG4gICAgICAvLyBnbC5jbGVhcigvKmdsLkNPTE9SX0JVRkZFUl9CSVQgfCovIGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xuXG4gICAgICAvLyB0aGUgbW9kZXJuIHdlYiBicm93c2VycyBhcmUgYWxyZWFkeSBhcHBseWluZyBkb3VibGUgYnVmZmVyaW5nXG4gICAgICAvLyAtPiBzbyB3ZSdyZSBpbiBmYWN0IHRyaXBsZSBidWZmZXJpbmcgaGVyZVxuICAgICAgLy8gLT4gd2hpY2ggaXMgZ3JlYXQgLT4gbW9yZSB0aW1lIGZvciB0aGUgV2ViR0wgcXVldWUgdG8gZmluaXNoIG9uIHRpbWVcbiAgICAgIHRoaXMuX3JlbmRlcmVyLm11bHRpcGxlQnVmZmVyaW5nLnJlbmRlckh1ZCh0aGlzLl9yZW5kZXJlci5odWRDYW1lcmEuZ2V0Q29tcG9zZWRNYXRyaXgoKSk7XG5cbiAgICAgIHRoaXMuX3JlbmRlcmVyLnN0YWNrUmVuZGVyZXJzLmNsZWFyKCk7XG4gICAgICB0aGlzLl9yZW5kZXJlci50ZXh0UmVuZGVyZXIuY2xlYXIoKTtcblxuICAgICAgLy8gdG9wIHJpZ2h0IHRleHRcbiAgICAgIHdpZGdldHMucmVuZGVyR2VuZXJhdGlvbk1ldHJpY3MoXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLmdldFNpemUoKSxcbiAgICAgICAgdGhpcy5fY2h1bmtzQ3JlYXRlZCxcbiAgICAgICAgdGhpcy5fY2h1bmtzRGlzY2FyZGVkLFxuICAgICAgICB2aXNpYmxlQ2h1bmtzLFxuICAgICAgICB0aGlzLl9yZW5kZXJlci50ZXh0UmVuZGVyZXJcbiAgICAgICk7XG5cbiAgICAgIC8vIGJvdHRvbSBsZWZ0IHRleHRcbiAgICAgIHdpZGdldHMucmVuZGVyQ3VycmVudENvb3JkaW5hdGVzKFxuICAgICAgICB0aGlzLl9yZW5kZXJlci5nZXRTaXplKCksXG4gICAgICAgIGNvbmZpZ3VyYXRpb24uY2h1bmtHcmFwaGljU2l6ZSxcbiAgICAgICAgZXllUG9zLFxuICAgICAgICB0aGlzLl9yZW5kZXJlci50ZXh0UmVuZGVyZXJcbiAgICAgICk7XG5cbiAgICAgIHtcbiAgICAgICAgY29uc3Qga2V5RXZlbnRzUG9zOiBnbG0uUmVhZG9ubHlWZWMyID0gWzcgKyAyMCwgMTY1XTtcbiAgICAgICAgY29uc3QgdG91Y2hFdmVudHNQb3M6IGdsbS5SZWFkb25seVZlYzIgPSBbNyArIDIwLCAyNjBdO1xuICAgICAgICBjb25zdCBib2FyZFBvczogZ2xtLlJlYWRvbmx5VmVjMiA9IFs3LCAzNV07XG5cbiAgICAgICAgZ3JhcGhpY3MucmVuZGVyZXJzLndpZGdldHMuYWRkQXJyb3dTdHJva2VzV2lkZ2V0cyhcbiAgICAgICAgICBrZXlFdmVudHNQb3MsXG4gICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc3RhY2tSZW5kZXJlcnMsXG4gICAgICAgICAgdGhpcy5fcmVuZGVyZXIudGV4dFJlbmRlcmVyXG4gICAgICAgICk7XG4gICAgICAgIGdyYXBoaWNzLnJlbmRlcmVycy53aWRnZXRzLmFkZEFycm93U3Ryb2tlc1dpZGdldHMoXG4gICAgICAgICAgdG91Y2hFdmVudHNQb3MsXG4gICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc3RhY2tSZW5kZXJlcnMsXG4gICAgICAgICAgdGhpcy5fcmVuZGVyZXIudGV4dFJlbmRlcmVyXG4gICAgICAgICk7XG4gICAgICAgIGdyYXBoaWNzLnJlbmRlcmVycy53aWRnZXRzLmFkZEtleXNUb3VjaGVzV2lkZ2V0cyhcbiAgICAgICAgICB0aGlzLl9jYW52YXNFbGVtZW50LFxuICAgICAgICAgIGJvYXJkUG9zLFxuICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLnN0YWNrUmVuZGVyZXJzLFxuICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLnRleHRSZW5kZXJlclxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBncmFwaGljcy5yZW5kZXJlcnMud2lkZ2V0cy5yZW5kZXJGcHNNZXRlcihcbiAgICAgICAgWzEwLCB0aGlzLl9jYW52YXNFbGVtZW50LmhlaWdodCAtIDYwLCAwXSxcbiAgICAgICAgWzEwMCwgNTBdLFxuICAgICAgICB0aGlzLl9mcmFtZVByb2ZpbGVyLFxuICAgICAgICB0aGlzLl9yZW5kZXJlci5zdGFja1JlbmRlcmVycyxcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIudGV4dFJlbmRlcmVyLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuXG4gICAgICBncmFwaGljcy5yZW5kZXJlcnMud2lkZ2V0cy5yZW5kZXJGcHNNZXRlcihcbiAgICAgICAgWzEwLCB0aGlzLl9jYW52YXNFbGVtZW50LmhlaWdodCAtIDE1MCwgMF0sXG4gICAgICAgIFsxMDAsIDUwXSxcbiAgICAgICAgdGhpcy5fY2h1bmtHZW5lcmF0b3IuZ2V0RnJhbWVQcm9maWxlcigpLFxuICAgICAgICB0aGlzLl9yZW5kZXJlci5zdGFja1JlbmRlcmVycyxcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIudGV4dFJlbmRlcmVyXG4gICAgICApO1xuXG4gICAgICB3aWRnZXRzLnJlbmRlclRvdWNoRXZlbnRzKFxuICAgICAgICB0aGlzLl9yZW5kZXJlci5nZXRTaXplKCksXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnN0YWNrUmVuZGVyZXJzLFxuICAgICAgICB0aGlzLl9mcmVlRmx5Q29udHJvbGxlci5nZXRUb3VjaE1vdmVGb3J3YXJkKClcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuX3JlbmRlcmVyLnN0YWNrUmVuZGVyZXJzLmZsdXNoKFxuICAgICAgICB0aGlzLl9yZW5kZXJlci5odWRDYW1lcmEuZ2V0Q29tcG9zZWRNYXRyaXgoKVxuICAgICAgKTtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLnRleHRSZW5kZXJlci5mbHVzaChcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIuaHVkQ2FtZXJhLmdldENvbXBvc2VkTWF0cml4KClcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuX3JlbmRlcmVyLnN0YWNrUmVuZGVyZXJzLmNsZWFyKCk7XG4gICAgICB0aGlzLl9yZW5kZXJlci50ZXh0UmVuZGVyZXIuY2xlYXIoKTtcblxuICAgICAgY29uc3Qga19taW5TY3JlZW5TaXplID0gMzAwO1xuICAgICAgY29uc3Qga19taW5WaWV3U2l6ZSA9IDE1MDtcblxuICAgICAgd2lkZ2V0cy5yZW5kZXJNaW5pTWFwKFxuICAgICAgICB0aGlzLl9yZW5kZXJlci5tYWluQ2FtZXJhLFxuICAgICAgICBrX21pblNjcmVlblNpemUsXG4gICAgICAgIGtfbWluVmlld1NpemUsXG4gICAgICAgIHRoaXMuX2NodW5rR2VuZXJhdG9yLmdldENodW5rcygpLFxuICAgICAgICBjb25maWd1cmF0aW9uLmNodW5rR3JhcGhpY1NpemUsXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLmdldFNpemUoKSxcbiAgICAgICAgdGhpcy5fY2h1bmtHZW5lcmF0b3IuZ2V0UHJvY2Vzc2luZ1JlYWxQb3NpdGlvbnMoKSxcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIud2lyZUZyYW1lQ3ViZXNSZW5kZXJlcixcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIuc3RhY2tSZW5kZXJlcnNcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuX3JlbmRlcmVyLmZsdXNoKCk7XG4gICAgfSk7XG5cbiAgfVxufVxuIiwKICAiaW1wb3J0IHsgc3lzdGVtIH0gZnJvbSAnQGxvY2FsLWZyYW1ld29yayc7XG5cbnR5cGUgUmVzaXphYmxlID0geyByZXNpemU6ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4gdm9pZCB9O1xuXG5leHBvcnQgY29uc3Qgc2V0dXBGdWxsU2NyZWVuRmVhdHVyZSA9IChcbiAgYXBwOiBSZXNpemFibGUsXG4gIGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQsXG4gIGNhbnZhc0VsZW1lbnQ6IEhUTUxDYW52YXNFbGVtZW50XG4pID0+IHtcbiAgaWYgKCFzeXN0ZW0uYnJvd3Nlci5HbG9iYWxGdWxsU2NyZWVuTWFuYWdlci5pc0NvbXBhdGlibGUoY2FudmFzRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc3lzdGVtLmJyb3dzZXIuR2xvYmFsRnVsbFNjcmVlbk1hbmFnZXIucmVxdWVzdEZ1bGxTY3JlZW4oY2FudmFzRWxlbWVudCk7XG4gIH0pO1xuXG4gIHN5c3RlbS5icm93c2VyLkdsb2JhbEZ1bGxTY3JlZW5NYW5hZ2VyLmFkZE9uRnVsbFNjcmVlbkNoYW5nZSgoKSA9PiB7XG4gICAgbGV0IGN1cnJlbnRXaWR0aCA9IG51bGw7XG4gICAgbGV0IGN1cnJlbnRIZWlnaHQgPSBudWxsO1xuXG4gICAgY29uc3QgaXNJbkZ1bGxTY3JlZW4gPVxuICAgICAgc3lzdGVtLmJyb3dzZXIuR2xvYmFsRnVsbFNjcmVlbk1hbmFnZXIuaXNGdWxsU2NyZWVuKGNhbnZhc0VsZW1lbnQpO1xuXG4gICAgaWYgKGlzSW5GdWxsU2NyZWVuKSB7XG4gICAgICBjYW52YXNFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblxuICAgICAgY3VycmVudFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICBjdXJyZW50SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW52YXNFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblxuICAgICAgY3VycmVudFdpZHRoID0gODAwO1xuICAgICAgY3VycmVudEhlaWdodCA9IDYwMDtcbiAgICB9XG5cbiAgICBjYW52YXNFbGVtZW50LnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICBjYW52YXNFbGVtZW50LnN0eWxlLnRvcCA9ICcwcHgnO1xuXG4gICAgY2FudmFzRWxlbWVudC53aWR0aCA9IGN1cnJlbnRXaWR0aDtcbiAgICBjYW52YXNFbGVtZW50LmhlaWdodCA9IGN1cnJlbnRIZWlnaHQ7XG5cbiAgICBhcHAucmVzaXplKGN1cnJlbnRXaWR0aCwgY3VycmVudEhlaWdodCk7XG4gIH0pO1xufTtcbiIsCiAgImltcG9ydCB7IHN5c3RlbSB9IGZyb20gJ0Bsb2NhbC1mcmFtZXdvcmsnO1xuXG5leHBvcnQgY29uc3Qgc2V0dXBPdXRkYXRlZFBhZ2UgPSAoXG4gIG1heER1cmF0aW9uOiBudW1iZXIsXG4gIG9uVGltZW91dDogKCkgPT4gdm9pZFxuKSA9PiB7XG4gIGlmICghc3lzdGVtLmJyb3dzZXIuR2xvYmFsVmlzaWJpbGl0eU1hbmFnZXIuaXNTdXBwb3J0ZWQoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCB0aW1lb3V0SGFuZGxlOiBudW1iZXIgPSAtMTtcblxuICBzeXN0ZW0uYnJvd3Nlci5HbG9iYWxWaXNpYmlsaXR5TWFuYWdlci5hZGRWaXNpYmlsaXR5Q2hhbmdlKChpc1Zpc2libGUpID0+IHtcbiAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICBpZiAodGltZW91dEhhbmRsZSA+PSAwKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SGFuZGxlKTtcbiAgICAgICAgdGltZW91dEhhbmRsZSA9IC0xO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aW1lb3V0SGFuZGxlID0gd2luZG93LnNldFRpbWVvdXQob25UaW1lb3V0LCBtYXhEdXJhdGlvbik7XG4gICAgfVxuICB9KTtcbiAgc3lzdGVtLmJyb3dzZXIuR2xvYmFsVmlzaWJpbGl0eU1hbmFnZXIuYWN0aXZhdGUoKTtcbn07XG4iLAogICJpbXBvcnQgeyBzeXN0ZW0gfSBmcm9tICdAbG9jYWwtZnJhbWV3b3JrJztcbmltcG9ydCB7IFdlYkdMRXhwZXJpbWVudCB9IGZyb20gJy4vZXhwZXJpbWVudC9XZWJHTEV4cGVyaW1lbnQnO1xuaW1wb3J0ICogYXMgdXRpbGl0aWVzIGZyb20gJy4vdXRpbGl0aWVzJztcblxuY29uc3QgeyBpc1dlYkdMMlN1cHBvcnRlZCwgaXNXZWJXb3JrZXJTdXBwb3J0ZWQsIEdsb2JhbEZ1bGxTY3JlZW5NYW5hZ2VyIH0gPVxuICBzeXN0ZW0uYnJvd3NlcjtcblxuY29uc3QgX3F1ZXJ5RG9tRWxlbWVudCA9IDxUIGV4dGVuZHMgRWxlbWVudD4oaW5OYW1lOiBzdHJpbmcpOiBUID0+IHtcbiAgY29uc3QgbmV3RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8VD4oaW5OYW1lKTtcbiAgaWYgKCFuZXdFbGVtZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBodG1sIGVsZW1lbnQgXCIke2luTmFtZX1cIiBub3QgZm91bmRgKTtcbiAgfVxuICByZXR1cm4gbmV3RWxlbWVudDtcbn07XG5cbmNvbnN0IG9uUGFnZUxvYWQgPSBhc3luYyAoKSA9PiB7XG4gIC8vXG4gIC8vIEhUTUwgZWxlbWVudHMgY2hlY2tcbiAgLy9cblxuICBjb25zdCBjYW52YXNFbGVtZW50ID0gX3F1ZXJ5RG9tRWxlbWVudDxIVE1MQ2FudmFzRWxlbWVudD4oJyNtYWluLWNhbnZhcycpITtcbiAgY29uc3QgZ3VpVG9nZ2xlU3RhcnQgPVxuICAgIF9xdWVyeURvbUVsZW1lbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KCcjZ3VpX3RvZ2dsZV9zdGFydCcpITtcbiAgY29uc3QgYnV0dG9uRnVsbHNjcmVlbiA9XG4gICAgX3F1ZXJ5RG9tRWxlbWVudDxIVE1MQnV0dG9uRWxlbWVudD4oJyNndWlfZnVsbHNjcmVlbicpITtcbiAgY29uc3QgZXJyb3JUZXh0ID0gX3F1ZXJ5RG9tRWxlbWVudDxIVE1MUGFyYWdyYXBoRWxlbWVudD4oJyNlcnJvci10ZXh0JykhO1xuXG4gIC8vXG4gIC8vXG4gIC8vXG5cbiAgbGV0IG1haW5EZW1vOiBXZWJHTEV4cGVyaW1lbnQgfCBudWxsID0gbnVsbDtcblxuICBjb25zdCBfb25QYWdlRXJyb3IgPSAoZXJyOiBXaW5kb3dFdmVudE1hcFsnZXJyb3InXSkgPT4ge1xuICAgIGlmIChtYWluRGVtbykge1xuICAgICAgY29uc29sZS5sb2coJ29uUGFnZUVycm9yJywgZXJyKTtcblxuICAgICAgLy8gc3RvcCB0aGUgYXBwXG4gICAgICBtYWluRGVtby5zdG9wKCk7XG4gICAgICBtYWluRGVtbyA9IG51bGw7XG5cbiAgICAgIC8vIHN0b3AgdGhlIGJyb3dzZXIgaGVscGVyc1xuICAgICAgc3lzdGVtLmJyb3dzZXIuR2xvYmFsS2V5Ym9hcmRNYW5hZ2VyLmRlYWN0aXZhdGUoKTtcbiAgICAgIHN5c3RlbS5icm93c2VyLkdsb2JhbE1vdXNlTWFuYWdlci5kZWFjdGl2YXRlKGNhbnZhc0VsZW1lbnQpO1xuICAgICAgc3lzdGVtLmJyb3dzZXIuR2xvYmFsVG91Y2hNYW5hZ2VyLmRlYWN0aXZhdGUoY2FudmFzRWxlbWVudCk7XG4gICAgICBzeXN0ZW0uYnJvd3Nlci5HbG9iYWxGdWxsU2NyZWVuTWFuYWdlci5yZW1vdmVBbGxDYWxsYmFja3MoKTtcbiAgICAgIHN5c3RlbS5icm93c2VyLkdsb2JhbFBvaW50ZXJMb2NrTWFuYWdlci5yZW1vdmVBbGxDYWxsYmFja3MoKTtcbiAgICAgIHN5c3RlbS5icm93c2VyLkdsb2JhbFZpc2liaWxpdHlNYW5hZ2VyLnJlbW92ZUFsbENhbGxiYWNrcygpO1xuICAgICAgc3lzdGVtLmJyb3dzZXIuR2xvYmFsVmlzaWJpbGl0eU1hbmFnZXIuZGVhY3RpdmF0ZSgpO1xuXG4gICAgICAvLyBzZXR1cCB0aGUgZXJyb3IgbWVzc2FnZVxuICAgICAgZXJyb3JUZXh0LnN0eWxlLndpZHRoID0gJzgwMHB4JztcbiAgICAgIGVycm9yVGV4dC5zdHlsZS5oZWlnaHQgPSAnNjAwcHgnO1xuICAgICAgZXJyb3JUZXh0LmlubmVySFRNTCA9IGVyci5tZXNzYWdlO1xuXG4gICAgICAvLyBzd2FwIHRoZSBjYW52YXMgd2l0aCB0aGUgZXJyb3IgbWVzc2FnZVxuICAgICAgY2FudmFzRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgZXJyb3JUZXh0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAvLyBkaXNhYmxlIHRoZSB1c2VyIGludGVyZmFjZVxuICAgICAgYnV0dG9uRnVsbHNjcmVlbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBndWlUb2dnbGVTdGFydC5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgIGRvY3VtZW50LnRpdGxlICs9ICcgKEVSUiknO1xuICAgIH1cbiAgfTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgX29uUGFnZUVycm9yKTtcblxuICAvL1xuICAvLyBicm93c2VyIGZlYXR1cmVzIGNoZWNrXG4gIC8vXG5cbiAgaWYgKCFpc1dlYkdMMlN1cHBvcnRlZCgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtaXNzaW5nIFdlYkdMMiBmZWF0dXJlICh1bnN1cHBvcnRlZCknKTtcbiAgfVxuICBpZiAoIWlzV2ViV29ya2VyU3VwcG9ydGVkKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21pc3NpbmcgV2ViV29ya2VyIGZlYXR1cmUgKHVuc3VwcG9ydGVkKScpO1xuICB9XG5cbiAgLy9cbiAgLy8gc2V0dXAgc3RhcnQvc3RvcCBzdXBwb3J0XG4gIC8vXG5cbiAgZ3VpVG9nZ2xlU3RhcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKCFtYWluRGVtbykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtYWluRGVtby5pc1J1bm5pbmcoKSkge1xuICAgICAgbWFpbkRlbW8uc3RvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYWluRGVtby5zdGFydCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy9cbiAgLy8gc2V0dXAgYXBwbGljYXRpb25cbiAgLy9cblxuICBtYWluRGVtbyA9IG5ldyBXZWJHTEV4cGVyaW1lbnQoY2FudmFzRWxlbWVudCk7XG5cbiAgYXdhaXQgbWFpbkRlbW8uaW5pdCgpO1xuXG4gIG1haW5EZW1vLnN0YXJ0KCk7XG5cbiAgLy9cbiAgLy9cbiAgLy9cblxuICBjb25zdCBwYWdlTWF4VGltZUludmlzaWJsZSA9IDYwICogMTAwMDsgLy8gNjBzZWNcbiAgdXRpbGl0aWVzLnNldHVwT3V0ZGF0ZWRQYWdlKHBhZ2VNYXhUaW1lSW52aXNpYmxlLCAoKSA9PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJzxici8+PGJyLz48YnIvPlRoZSBwYWdlIHdhcyBpbmFjdGl2ZSBmb3IgdG9vIGxvbmc8YnIvPjxici8+cGxlYXNlIHJlbG9hZCdcbiAgICApO1xuICB9KTtcblxuICB1dGlsaXRpZXMuc2V0dXBGdWxsU2NyZWVuRmVhdHVyZShtYWluRGVtbywgYnV0dG9uRnVsbHNjcmVlbiwgY2FudmFzRWxlbWVudCk7XG59O1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uUGFnZUxvYWQpO1xuIgogIF0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQU0sbUJBQTZCO0FBQUEsRUFDakM7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFDRjtBQUVBLElBQU0sa0JBQTRCO0FBQUEsRUFDaEM7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFDRjtBQVNBO0FBQUEsTUFBTSxrQkFBa0I7QUFBQSxFQUNkLCtCQUFtRCxDQUFDO0FBQUEsRUFFcEQsaUJBQTBCO0FBQUEsRUFFMUIsV0FBVyxHQUFHO0FBQ3BCLFFBQUksS0FBSyxnQkFBZ0I7QUFDdkI7QUFBQSxJQUNGO0FBQ0EsU0FBSyxpQkFBaUI7QUFFdEIsVUFBTSxlQUFlLE1BQU07QUFDekIsV0FBSyw2QkFBNkIsUUFBUSxDQUFDLGFBQWEsU0FBUyxDQUFDO0FBQUE7QUFHcEUsZUFBVyxhQUFhO0FBQWlCLGVBQVMsaUJBQWlCLFdBQVcsY0FBYyxLQUFLO0FBQUE7QUFBQSxFQUtuRyxZQUFZLENBQUMsaUJBQThCO0FBQ3pDLGVBQVcsYUFBYSxrQkFBa0I7QUFDeEMsVUFBSSxhQUFhLGlCQUFpQjtBQUNoQyxlQUFPO0FBQUEsTUFDVDtBQUFBLElBQ0Y7QUFDQSxXQUFPO0FBQUE7QUFBQSxFQUtULFlBQVksQ0FBQyxpQkFBOEI7QUFDekMsV0FBTyxTQUFTLHNCQUFzQjtBQUFBO0FBQUEsT0FLbEMsa0JBQWlCLENBQUMsaUJBQWdEO0FBQ3RFLFFBQUksS0FBSyxhQUFhLGVBQWUsR0FBRztBQUN0QyxhQUFPLEVBQUUsU0FBUyxPQUFPLFNBQVMsaUNBQWlDO0FBQUEsSUFDckU7QUFFQSxTQUFLLFlBQVk7QUFFakIsZUFBVyxhQUFhLGtCQUFrQjtBQUN4QyxVQUFJLGFBQWEsaUJBQWlCO0FBQ2hDLFFBQUMsZ0JBQXdCLFdBQVc7QUFFcEMsZUFBTyxFQUFFLFNBQVMsTUFBTSxTQUFTLCtCQUErQjtBQUFBLE1BQ2xFO0FBQUEsSUFDRjtBQUVBLFdBQU8sRUFBRSxTQUFTLE9BQU8sU0FBUyxzQ0FBc0M7QUFBQTtBQUFBLEVBSzFFLHFCQUFxQixDQUFDLFlBQThCO0FBQ2xELFNBQUssNkJBQTZCLEtBQUssVUFBVTtBQUFBO0FBQUEsRUFFbkQsd0JBQXdCLENBQUMsWUFBOEI7QUFDckQsVUFBTSxRQUFRLEtBQUssNkJBQTZCLFFBQVEsVUFBVTtBQUNsRSxRQUFJLFFBQVEsR0FBRztBQUNiO0FBQUEsSUFDRjtBQUNBLFNBQUssNkJBQTZCLE9BQU8sT0FBTyxDQUFDO0FBQUE7QUFBQSxFQUVuRCxrQkFBa0IsR0FBRztBQUNuQixTQUFLLDZCQUE2QixTQUFTO0FBQUE7QUFFL0M7QUFFQSxJQUFNLDBCQUEwQixJQUFJOztBQzdGN0IsSUFBTSxjQUFjO0FBQUEsRUFFekIsTUFBTTtBQUFBLEVBQ04sTUFBTTtBQUFBLEVBQ04sTUFBTTtBQUFBLEVBQ04sTUFBTTtBQUFBLEVBQ04sTUFBTTtBQUFBLEVBQ04sTUFBTTtBQUFBLEVBQ04sTUFBTTtBQUFBLEVBQ04sTUFBTTtBQUFBLEVBQ04sTUFBTTtBQUFBLEVBQ04sTUFBTTtBQUFBLEVBQ04sR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBQ0gsR0FBRztBQUFBLEVBR0gsV0FBVztBQUFBLEVBQ1gsT0FBTztBQUFBLEVBQ1AsT0FBTztBQUFBLEVBQ1AsT0FBTztBQUFBLEVBQ1AsUUFBUTtBQUFBLEVBQ1IsV0FBVztBQUFBLEVBQ1gsYUFBYTtBQUFBLEVBQ2IsV0FBVztBQUFBLEVBQ1gsY0FBYztBQUFBLEVBQ2QsT0FBTztBQUFBLEVBR1AsT0FBTztBQUFBLEVBQ1AsTUFBTTtBQUFBLEVBQ04sS0FBSztBQUFBLEVBQ0wsVUFBVTtBQUFBLEVBR1YsS0FBSztBQUFBLEVBQ0wsT0FBTztBQUFBLEVBQ1AsT0FBTztBQUFBLEVBQ1AsUUFBUTtBQUFBLEVBQ1IsT0FBTztBQUFBLEVBQ1AsUUFBUTtBQUFBLEVBQ1IsVUFBVTtBQUFBLEVBQ1YsS0FBSztBQUFBLEVBQ0wsTUFBTTtBQUFBLEVBQ04sV0FBVztBQUFBLEVBQ1gsU0FB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QUksS0FBSyxFQUFFO0FBQ1gsUUFBSSxLQUFLO0FBQ1QsUUFBSSxLQUFLLEVBQUU7QUFDWCxRQUFJLEtBQUssRUFBRTtBQUNYLFFBQUksS0FBSztBQUNULFFBQUksS0FBSztBQUNULFFBQUksTUFBTSxFQUFFO0FBQ1osUUFBSSxNQUFNO0FBQ1YsUUFBSSxNQUFNO0FBQ1YsUUFBSSxNQUFNO0FBQUEsRUFDWixPQUFPO0FBQ0wsUUFBSSxLQUFLLEVBQUU7QUFDWCxRQUFJLEtBQUssRUFBRTtBQUNYLFFBQUksS0FBSyxFQUFFO0FBQ1gsUUFBSSxLQUFLLEVBQUU7QUFDWCxRQUFJLEtBQUssRUFBRTtBQUNYLFFBQUksS0FBSyxFQUFFO0FBQ1gsUUFBSSxLQUFLLEVBQUU7QUFDWCxRQUFJLEtBQUssRUFBRTtBQUNYLFFBQUksS0FBSyxFQUFFO0FBQ1gsUUFBSSxLQUFLLEVBQUU7QUFDWCxRQUFJLE1BQU0sRUFBRTtBQUNaLFFBQUksTUFBTSxFQUFFO0FBQ1osUUFBSSxNQUFNLEVBQUU7QUFDWixRQUFJLE1BQU0sRUFBRTtBQUNaLFFBQUksTUFBTSxFQUFFO0FBQ1osUUFBSSxNQUFNLEVBQUU7QUFBQTtBQUdkLFNBQU87QUFBQTtBQVVGLFNBQVMsTUFBTSxDQUFDLEtBQUssR0FBRztBQUM3QixNQUFJLE1BQU0sRUFBRSxJQUNSLE1BQU0sRUFBRSxJQUNSLE1BQU0sRUFBRSxJQUNSLE1BQU0sRUFBRTtBQUNaLE1BQUksTUFBTSxFQUFFLElBQ1IsTUFBTSxFQUFFLElBQ1IsTUFBTSxFQUFFLElBQ1IsTUFBTSxFQUFFO0FBQ1osTUFBSSxNQUFNLEVBQUUsSUFDUixNQUFNLEVBQUUsSUFDUixNQUFNLEVBQUUsS0FDUixNQUFNLEVBQUU7QUFDWixNQUFJLE1BQU0sRUFBRSxLQUNSLE1BQU0sRUFBRSxLQUNSLE1BQU0sRUFBRSxLQUNSLE1BQU0sRUFBRTtBQUNaLE1BQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixNQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsTUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLE1BQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixNQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsTUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLE1BQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixNQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsTUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLE1BQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixNQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsTUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBRTVCLE1BQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFFNUUsT0FBSyxLQUFLO0FBQ1IsV0FBTztBQUFBLEVBQ1Q7QUFFQSxRQUFNLElBQU07QUFDWixNQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsTUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLE1BQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxNQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsTUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLE1BQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxNQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsTUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLE1BQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUMvQyxNQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDL0MsTUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELE1BQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxNQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsTUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELE1BQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTztBQUNoRCxNQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU87QUFDaEQsU0FBTztBQUFBO0FBVUYsU0FBUyxPQUFPLENBQUMsS0FBSyxHQUFHO0FBQzlCLE1BQUksTUFBTSxFQUFFLElBQ1IsTUFBTSxFQUFFLElBQ1IsTUFBTSxFQUFFLElBQ1IsTUFBTSxFQUFFO0FBQ1osTUFBSSxNQUFNLEVBQUUsSUFDUixNQUFNLEVBQUUsSUFDUixNQUFNLEVBQUUsSUFDUixNQUFNLEVBQUU7QUFDWixNQUFJLE1BQU0sRUFBRSxJQUNSLE1BQU0sRUFBRSxJQUNSLE1BQU0sRUFBRSxLQUNSLE1BQU0sRUFBRTtBQUNaLE1BQUksTUFBTSxFQUFFLEtBQ1IsTUFBTSxFQUFFLEtBQ1IsTUFBTSxFQUFFLEtBQ1IsTUFBTSxFQUFFO0FBQ1osTUFBSSxLQUFLLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNsRyxNQUFJLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLE1BQUksS0FBSyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsTUFBSSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxNQUFJLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLE1BQUksS0FBSyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsTUFBSSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxNQUFJLEtBQUssT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLE1BQUksS0FBSyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsTUFBSSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxNQUFJLE1BQU0sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ25HLE1BQUksUUFBUSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDckcsTUFBSSxRQUFRLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNyRyxNQUFJLE1BQU0sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ25HLE1BQUksUUFBUSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDckcsTUFBSSxNQUFNLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNuRyxTQUFPO0FBQUE7QUFTRixTQUFTLFdBQVcsQ0FBQyxHQUFHO0FBQzdCLE1BQUksTUFBTSxFQUFFLElBQ1IsTUFBTSxFQUFFLElBQ1IsTUFBTSxFQUFFLElBQ1IsTUFBTSxFQUFFO0FBQ1osTUFBSSxNQUFNLEVBQUUsSUFDUixNQUFNLEVBQUUsSUFDUixNQUFNLEVBQUUsSUFDUixNQUFNLEVBQUU7QUFDWixNQUFJLE1BQU0sRUFBRSxJQUNSLE1BQU0sRUFBRSxJQUNSLE1BQU0sRUFBRSxLQUNSLE1BQU0sRUFBRTtBQUNaLE1BQUksTUFBTSxFQUFFLEtBQ1IsTUFBTSxFQUFFLEtBQ1IsTUFBTSxFQUFFLEtBQ1IsTUFBTSxFQUFFO0FBQ1osTUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLE1BQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixNQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsTUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLE1BQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixNQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsTUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLE1BQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixNQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsTUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLE1BQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixNQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFFNUIsU0FBTyxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFBQTtBQVdwRSxTQUFTLFFBQVEsQ0FBQyxLQUFLLEdBQUcsR0FBRztBQUNsQyxNQUFJLE1BQU0sRUFBRSxJQUNSLE1BQU0sRUFBRSxJQUNSLE1BQU0sRUFBRSxJQUNSLE1BQU0sRUFBRTtBQUNaLE1BQUksTUFBTSxFQUFFLElBQ1IsTUFBTSxFQUFFLElBQ1IsTUFBTSxFQUFFLElBQ1IsTUFBTSxFQUFFO0FBQ1osTUFBSSxNQUFNLEVBQUUsSUFDUixNQUFNLEVBQUUsSUFDUixNQUFNLEVBQUUsS0FDUixNQUFNLEVBQUU7QUFDWixNQUFJLE1BQU0sRUFBRSxLQUNSLE1BQU0sRUFBRSxLQUNSLE1BQU0sRUFBRSxLQUNSLE1BQU0sRUFBRTtBQUVaLE1BQUksS0FBSyxFQUFFLElBQ1AsS0FBSyxFQUFFLElBQ1AsS0FBSyxFQUFFLElBQ1AsS0FBSyxFQUFFO0FBQ1gsTUFBSSxLQUFLLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsTUFBSSxLQUFLLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsTUFBSSxLQUFLLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsTUFBSSxLQUFLLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsT0FBSyxFQUFFO0FBQ1AsT0FBSyxFQUFFO0FBQ1AsT0FBSyxFQUFFO0FBQ1AsT0FBSyxFQUFFO0FBQ1AsTUFBSSxLQUFLLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsTUFBSSxLQUFLLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsTUFBSSxLQUFLLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsTUFBSSxLQUFLLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsT0FBSyxFQUFFO0FBQ1AsT0FBSyxFQUFFO0FBQ1AsT0FBSyxFQUFFO0FBQ1AsT0FBSyxFQUFFO0FBQ1AsTUFBSSxLQUFLLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsTUFBSSxLQUFLLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsTUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsTUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsT0FBSyxFQUFFO0FBQ1AsT0FBSyxFQUFFO0FBQ1AsT0FBSyxFQUFFO0FBQ1AsT0FBSyxFQUFFO0FBQ1AsTUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsTUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsTUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsTUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsU0FBTztBQUFBO0FBV0YsU0FBUyxTQUFTLENBQUMsS0FBSyxHQUFHLEdBQUc7QUFDbkMsTUFBSSxJQUFJLEVBQUUsSUFDTixJQUFJLEVBQUUsSUFDTixJQUFJLEVBQUU7QUFDVixNQUFJLEtBQUssS0FBSyxLQUFLO0FBQ25CLE1BQUksS0FBSyxLQUFLLEtBQUs7QUFDbkIsTUFBSSxLQUFLLEtBQUssS0FBSztBQUVuQixNQUFJLE1BQU0sS0FBSztBQUNiLFFBQUksTUFBTSxFQUFFLEtBQUssSUFBSSxFQUFFLEtBQUssSUFBSSxFQUFFLEtBQUssSUFBSSxFQUFFO0FBQzdDLFFBQUksTUFBTSxFQUFFLEtBQUssSUFBSSxFQUFFLEtBQUssSUFBSSxFQUFFLEtBQUssSUFBSSxFQUFFO0FBQzdDLFFBQUksTUFBTSxFQUFFLEtBQUssSUFBSSxFQUFFLEtBQUssSUFBSSxFQUFFLE1BQU0sSUFBSSxFQUFFO0FBQzlDLFFBQUksTUFBTSxFQUFFLEtBQUssSUFBSSxFQUFFLEtBQUssSUFBSSxFQUFFLE1BQU0sSUFBSSxFQUFFO0FBQUEsRUFDaEQsT0FBTztBQUNMLFVBQU0sRUFBRTtBQUNSLFVBQU0sRUFBRTtBQUNSLFVBQU0sRUFBRTtBQUNSLFVBQU0sRUFBRTtBQUNSLFVBQU0sRUFBRTtBQUNSLFVBQU0sRUFBRTtBQUNSLFVBQU0sRUFBRTtBQUNSLFVBQU0sRUFBRTtBQUNSLFVBQU0sRUFBRTtBQUNSLFVBQU0sRUFBRTtBQUNSLFVBQU0sRUFBRTtBQUNSLFVBQU0sRUFBRTtBQUNSLFFBQUksS0FBSztBQUNULFFBQUksS0FBSztBQUNULFFBQUksS0FBSztBQUNULFFBQUksS0FBSztBQUNULFFBQUksS0FBSztBQUNULFFBQUksS0FBSztBQUNULFFBQUksS0FBSztBQUNULFFBQUksS0FBSztBQUNULFFBQUksS0FBSztBQUNULFFBQUksS0FBSztBQUNULFFBQUksTUFBTTtBQUNWLFFBQUksTUFBTTtBQUNWLFFBQUksTUFBTSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFO0FBQzFDLFFBQUksTUFBTSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFO0FBQzFDLFFBQUksTUFBTSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFO0FBQzFDLFFBQUksTUFBTSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFO0FBQUE7QUFHNUMsU0FBTztBQUFBO0FBV0YsU0FBUyxLQUFLLENBQUMsS0FBSyxHQUFHLEdBQUc7QUFDL0IsTUFBSSxJQUFJLEVBQUUsSUFDTixJQUFJLEVBQUUsSUFDTixJQUFJLEVBQUU7QUFDVixNQUFJLEtBQUssRUFBRSxLQUFLO0FBQ2hCLE1BQUksS0FBSyxFQUFFLEtBQUs7QUFDaEIsTUFBSSxLQUFLLEVBQUUsS0FBSztBQUNoQixNQUFJLEtBQUssRUFBRSxLQUFLO0FBQ2hCLE1BQUksS0FBSyxFQUFFLEtBQUs7QUFDaEIsTUFBSSxLQUFLLEVBQUUsS0FBSztBQUNoQixNQUFJLEtBQUssRUFBRSxLQUFLO0FBQ2hCLE1BQUksS0FBSyxFQUFFLEtBQUs7QUFDaEIsTUFBSSxLQUFLLEVBQUUsS0FB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TTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLFNBQU87QUFBQTtBQWNGLFNBQVMsYUFBYSxDQUFDLEtBQUssS0FBSztBQUN0QyxNQUFJLElBQUksS0FBSyxJQUFJLEdBQUc7QUFDcEIsTUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHO0FBRXBCLE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksTUFBTTtBQUNWLE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLFNBQU87QUFBQTtBQWNGLFNBQVMsYUFBYSxDQUFDLEtBQUssS0FBSztBQUN0QyxNQUFJLElBQUksS0FBSyxJQUFJLEdBQUc7QUFDcEIsTUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHO0FBRXBCLE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksTUFBTTtBQUNWLE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLFNBQU87QUFBQTtBQWtCRixTQUFTLHVCQUF1QixDQUFDLEtBQUssR0FBRyxHQUFHO0FBRWpELE1BQUksSUFBSSxFQUFFLElBQ04sSUFBSSxFQUFFLElBQ04sSUFBSSxFQUFFLElBQ04sSUFBSSxFQUFFO0FBQ1YsTUFB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QU07QUFDVixNQUFJLE1BQU07QUFDVixNQUFJLE1BQU0sRUFBRSxLQUFLLE1BQU0sT0FBTyxLQUFLLE9BQU8sS0FBSyxPQUFPO0FBQ3RELE1BQUksTUFBTSxFQUFFLEtBQUssTUFBTSxPQUFPLEtBQUssT0FBTyxLQUFLLE9BQU87QUFDdEQsTUFBSSxNQUFNLEVBQUUsS0FBSyxNQUFNLE9BQU8sS0FBSyxPQUFPLEtBQUssUUFBUTtBQUN2RCxNQUFJLE1BQU07QUFDVixTQUFPO0FBQUE7QUFXRixTQUFTLFFBQVEsQ0FBQyxLQUFLLEdBQUc7QUFDL0IsTUFBSSxJQUFJLEVBQUUsSUFDTixJQUFJLEVBQUUsSUFDTixJQUFJLEVBQUUsSUFDTixJQUFJLEVBQUU7QUFDVixNQUFJLEtBQUssSUFBSTtBQUNiLE1BQUksS0FBSyxJQUFJO0FBQ2IsTUFBSSxLQUFLLElBQUk7QUFDYixNQUFJLEtBQUssSUFBSTtBQUNiLE1BQUksS0FBSyxJQUFJO0FBQ2IsTUFBSSxLQUFLLElBQUk7QUFDYixNQUFJLEtBQUssSUFBSTtBQUNiLE1BQUksS0FBSyxJQUFJO0FBQ2IsTUFBSSxLQUFLLElBQUk7QUFDYixNQUFJLEtBQUssSUFBSTtBQUNiLE1BQUksS0FBSyxJQUFJO0FBQ2IsTUFBSSxLQUFLLElBQUk7QUFDYixNQUFJLEtBQUssSUFBSSxLQUFLO0FBQ2xCLE1BQUksS0FBSyxLQUFLO0FBQ2QsTUFBSSxLQUFLLEtBQUs7QUFDZCxNQUFJLEtBQUs7QUFDVCxNQUFJLEtBQUssS0FBSztBQUNkLE1BQUksS0FBSyxJQUFJLEtBQUs7QUFDbEIsTUFBSSxLQUFLLEtBQUs7QUFDZCxNQUFJLEtBQUs7QUFDVCxNQUFJLEtBQUssS0FBSztBQUNkLE1BQUksS0FBSyxLQUFLO0FBQ2QsTUFBSSxNQUFNLElBQUksS0FBSztBQUNuQixNQUFJLE1BQU07QUFDVixNQUFJLE1BQU07QUFDVixNQUFJLE1BQU07QUFDVixNQUFJLE1BQU07QUFDVixNQUFJLE1BQU07QUFDVixTQUFPO0FBQUE7QUFlRixTQUFTLE9BQU8sQ0FBQyxLQUFLLE1BQU0s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QUFNO0FBQUEsRUFDUjtBQUVBLE1BQUksS0FBSyxNQUFNLEtBQUssTUFBTSxJQUN0QixLQUFLLE1BQU0sS0FBSyxNQUFNLElBQ3RCLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDMUIsUUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFFL0IsTUFBSSxNQUFNLEdBQUc7QUFDWCxVQUFNLElBQUksS0FBSyxLQUFLLEdBQUc7QUFDdkIsVUFBTTtBQUNOLFVBQU07QUFDTixVQUFNO0FBQUEsRUFDUjtBQUVBLE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSyxLQUFLLEtBQUssS0FBSztBQUN4QixNQUFJLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDeEIsTUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQ3hCLE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksS0FBSztBQUNULE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLE1BQUksTUFBTTtBQUNWLFNBQU87QUFBQTtBQVNGLFNBQVMsR0FBRyxDQUFDLEdBQUc7QUFDckIsU0FBTyxVQUFVLEVBQUUsS0FBSyxPQUFPLEVBQUUsS0FBSyxPQUFPLEVBQUUsS0FBSyxPQUFPLEVBQUUsS0FBSyxPQUFPLEVBQUUsS0FBSyxPQUFPLEVBQUUsS0FBSyxPQUFPLEVBQUUsS0FBSyxPQUFPLEVBQUUsS0FBSyxPQUFPLEVBQUUsS0FBSyxPQUFPLEVBQUUsS0FBSyxPQUFPLEVBQUUsTUFBTSxPQUFPLEVBQUUsTUFBTSxPQUFPLEVBQUUsTUFBTSxPQUFPLEVBQUUsTUFBTSxPQUFPLEVBQUUsTUFBTSxPQUFPLEVBQUUsTUFBTTtBQUFBO0FBUzNPLFNBQVMsSUFBSSxDQUFDLEdBQUc7QUFDdEIsU0FBTyxLQUFLLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHO0FBQUE7QUFXakgsU0FBUyxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUc7QUFDN0IsTUFBSSxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ2xCLE1BQUksS0FBSyxFQUFFLEtBQUssRUFBRTtBQUNsQixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDbEIsTUFBSSxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ2xCLE1BQUksS0FBSyxFQUFFLEtBQUssRUFBRTtBQUNsQixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDbEIsTUFBSSxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ2xCLE1BQUksS0FBSyxFQUFFLEtBQUssRUFBRTtBQUNsQixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDbEIsTUFBSSxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ2xCLE1BQUksTUFBTSxFQUFFLE1BQU0sRUFBRTtBQUNwQixNQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDcEIsTUFBSSxNQUFNLEVBQUUsTUFBTSxFQUFFO0FBQ3BCLE1BQUksTUFBTSxFQUFFLE1BQU0sRUFBRTtBQUNwQixNQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDcEIsTUFBSSxNQUFNLEVBQUUsTUFBTSxFQUFFO0FBQ3BCLFNBQU87QUFBQTtBQVdGLFNBQVMsUUFBUSxDQUFDLEtBQUssR0FBRyxHQUFHO0FBQ2xDLE1BQUksS0FBSyxFQUFFLEtBQUssRUFBRTtBQUNsQixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDbEIsTUFBSSxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ2xCLE1BQUksS0FBSyxFQUFFLEtBQUssRUFBRTtBQUNsQixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDbEIsTUFBSSxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ2xCLE1BQUksS0FBSyxFQUFFLEtBQUssRUFBRTtBQUNsQixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDbEIsTUFBSSxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ2xCLE1BQUksS0FBSyxFQUFFLEtBQUssRUFBRTtBQUNsQixNQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDcEIsTUFBSSxNQUFNLEVBQUUsTUFBTSxFQUFFO0FBQ3BCLE1BQUksTUFBTSxFQUFFLE1BQU0sRUFBRTtBQUNwQixNQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDcEIsTUFBSSxNQUFNLEVBQUUsTUFBTSxFQUFFO0FBQ3BCLE1BQUksTUFBTSxFQUFFLE1BQU0sRUFBRTtBQUNwQixTQUFPO0FBQUE7QUFXRixTQUFTLGNBQWMsQ0FBQyxLQUFLLEdBQUcsR0FBRztBQUN4QyxNQUFJLEtBQUssRUFBRSxLQUFLO0FBQ2hCLE1BQUksS0FBSyxFQUFFLEtBQUs7QUFDaEIsTUFBSSxLQUFLLEVBQUUsS0FBSztBQUNoQixNQUFJLEtBQUssRUFBRSxLQUFLO0FBQ2hCLE1BQUksS0FBSyxFQUFFLEtBQUs7QUFDaEIsTUFBSSxLQUFLLEVBQUUsS0FBSztBQUNoQixNQUFJLEtBQUssRUFBRSxLQUFLO0FBQ2hCLE1BQUksS0FBSyxFQUFFLEtBQUs7QUFDaEIsTUFBSSxLQUFLLEVBQUUsS0FBSztBQUNoQixNQUFJLEtBQUssRUFBRSxLQUFLO0FBQ2hCLE1BQUksTUFBTSxFQUFFLE1BQU07QUFDbEIsTUFBSSxNQUFNLEVBQUUsTUFBTTtBQUNsQixNQUFJLE1BQU0sRUFBRSxNQUFNO0FBQ2xCLE1BQUksTUFBTSxFQUFFLE1BQU07QUFDbEIsTUFBSSxNQUFNLEVBQUUsTUFBTTtBQUNsQixNQUFJLE1BQU0sRUFBRSxNQUFNO0FBQ2xCLFNBQU87QUFBQTtBQVlGLFNBQVMsb0JBQW9CLENBQUMsS0FBSyxHQUFHLEdBQUcsUUFBTztBQUNyRCxNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSztBQUN2QixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSztBQUN2QixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSztBQUN2QixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSztBQUN2QixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSztBQUN2QixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSztBQUN2QixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSztBQUN2QixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSztBQUN2QixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSztBQUN2QixNQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSztBQUN2QixNQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTTtBQUMxQixNQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTTtBQUMxQixNQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTTtBQUMxQixNQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTTtBQUMxQixNQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTTtBQUMxQixNQUFJLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTTtBQUMxQixTQUFPO0FBQUE7QUFVRixTQUFTLFdBQVcsQ0FBQyxHQUFHLEdBQUc7QUFDaEMsU0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRTtBQUFBO0FBVXZSLFNBQVMsTUFBTSxDQUFDLEdBQUcsR0FBRztBQUMzQixNQUFJLEtBQUssRUFBRSxJQUNQLEtBQUssRUFBRSxJQUNQLEtBQUssRUFBRSxJQUNQLEtBQUssRUFBRTtBQUNYLE1BQUksS0FBSyxFQUFFLElBQ1AsS0FBSyxFQUFFLElBQ1AsS0FBSyxFQUFFLElBQ1AsS0FBSyxFQUFFO0FBQ1gsTUFBSSxLQUFLLEVBQUUsSUFDUCxLQUFLLEVBQUUsSUFDUCxNQUFNLEVBQUUsS0FDUixNQUFNLEVBQUU7QUFDWixNQUFJLE1BQU0sRUFBRSxLQUNSLE1BQU0sRUFBRSxLQUNSLE1BQU0sRUFBRSxLQUNSLE1BQU0sRUFBRTtBQUNaLE1BQUksS0FBSyxFQUFFLElBQ1AsS0FBSyxFQUFFLElBQ1AsS0FBSyxFQUFFLElBQ1AsS0FBSyxFQUFFO0FBQ1gsTUFBSSxLQUFLLEVBQUUsSUFDUCxLQUFLLEVBQUUsSUFDUCxLQUFLLEVBQUUsSUFDUCxLQUFLLEVBQUU7QUFDWCxNQUFJLEtBQUssRUFBRSxJQUNQLEtBQUssRUFBRSxJQUNQLE1BQU0sRUFBRSxLQUNSLE1BQU0sRUFBRTtBQUNaLE1BQUksTUFBTSxFQUFFLEtBQ1IsTUFBTSxFQUFFLEtBQ1IsTUFBTSxFQUFFLEtBQ1IsTUFBTSxFQUFFO0FBQ1osU0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxL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LEtBQUssQ0FBQyxLQUFLLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDN0MsQ0FBQyxLQUFLLENBQUMsS0FBSyxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzdDLENBQUMsS0FBSyxDQUFDLEtBQUssV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM3QyxDQUFDLEtBQUssQ0FBQyxLQUFLLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDN0MsQ0FBQyxLQUFLLENBQUMsS0FBSyxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzdDLENBQUMsS0FBSyxDQUFDLEtBQUssV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUU3QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzdDLENBQUMsS0FBSyxDQUFDLEtBQUssV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM3QyxDQUFDLEtBQUssQ0FBQyxLQUFLLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDN0MsQ0FBQyxLQUFLLENBQUMsS0FBSyxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzdDLENBQUMsS0FBSyxDQUFDLEtBQUssV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM3QyxDQUFDLEtBQUssQ0FBQyxLQUFLLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFFN0MsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLEtBQUssV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM3QyxDQUFDLEtBQUssQ0FBQyxLQUFLLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDN0MsQ0FBQyxLQUFLLENBQUMsS0FBSyxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzdDLENBQUMsS0FBSyxDQUFDLEtBQUssV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM3QyxDQUFDLEtBQUssQ0FBQyxLQUFLLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDN0MsQ0FBQyxLQUFLLENBQUMsS0FBSyxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BRTdDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxLQUFLLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDN0MsQ0FBQyxLQUFLLENBQUMsS0FBSyxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzdDLENBQUMsTUFBTSxDQUFDLEtBQUssV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM5QyxDQUFDLEtBQUssQ0FBQyxLQUFLLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDN0MsQ0FBQyxLQUFLLENBQUMsS0FBSyxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzdDLENBQUMsS0FBSyxDQUFDLEtBQUssV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUU3QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzdDLENBQUMsS0FBSyxDQUFDLEtBQUssV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM3QyxDQUFDLEtBQUssQ0FBQyxLQUFLLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDN0MsQ0FBQyxLQUFLLENBQUMsS0FBSyxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzdDLENBQUMsS0FBSyxDQUFDLEtBQUssV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM3QyxDQUFDLEtBQUssQ0FBQyxLQUFLLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFFN0MsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLElBQUksV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM1QyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDNUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzVDLENBQUMsS0FBSyxDQUFDLEtBQUssV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM3QyxDQUFDLEtBQUssQ0FBQyxLQUFLLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsTUFDN0MsQ0FBQyxLQUFLLENBQUMsS0FBSyxXQUFXLElBQUksSUFBSSxXQUFXLEVBQUUsQ0FBQztBQUFBLE1BQzdDLENBQUMsS0FBSyxDQUFDLEtBQUssV0FBVyxJQUFJLElBQUksV0FBVyxFQUFFLENBQUM7QUFBQSxNQUM3QyxDQUFDLEtBQUssQ0FBQyxLQUFLLFdBQVcsSUFBSSxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQUEsSUFDL0MsQ0FBQztBQUVELFVBQU0sUUFBUTtBQUNkLFVBQU0sU0FBUztBQUNmLFVBQU0sY0FBYyxJQUFJLFdBQVcsUUFBUSxTQUFTLENBQUM7QUFDckQ7QUFDRSxVQUFJLFFBQVE7QUFDWixlQUFTLEtBQUssRUFBRyxLQUFLLGdCQUFnQixRQUFRLE1BQU0sR0FBRztBQUNyRCxZQUFJLFdBQVcsU0FBUyxHQUFHLGdCQUFnQixVQUFVLElBQUksS0FBSyxDQUFDLFdBQVcsRUFBRSxLQUFLO0FBRWpGLFlB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QUFLLHNCQUFxQixHQUFHO0FBQzNCLFVBQU0sSUFBSSxNQUFNLHlDQUF5QztBQUFBLEVBQzNEO0FBTUEsaUJBQWUsaUJBQWlCLFNBQVMsTUFBTTtBQUM3QyxTQUFLLFVBQVU7QUFDYjtBQUFBLElBQ0Y7QUFFQSxRQUFJLFNBQVMsVUFBVSxHQUFHO0FBQ3hCLGVBQVMsS0FBSztBQUFBLElBQ2hCLE9BQU87QUFDTCxlQUFTLE1BQU07QUFBQTtBQUFBLEdBRWxCO0FBTUQsYUFBVyxJQUFJLGdCQUFnQixhQUFhO0FBRTVDLFFBQU0sU0FBUyxLQUFLO0FBRXBCLFdBQVMsTUFBTTtBQU1mLFFBQU0sdUJBQXVCO0FBQzdCLEVBQVUsa0JBQWtCLHNCQUFzQixNQUFNO0FBQ3RELFVBQU0sSUFBSSxNQUNSLDBFQUNGO0FBQUEsR0FDRDtBQUVELEVBQVUsdUJBQXVCLFVBQVUsa0JBQWtCLGFBQWE7QUFBQTtBQUc1RSxPQUFPLGlCQUFpQixRQUFRLFVBQVU7IiwKICAiZGVidWdJZCI6ICJEOEJFQTM0MzU2OUNDOTM1NjQ3NTZlMjE2NDc1NmUyMSIsCiAgIm5hbWVzIjogW10KfQ==
